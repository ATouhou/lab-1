<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<title>CSCE 2410 - PHP Programming</title>
<!-- metadata -->
<meta name="generator" content="S5" />
<meta name="version" content="S5 1.1" />
<meta name="presdate" content="20050728" />
<meta name="author" content="Eric A. Meyer" />
<meta name="company" content="Complex Spiral Consulting" />
<!-- configuration parameters -->
<meta name="defaultView" content="slideshow" />
<meta name="controlVis" content="hidden" />
<!-- style sheet links -->
<link rel="stylesheet" href="ui/default/slides.css" type="text/css" media="projection" id="slideProj" />
<link rel="stylesheet" href="ui/default/outline.css" type="text/css" media="screen" id="outlineStyle" />
<link rel="stylesheet" href="ui/default/print.css" type="text/css" media="print" id="slidePrint" />
<link rel="stylesheet" href="ui/default/opera.css" type="text/css" media="projection" id="operaFix" />
<!-- S5 JS -->
<script src="ui/default/slides.js" type="text/javascript"></script>
</head>
<body>

<div class="layout">
<div id="controls"><!-- DO NOT EDIT --></div>
<div id="currentSlide"><!-- DO NOT EDIT --></div>
<div id="header"></div>
<div id="footer">
<h1>August 30, 2005</h1>
<h2>CSCE 2410 - PHP Programming - Part One</h2>
</div>

</div>


<div class="presentation">

<div class="slide">
<h1>CSCE 2410 - PHP Programming - Part One</h1>
<h3>Don Retzlaff</h3>
<h4>University of North Texas</h4>
</div>

<div class="slide">
<h1>Brief History of PHP Language</h1>
<p>PHP (recursive acronym for "PHP: Hypertext Preprocessor") is a
widely-used Open Source general-purpose scripting language that
is especially suited for Web development and can be embedded into HTML</p>

<p>PHP was developed to specifically address needs of the web to provide
dynamic content on websites</p>

<p>Unlike other development languages commonly used for dynamic
content (Perl, C++), PHP was designed specifically with the web
in mind (it had no other master, per se)</p>

<p>Because of this specific design, common web-based activities, such
as the processing of forms data and the correct rendering of HTML
content (both inside and outside of forms), are much easier than
with adapted languages</p>

<p>Because of PHP's close relationship to HTML, PHP can be embedded
inside an HTML-based document, unlike other languages that do
not inherently understand HTML and therefore must treat HTML
as text that has to be displayed inside the confines of the
languages print statements.  PHP can literally switch between
PHP and HTML inside a single document, making it so large
areas of pure HTML can be managed normally</p>

<p>PHP has been extended as a language to include a huge library
of commonly-available procedures and classes (including database
manipulation, mail management, secure connections, and graphics
manipulation to mention just a few) that has made it extremely
powerful in a variety of environments and disciplines</p>

<p>Although PHP was designed to be a web-based language to display
content via a browser through a server, the power and the usefulness
of the language has expanded its uses beyond just the web, and it
now can be found in both local command-line interface (CLI) environments
as well as local graphical interface (GUI) environments</p>

<div class="handout">
<!-- [any material that should appear in print but not on the slide] -->
</div>
</div>

<div class="slide">
<h1>HTML Background</h1>
<p>HTML (Hypertext Markup Language) was developed to address the need
to easily display content via a web-browser</p>

<p>It is a "markup" language (unlike a typical programming language),
in that its commands (tags) are designed to assist in the
formatting and layout of textual data</p>

<p>It by definition is a "static" language, in that the content
displayed using the standard HTML language will always look
the same -- it will not change over time or by who accessed it</p>

<p>Due to this major limiting factor of the language in this modern
world of dynamic, data-driven websites, a variety of extensions
to HTML and related programming languages have been developed:</p>

<ul>
    <li>Javascript
    <li>Microsoft's ASP (Active Server Pages)
    <li>Java Applets and Applications
    <li>PHP
    <li>others...
</ul>

<p><a href="http://www.cs.unt.edu/~donr/courses/4410/NOTES/WEB/web-menu.html"
    target="_blank">Examples of HTML tags and pages</a></p>

<div class="handout">
<!-- [any material that should appear in print but not on the slide] -->
</div>
</div>

<div class="slide">
<h1>Basic PHP Concepts</h1>
<p>PHP borrowed its primary syntax from C++ and C</p>

<p>Many of the programming techniques you've previously learned will work
in PHP (assignments, comparisons, loops, procedures) with little to
no syntax difference</p>

<p>There are, however, major changes in how data is manipulated in relationship
to C/C++</p>

<p>C/C++ are type-specific languages, requiring the user to define a specific,
singular type for each variable that they use</p>

<p>PHP commonly assigns its variables "by value", meaning a variable takes on
the value of the source variable (expression) and is assigned to the destination
variable.  A variable can therefore change its type "on&nbsp;the&nbsp;fly".
Therefore variables are not declared (as they are in most type-specific
languages like C++)</p>

<p>PHP is an <u>interpreted</u> language, in that the PHP interpreter program
reads the PHP source code, translates the code and executes it at the same
time.  With C++ on the other hand, the C++ compiler translates your C++
code into a binary executable, eliminating the translation of the source
each time the code executes</p>

<p>Initially this interpreted nature of PHP sounds
like a disadvantage; on the contrary, the interpreted nature of PHP provides
some very intereting and useful programming techniques that are not possible
in compiled languages</p>

<div class="handout">
<!-- [any material that should appear in print but not on the slide] -->
</div>
</div>

<div class="slide">
<h1>Using PHP in a Webpage</h1>
<p>PHP source code is embedded in an HTML-based document, and is identified
by special delimiting tags,</p>

<p style="codeText">&lt;?php &nbsp; <i>content</i> &nbsp; ?&gt;</p>

<p>similar to Javascript and Java applets.</p>

<pre>
&lt;H2&gt;My Webpage&lt;/H2&gt;
This is my webpage.

&lt;?php
  echo "This is written in PHP.\n";
?&gt;
</pre>

<p>How this will appear in a browser:</p>

<p><table border=1 cellpadding=10><tr><td class="codeDisplay">
<H2>My Webpage</H2>
This is my webpage.
This is written in PHP.
</td></tr></table></p>

<p>You can switch between HTML and PHP as many times as you like
within a document:</p>

<p><table border=1 cellpadding=10 class="code"><tr><td><pre><i>HTML content

&lt;?php PHP content ?&gt;

HTML content

&lt;?php PHP content ?&gt;

HTML content</i>

<div class="handout">
<!-- [any material that should appear in print but not on the slide] -->
</div>
</div>

<div class="slide">
<h1>Webpage Setup Using PHP</h1>
<p>Two Approaches:</p>
<ul class="listItems">

  <li>Using <code>.php</code> filename extension on source file.<br><br>

  <li>Including PHP script call inside source file along with naming<br>
      the source file with <span class="codeText">.cgi</span> extension and
      making source file<br>executable (UNIX environment).
</ul>

<p><hr width="90%"></p>

<p><u>Approach One</u>:<br>
Name your source file with a <code>.php</code> extension:</p>

<p><pre>sample.php<br>index.php</pre></p>

<p>(This requires proper setup on server so it understands<br>

what to do with files with this extension.)</p><br>

<p><hr width="90%"></p>

<p><u>Approach Two</u>:<br>
Including call to PHP script inside source file:</p>

<p>Source file: <code>sample.cgi</code></p>

<p><table border=1 cellpadding=10><tr><td class="code">
<pre>#!/usr/local/bin/php


&lt;H2&gt;My Webpage&lt;/H2&gt;
This is my webpage.

&lt;?php
  echo "This is written in PHP.\n";
?&gt;</pre>

<p>and making source file executable:
<pre>% chmod +x sample.cgi</pre></p>

<p><hr width="90%"></p>

<p>The major difference between the two approaches is how the files are
accessed by the webserver:</p>

<p>When using the <span class="codeText">.php</span> extension, the script
runs as the standard webserver user (commonly the user-id
<span class="codeText">nobody</span> or <span class="codeText">www-data</span>).
Therefore if the script attempts to access/create files, the programmer needs
to make certain that the file permissions are set correctly.</p>

<p>When using the <span class="codeText">.cgi</span> extension, the script
runs as the owner of the script (you), so any files created/changed by the
script will automatically be accessible by you.</p>

<p><u>Approach Two</u> is the approach used in your department UNIX
account on the <code>students.csci.unt.edu</code> server.</p>

<div class="handout">
<!-- [any material that should appear in print but not on the slide] -->
</div>
</div>

<div class="slide">
<h1>Variables and Types in PHP</h1>
<p>Although variables are <i>not</i> declared to be type-specific in PHP,
PHP still has a common set of data types:</p>

<pre><b>boolean  integer  float  string  array  object  resource  NULL</b></pre>

<p>Determining the current type of a variable:<br>A series of type-testing
functions exist to determine the current type of variables:</p>

<p><pre><b>gettype(<i>varname</i>)</b></pre> returns type name, such as 'string'</p>

<p><pre><b>is_int()  is_integer()  is_long()  is_null()  is_numeric()
is_object()  is_real()  is_string()  is_scalar()  is_bool()</b></pre></p>

<p><pre><b>empty()  isset()</b></pre></p>

<p><a href="http://us3.php.net/manual/en/types.comparisons.php"
  target="_blank">PHP type comparison tables</a></p>

<p>Special debugging / variable-display functions:</p>

<p><pre><b>print_r()  var_dump()  var_export()</b></pre></p>

<p><hr width="90%"></p>

<p>Variables in PHP are represented by a dollar sign followed by the
name of the variable. The variable name is case-sensitive.</p>

<p>A valid variable name starts with a letter or underscore, followed
by any number of letters, numbers, or underscores. As a regular expression,
it would be expressed as:<br>
<code><b>'[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*'</b></code></p>

<p>To assign values or expressions to variables, the standard assignment
equal-sign operator ( = ) is used</p>

<p><table border=1 cellpadding=10><tr><td class="code">
<pre>
$var = "Bob";
$Var = "Joe";  // different variable
$Long_variable_numeric_name = 47;

$4site = 'not yet';   // invalid; starts with a number
$_4site = 'not yet';  // valid; starts with an underscore
$täyte = 'mansikka';  // valid; 'ä' is (Extended) ASCII 228</pre></td>

<div class="handout">
<!-- [any material that should appear in print but not on the slide] -->
</div>
</div>

<div class="slide">
<h1>Special Relationship Between Strings and Variables</h1>
<p>String constants can be defined in one of three common ways:</p>

<p>Inside Single Quotes: <code>'One type of string'</code></p>

<p>Inside Double Quotes: <code>"Another type of string"</code></p>

<p>Using special "heredoc" syntax <i>(discussed later)</i></p>

<p><hr width="90%"></p>

<p>Data inside Single-quoted strings are taken <i>literally</i>; ie.,
everything is treated exactly as it is typed</p>

<p>Data inside Double-quoted strings are treated in a special way in
relationship to variable references and other standard formatting
characters:</p>

<p>If a variable is referenced inside a double-quoted string, its value
is automatically substituted.</p>

<p>"Escaped" characters are interpreted: 
<a href="http://us3.php.net/manual/en/language.types.string.php#AEN2702"
  target="_blank">Table of "Escaped" characters</a></p>

<p><table border=1 cellpadding=10 align=center><tr><td class="code">
<pre>$var1 = 'This is a test';
$var2 = 27;

$var3 = "$var1 $var2\n";  // "This is a test 27
                             "

$var4 = '$var1 $var2\n';  // '$var1 $var2\n'</pre></td>

<p>If variable names can be clearly delineated in the double-quoted
string sytax (it is not obvious where the variable name ends and literal
text following the variable name begins), a variable name can be
surrounded with curly-braces { }, or separated from the rest of the
text using <i>concatenation</i> (the period . operator):</p>

<p><table border=1 cellpadding=10 align=center><tr><td class="code">
<pre>$var1 = 'ABC';
$var2 = "Value is $var1xyz";         // "Value is "
$var3 = "Value is {$var1}xyz";       // "Value is ABCxyz"
$var4 = 'Value is ' . $var1 . 'xyz'; // "Value is ABCxyz"</pre></td>

<p><hr width="90%"></p>

<p>All string constants (single- or double-quoted) can be automatically
continued onto multiple lines:</p>

<p><table border=1 cellpadding=10 align=center><tr><td class="code">
<pre>$var1 = 'This is a long variable
that is continued onto multiple lines.';

$var2 = "This is a long variable with another
variables defined inside it: $var1\n";</pre></td>

<div class="handout">
<!-- [any material that should appear in print but not on the slide] -->
</div>
</div>

<div class="slide">
<h1>Displaying Values</h1>
<p>Values can be displayed (output) using three methods:<br>
<code>echo</code>, &nbsp;<code>print()</code>, and <code>printf()</code></p>

<p><hr width="90%"></p>

<p><code>echo <i>string arg1 [, string argn...]</i>;</code></p>

<p><code>echo</code> outputs all values following it.  It is not actually a
function (it is a language construct) so you are not required to use
parentheses with it.</p>

<p><table border=1 cellpadding=10 align=center><tr><td class="code">
<pre>echo "This is a test\n";

$var1 = 'Test string';
$var2 = 75;

echo "The value of var1 is $var1\n";
echo "The value of var2 is $var2\n";
echo "Multiple variables displayed: $var1 $var2\n";
echo "This is a value that
is written on multiple lines,
including variable $var2 references.
";
echo 'This',$var2,'that'; // "This75that"</pre></td>

<p><hr width="90%"></p>

<p><code>print()</code> is in some ways similar to <code>echo</code>,
although it can be used as a function and could be included in more
complicated expressions</p>

<p><table border=1 cellpadding=10 align=center><tr><td class="code">
<pre>echo "This is a test\n";

$var1 = 'Test string';
$var2 = 75;

print "The value of var1 is $var1\n";
print ("The value of var2 is $var2\n");

$ret = print "Hello World"; // $ret will equal 1</pre></td>

<p><a href="http://www.faqts.com/knowledge_base/view.phtml/aid/1/fid/40"
  target="_blank">Discussion of differences between <code>echo</code>
and <code>print</code></a></p>

<p><hr width="90%"></p>

<p><code>printf()</code> is one member of a family of string formatting
functions.  It is based on the syntax of the <a target="_blank"
  href="http://us3.php.net/manual/en/function.sprintf.php"><code>sprintf()</code></a>

  function.

<pre>$var1 = 123.456;
$var2 = 255;
$var3 = 'text';

printf ("&lt;pre&gt;%d %05d %5.2f %'*-10s %o %b %x&lt;/pre&gt;",
            $var1,$var2,$var1,$var3,$var2,$var2,$var2);
</pre>

<!-- <?php
$var1 = 123.456;
$var2 = 255;
$var3 = 'text';

printf ("<pre>%d %05d %5.2f %'*-10s %o %b %x</pre>",
            $var1,$var2,$var1,$var3,$var2,$var2,$var2);
?> -->

<pre><b>123 00255   123.46 text****** 377 11111111 ff</b></pre>

<div class="handout">
<!-- [any material that should appear in print but not on the slide] -->
</div>
</div>

<div class="slide">
<h1>PHP Arrays</h1>
<p>An array in PHP is actually an ordered map.</p>

<p>A map is a type that maps values to keys.  You can use it as a real
array, or a list (vector), hashtable, dictionary, collection, stack, queue
and probably more.  Because you can have another PHP array as a value,
you can also quite easily simulate trees.</p>

<p>An array's index (key) can simply be an integer value, which is
equivalent to C++ arrays.</p>

<p>To reference an element in an array, you also use the same notation
as in C++.</p>

<p>Elements are added dynamically -- when an index is specified,
if it doesn't already exist, it will be added.</p>

<p>PHP Arrays also differ from C++ arrays in that each value can be a
different type.</p>

<p><table border=1 cellpadding=10 align=center><tr><td class="code">
<pre>$num[4] = 256;
$num[10] = 'some text';
$num[20] = $count + 20;
echo $num[10];

echo $num[5]; // may produce error

$num[] = -25; // same as $num[21]</pre></td>

<p>A shorthand notation can be used to assign values to an array in a
single statement using the <code>array()</code> function:</p>

<p><table border=1 cellpadding=10 align=center><tr><td class="code">
<pre>$elements = array (1,6,'text',-4,0.123,50+$count);
            //     <i>0 1   2     3   4      5</i>
            // note these are values, not indices</pre></td>

<div class="handout">
<!-- [any material that should appear in print but not on the slide] -->
</div>
</div>

<div class="slide">
<h1>Associative Arrays</h1>
<p>PHP Arrays can use either integer or string indices.  They can be
mixed inside the same array.  PHP does not maintain different typed
arrays for integer or string indices; there is only one array type.</p>

<pre>$num = 10;
$elements['test'] = 23;
$elements[5] = 'stuff';
$elements[$num] = 'more stuff';</pre>

<p>When using the <code>array()</code> function (and several other places
in the language), the key/value element pair can be written using the
special <code>key => value</code> notation.</p>

<pre>$elements = array ( 4 => 'text', 'str' => 23);</pre></td>

<div class="handout">
<!-- [any material that should appear in print but not on the slide] -->
</div>
</div>

<div class="slide">
<h1>Accessing All Elements in an Associative Array</h1>
<p>Since an Associative Array can have a mixture of index types, a normal
for-loop will not work to access each position in an Associative Array.
A special construct <code>foreach</code> exists to simplify this operation:</p>

<p><table border=1 cellpadding=10 align=center><tr><td class="code">
<pre>foreach (<i>array_expression</i> as $value)
    <i>statement</i>

foreach (<i>array_expression</i> as $key => $value)
    <i>statement</i>
</pre></td>

<pre>$A1 = array ('x','test',3,-16,'stuff',array(1,2,3));
$A2 = array (10=>20, 'test'=>'data', 'counter'=>12);

foreach ($A1 as $value) echo "$value ";
echo "&lt;br>&lt;br>\n";
foreach ($A2 as $key => $value)
  echo "$key => $value&lt;br>\n";</pre></td>

<pre>x test 3 -16 stuff Array

10 => 20
test => data
counter => 12</pre></td>

<div class="handout">
<!-- [any material that should appear in print but not on the slide] -->
</div>
</div>

<div class="slide">
<h1>Determining the size of an Array</h1>
<p><code>sizeof(<i>arrayname</i>)</code> &nbsp; or &nbsp; <code>count(<i>arrayname</i>)</code></p>

<pre>$A1 = array ('x','test',3,-16,'stuff',array(1,2,3));
$A2 = array (10=>20, 'test'=>'data', 'counter'=>12);

echo sizeof($A1) . ' ' . sizeof($A2); //   6 3
echo count($A1) . ' ' . count($A2); //   6 3</pre></td>

<div class="handout">
<!-- [any material that should appear in print but not on the slide] -->
</div>
</div>

<div class="slide">
<h1>Common Associative Arrays</h1>
<p><table cellpadding=6>
<tr><td class=largeFixedText>$_POST</td>
    <td class=listItems>fields from form tags</td></tr>
<tr><td class=largeFixedText>$_GET</td>
    <td class=listItems>fields from URL arguments</td></tr>

<tr><td class=largeFixedText>$_SERVER</td>
    <td class=listItems>common system-oriented information</td></tr>
<tr><td class=largeFixedText>$_COOKIES</td>
    <td class=listItems>fields from browser cookies</td></tr>
<tr><td class=largeFixedText>$_SESSION</td>
    <td class=listItems>fields for user authentication</td></tr>
<tr><td class=largeFixedText>$GLOBALS</td>

    <td class=listItems>all global variables</td></tr>
</table></p>
<p><a href="http://www.cs.unt.edu/~donr/courses/4010/NOTES/WEB/web-06.html"
   target="_blank">Common HTML Forms Tags</a></p>

<div class="handout">
<!-- [any material that should appear in print but not on the slide] -->
</div>
</div>

<div class="slide">
<h1>Working with Forms Data in PHP</h1>
<p>Form fields and their values are stored in the PHP <code>$_POST[]</code>
global associative array.</p>

<p>Depending upon the current configuration of PHP on your server, all
form fields may also be stored as individual global variables.</p>

<p>Because of this convention, you should maintain a <i>variable name</i>
standard for the naming of your form fields.</p>

<p><table border=1 cellpadding=10 align=center><tr><td class="code">
<pre>&lt;input type=text name="NameField" value="Tom Jones"&gt;

&lt;textarea name="InformationAndComments" rows=5 cols=60&gt;
This is some data
&lt;/textarea&gt;

echo $_POST['NameField'] . "&lt;br&gt;\n";
echo $_POST['InformationAndComments'] . "&lt;br&gt;\n";</pre></td>

<p>You should use caution when defining form field names that do not adhere
to the standard PHP variable naming conventions.  When you define fields in
this fashion in your HTML, PHP will "attempt" to convert the field names
into a compatible PHP variable name.</p>

<pre>&lt;input type=text name="Name Field" value="Tom Jones"&gt;

&lt;textarea name="Information &%^$@#/ Comments" rows=5 cols=60&gt;
This is some data
&lt;/textarea&gt;

<hr>

print_r ($_POST);</pre></td>

<pre>Array
(
    [Name_Field] => Tom Jones
    [Information_+%^$@#/_Comments] => This is some data

)
<i>NOTE the conversion of spaces into underscores</i>

<p>Although using the global array references<br>
<code>$_POST['Information_+%^$@#/_Comments']</code> and<br>

<code>$GLOBALS['Information_+%^$@#/_Comments']</code><br>
will work, an attempt to reference <code>$Information_+%^$@#/_Comments</code><br>
will result in a syntax error.</p>

<p>If you plan on using this type of complicated naming convention for
form fields, you should not plan on referencing the fields as global
variables.  Most current configurations of PHP have this option turned off
by default.</p>

<div class="handout">
<!-- [any material that should appear in print but not on the slide] -->
</div>
</div>

<div class="slide">
<h1>Techniques for detecting Forms Submissions</h1>
<p>It is common that a programmer will design a forms-based webpage so that
it consists of a pure HTML-based webpage, and a separate PHP-based script
that processes the forms data.</p>

<p>When the forms-based page itself contains PHP-generated information,
such as remembering field values from a previously submitted form, maintaining
separate scripts becomes tedious.</p>

<p>It is very simple, however, to determine if a page is referenced via a
URL reference or is called by a script.  A variety of techniques can be
used to do this.</p>

<p class=largeFixedText>$_SERVER['REQUEST_METHOD']</p>

<p>This variable returns either <code>'GET'</code> or <code>'POST'</code>,
indicating the method the page was referenced.  To determine if a script
is called by pressing a form submission button, this simple test could be
used:</p>

<p class=mediumFixedText>if ($_SERVER['REQUEST_METHOD'] == 'POST')</p>

<p>Another method would be to merely determine the size of the global
<code>$_POST</code> array.  If it has one or more indices, there was
at least one form field passed, indicating the script had to be called
from the posting of a form.</p>

<p class=largeFixedText>if (count($_POST) > 0)</p>


<div class="handout">
<!-- [any material that should appear in print but not on the slide] -->
</div>
</div>

<div class="slide">
<h1></h1>
<p>This therefore creates a very simple model to combine the display of a
form, and the processing of the submitted form, all within the same script
file:</p>

<pre>&lt;?php

if (count($_POST) == 0) {

  // display the initial display of the form here

  }
else {

  // process the submitted forms data here

  }
?&gt; </pre>

<div class="handout">
<!-- [any material that should appear in print but not on the slide] -->
</div>
</div>

<div class="slide">
<h1>Schemes for Submission Button - Naming and Access</h1>
<p>Forms can have any number of submission buttons, and therefore can cause
different actions depending upon which button is actually pressed.  There
are two common techniques that can be used to easily identify which action
you wish to perform based on the actual button pressed.</p>

<p><hr width="90%"></p>

<a name="Same Name, Different Values"></a>
<p class=minorPageHeading>Same Name, Different Values</p>

<p>The first technique is to name each selection button the same name,
and then specify a different value.  In the PHP code, you could test the
value of the corresponding <code>$_POST</code> element, which will indicate
which button was actually pressed.</p>

<p><form><input type=submit name=DoIt value="Button 1"> &nbsp;
<input type=submit name=DoIt value="Button 2"> &nbsp;
<input type=submit name=DoIt value="Please, press me, won't you?"></form></p>

<p><table border=1 cellpadding=10 align=center><tr><td class="code">
<xmp><input type=submit name=DoIt value="Button 1">
<input type=submit name=DoIt value="Button 2">
<input type=submit name=DoIt
              value="Please, press me, won't you?">
</xmp>
<hr>
<pre>
switch ($_POST['DoIt']) {
  case 'Button 1' :
     // button 1 code
     break;
  case 'Button 2' :
     // button 2 code
     break;
  case 'Please, press me, won't you?' :
     // "Please, press me, won't you" code
     break;
  } // end switch</pre></td>

<p>The minor disadvantage of this approach is that since the submit-type field
always uses the value as the text displayed in the button, this may require
long comparisons since the text much match exactly.</p>

<div class="handout">
<!-- [any material that should appear in print but not on the slide] -->
</div>
</div>

<div class="slide">
<h1>Different Names</h1>
<p>The second approach is to choose a different, unique name for each
selection button field.  In your PHP code that processes the form, you
would merely test for the presence of each of the submit fields; if one
is present, it was the one that was pressed.  Similar to checkboxes
and radio buttons, submit buttons that aren't actually pressed send no
data to the script, and therefore do not appear in the resultant
<code>$_POST</code> array.</p>

<p><table border=1 cellpadding=10 align=center><tr><td class="code">
<xmp><input type=submit name=Button1 value="Button 1">
<input type=submit name=Button2 value="Button 2">
<input type=submit name=Button3
              value="Please, press me, won't you?">
</xmp>
<hr>
<pre>if (isset($_POST['Button1'])) {
  // button 1 code
  }
elseif (isset($_POST['Button2'])) {
  // button 2 code
  }
elseif (isset($_POST['Button3'])) {
  // button 3 code
  }</pre></td>

</td></tr></table>

<div class="handout">
<!-- [any material that should appear in print but not on the slide] -->
</div>
</div>

<div class="slide">
<h1>Dealing with Multiple Selections</h1>
<p>Multiple selection form fields pose an interesting problem based on how PHP
processing form fields in general.</p>

<p><table border=1 cellpadding=10 align=center><tr><td class="code">
<xmp><form method=post action="showFields.cgi">

  <select name="Options" size=5 multiple>
    <option>Option 1</option>
    <option>Option 2</option>
    <option>Option 3</option>
    <option>Option 4</option>
    <option>Option 5</option>

  </select>
  <input type=submit name=GO value=GO>
</form>
</xmp>
<form method=post  target="_blank"
     action="http://www.cs.unt.edu/~donr/courses/2320/showFields.cgi">
  <select name="Options" size=5 multiple>
    <option>Option 1</option>
    <option>Option 2</option>
    <option>Option 3</option>

    <option>Option 4</option>
    <option>Option 5</option>
  </select>
  <input type=submit name=GO value=GO>
</form></td></tr></table></p>

<p>Since PHP stores all form fields and their values as indices in the
<code>$_POST</code> array, it can't deal with multiple fields being sent
with exactly the same name.</p>

<p>PHP therefore uses a special array notation to represent mutiple
selections:</p>

<p><table border=1 cellpadding=10 align=center><tr><td class="code">
<pre>&lt;form method=post action="showFields.cgi">
  &lt;select name="Options<font color=red>[]</font>" size=5 multiple>
<xmp>
    <option>Option 1</option>
    <option>Option 2</option>
    <option>Option 3</option>

    <option>Option 4</option>
    <option>Option 5</option>
  </select>
  <input type=submit name=GO value=GO>
</form>
</xmp></pre>

<form method=post target="_blank"
     action="http://www.cs.unt.edu/~donr/courses/2320/showFields.cgi">
  <select name="Options[]" size=5 multiple>
    <option>Option 1</option>

    <option>Option 2</option>
    <option>Option 3</option>
    <option>Option 4</option>
    <option>Option 5</option>
  </select>
  <input type=submit name=GO value=GO>
</form>

<div class="handout">
<!-- [any material that should appear in print but not on the slide] -->
</div>
</div>

<div class="slide">
<h1></h1>
<pre>$_POST = Array
(
    [Options] => Array
        (
            [0] => Option 2
            [1] => Option 3
        )

    [GO] => GO
)</pre></td></tr></table></p>

<p>This approach can also be used for other form fields as well.  In addition,
index values can be used rather than automatically generating a new,
numerically indexed element.</p>

<p><table border=1 cellpadding=10 align=center><tr><td class="code">
<xmp><form method=post action="showFields.cgi">
  <input name="f1[Fred]" value="fred">
  <input name="f1[John]" value="john">
  <input name="f1[Alias for John]" value="sam"><br>

  <input type=checkbox name="f2[]" value="0 0">
  <input type=checkbox name="f2[]" value="0 1">
  <input type=checkbox name="f2[]" value="0 2"><br>
  <input type=checkbox name="f2[]" value="1 0">
  <input type=checkbox name="f2[]" value="1 1">
  <input type=checkbox name="f2[]" value="1 2">
  <input type=submit name=GO value="DO IT">
</form></xmp>

<form method=post target="_blank"
    action="http://www.cs.unt.edu/~donr/courses/2320/showFields.cgi">

<input name="f1[Fred]" value="fred">
<input name="f1[John]" value="john">
<input name="f1[Alias for John]" value="sam"><br>
<input type=checkbox name="f2[]" value="0 0">
<input type=checkbox name="f2[]" value="0 1">
<input type=checkbox name="f2[]" value="0 2"><br>
<input type=checkbox name="f2[]" value="1 0">
<input type=checkbox name="f2[]" value="1 1">
<input type=checkbox name="f2[]" value="1 2">
<input type=submit name=GO value="DO IT">
</form>

<div class="handout">
<!-- [any material that should appear in print but not on the slide] -->
</div>
</div>

<div class="slide">
<h1></h1>
<pre>$_POST = Array
(
    [f1] => Array
        (
            [Fred] => fred
            [John] => john
            [Alias for John] => sam
        )

    [GO] => DO IT
)</pre></td></tr></table>

<p>Multiple-dimensional arrays are also possible using this notation:</p>

<p><table border=1 cellpadding=10 align=center><tr><td class="code">
<xmp><form method=post action="showFields.cgi">
  <input type=checkbox name="f1[0][0]" value="set">
  <input type=checkbox name="f1[0][1]" value="set">
  <input type=checkbox name="f1[0][2]" value="set"><br>
  <input type=checkbox name="f1[1][0]" value="set">
  <input type=checkbox name="f1[1][1]" value="set">
  <input type=checkbox name="f1[1][2]" value="set">

  <input type=submit name=GO value="DO IT">
</form></xmp>

<form method=post target="_blank"
    action="http://www.cs.unt.edu/~donr/courses/2320/showFields.cgi">
  <input type=checkbox name="f1[0][0]" value="set">
  <input type=checkbox name="f1[0][1]" value="set">
  <input type=checkbox name="f1[0][2]" value="set"><br>
  <input type=checkbox name="f1[1][0]" value="set">
  <input type=checkbox name="f1[1][1]" value="set">
  <input type=checkbox name="f1[1][2]" value="set">

  <input type=submit name=GO value="DO IT">
</form>

<div class="handout">
<!-- [any material that should appear in print but not on the slide] -->
</div>
</div>

<div class="slide">
<h1></h1>
<pre>$_POST = Array
(
    [f1] => Array
        (
            [0] => Array
                (
                    [1] => set
                )

            [1] => Array
                (
                    [2] => set
                )

        )

    [GO] => DO IT
)</pre></td></tr></table></p>

<div class="handout">
<!-- [any material that should appear in print but not on the slide] -->
</div>
</div>

<div class="slide">
<h1>PHP Simplification of Certain Form Fields</h1>
<p><table border=1 cellpadding=10 align=center><tr><td class="code">
<xmp>
<SELECT NAME="table2">
  <OPTION Value=2>2</OPTION>
  <OPTION Value=3>3</OPTION>
  <OPTION Value=4>4</OPTION>
  <OPTION Value=5>5</OPTION>
  <OPTION Value=6>6</OPTION>

  <OPTION Value=7>7</OPTION>
  <OPTION Value=8>8</OPTION>
  <OPTION Value=9>9</OPTION>
  <OPTION Value=10>10</OPTION>
  <OPTION Value=11>11</OPTION>
  <OPTION Value=12>12</OPTION>

</SELECT>
</xmp>
<pre>
&lt;SELECT NAME="Table2">
&lt;?php
  for ($i=2; $i <= 12; $i++)
    echo "  &lt;OPTION Value=$i>$i&lt;/OPTION>\n";
?>
&lt;/SELECT>
</pre>

<div class="handout">
<!-- [any material that should appear in print but not on the slide] -->
</div>
</div>


<div class="slide">
<h1></h1>
<xmp>
2 <input type=radio name="table3" value="2" checked>
3 <input type=radio name="table3" value="3">

4 <input type=radio name="table3" value="4">
5 <input type=radio name="table3" value="5">
6 <input type=radio name="table3" value="6">
7 <input type=radio name="table3" value="7">
8 <input type=radio name="table3" value="8">
9 <input type=radio name="table3" value="9">
10 <input type=radio name="table3" value="10">
11 <input type=radio name="table3" value="11">
12 <input type=radio name="table3" value="12">

</xmp>
<pre>
&lt;?php
$checked = 5;
for ($i=2; $i <= 12; $i++)
  echo "$i &lt;input type=radio name=\"table3\" value=$i" .
           (($i == $checked) ? ' checked' : '') . ">\n";
?>
</pre>
</td></tr></table></p>

</td></tr></table>

<div class="handout">
<!-- [any material that should appear in print but not on the slide] -->
</div>
</div>


<div class="slide">
<h1>URL Parameters - GET method</h1>
<p>Additional data can be passed to a script via parameters indicated on
the URL line:</p>

<p><code>http://server/scriptname.cgi?<font color=red><i>parameters</i></font></code></p>

<p>These parameters normally come in two possible formats:</p>

<p><ul>
  <li><code>keyword=value</code> pairs with multiple values separated with
       ampersands&nbsp;(<code>&</code>); to include spaces, substitute
       plus&nbsp;signs&nbsp;(<code>+</code>)</li><br>

  <li>simple character sequences with multiple values separated with
       plus&nbsp;signs&nbsp;(<code>+</code>)</li>
</ul></p>

<p><table border=1 cellpadding=10 align=center><tr><td class="code">
<pre>scriptname.cgi?<font color=red>this=that&amp;name=value+with+spaces</font>

scriptname.cgi?<font color=red>value1+value2+value3</font></pre></td>

</tr></table></p>

<p>Depending upon which of these formats is used for the parameter data,
different PHP super-global variables can be used:</p>

<p><table cellpadding=6>
<tr><td class=largeFixedText valign=top>$_GET</td>
    <td class=listItems><p>used with <code>name=value</code> pairs</p>
        <p><code>$_GET</code> will be an associative array with the
        names being the indices</p><hr>

    </td></tr>
<tr><td class=largeFixedText valign=top>$_SERVER</td>
    <td class=listItems><p>used with simple character sequences</p>
           <p><code>$_SERVER['argc']</code> contains the number of
           character sequences;</p>
           <p><code>$_SERVER['argv']</code> contains an array of the actual
           character sequence values</p>

    </td></tr>
</table></p>

<p><table border=1 cellpadding=10 align=center><tr><td class="code">
<pre>scriptname.cgi?this=that&amp;name=value+with+spaces

$_GET = Array
(
  [this] => that
  [name] => value with spaces
)

<hr>

scriptname.cgi?value1+value2+value3

$_SERVER['argc'] = 3

$_SERVER['argv'] = Array
(
  [0] => value1
  [1] => value2
  [2] => value3
)</pre></td>
</tr></table></p>

<p><hr width="90%"></p>

<p class=minorPageHeading>Combining POST data with URL arguments</p>

<p>Even with posting forms data, it is also possible to include URL
arguments on the <code>ACTION=</code> field on the form.  This data will
be passed to the executing script just as with the <code>GET</code>
method.</p>

<p><table border=1 cellpadding=10 align=center><tr><td class="code">
<pre>&lt;form method=POST action="script.cgi?value1+value2">
&lt;input name=Field1 value="Field1 data">
&lt;input type=submit name=Button value="Press Me">
&lt;/form>

<hr>

$_POST = Array
{
  [Field1] = Field1 data
  [Button] = Press Me
}

$_SERVER['argc'] = 2

$_SERVER['argv'] = Array
(
  [0] => value1
  [1] => value2
)</pre></td>
</tr></table></p>

<p><hr width="90%"></p>

<a name="Submitting Form Data with GET method"></a>
<p class=minorPageHeading>Submitting Form Data with GET method</p>

<p>Although less-commonly used, the submit method for form data can also be
<code>GET</code> rather than the normal <code>POST</code>.</p>

<p><table border=1 cellpadding=10 align=center><tr><td class="code">
<pre>&lt;form method=<font color=red>GET</font> action="script.cgi">
&lt;input name=Field1 value="Field1 data">
&lt;input type=submit name=Button value="Press Me">
&lt;/form>

<hr></pre>

When script is called, the URL will appear as:

<pre>script.cgi?Field1=Field1+data&Button=Press+Me

$_GET = Array
(
  [Field1] => Field1 data
  [Button] => Press Me
)

$_POST = Array
{
}</pre></td></tr></table></p>

<p>In earlier versions of servers, URL arguments were limited to ~100
characters, basically eliminating the practical use of the <code>GET</code>

posting method, especially when <code>TEXTAREA</code> fields were involved.
Today this limitation has virtually been eliminated, and it no longer is
considered a limitation of the <code>GET</code> posting method.</p>

<p>However, since the resultant <code>$_GET</code> array when using the
<code>GET</code> posting method has the same appearance as the
<code>$_POST</code> array when using the <code>POST</code> posting method,
the <code>GET</code> posting method is considered (by DonR) to be
unnecessary.</p>

<p><hr width="90%"></p>

<a name="URL encoding of Special Characters"></a>
<p class=minorPageHeading>URL encoding of Special Characters</p>

<p>Since the decoding of the URL must include special separating
characters (for example, <code>+</code> for space, <code>&</code> for
separating GET fields), what happens when you would like to use those
characters (or other non-alphabetic characters) as data within the URL
argument?</p>

<p>You have to use a special hexadecimal-based encoding notation to
represent these special characters.  Their general format is:</p>

<p class=largeFixedText>%<i>hexvalue</i></p>

<p>Some examples are:</p>

<p class=mediumFixedText>%2B - plus sign<br>
%26 - ampersand<br>
%3D - equal sign</p>

<p><table border=1 cellpadding=10 align=center><tr><td class="code">
<pre>script.cgi?parm=This+has+a+plussign+<font color=red>%2B</font>

$_GET = Array
{
  [parm] = This has a plussign <font color=red>+</font>
}</pre></td>
</tr></table></p>

<p>When a URL argument is produced inside a PHP script, the PHP function
<code>urlencode()</code> should be used to properly encode any non-alphabetic
characters found in the argument:</p>

<p><table border=1 cellpadding=10 align=center><tr><td class="code">
<pre>&lt;?php

$data = '# @ $ +';
echo '&lt;a href="script.cgi?parm=' . urlencode($data) . '">';

?&gt;

<hr>

&lt;a href="script.cgi?parm=%23+@+%24+%2B"></pre></td>

</div>

</body>
</html>
