%PDF-1.2
%‚„œ”
1 0 obj
<<
/A <<
/S /URI
/URI (ftp://ftp.gnu.org/pub/gnu/m4/m4-1.4.tar.gz)
>>
/Type /Annot
/Subtype /Link
/Rect [48 498 303 508]
/Border [0 0 0]
/H /I
>>
endobj
2 0 obj
<<
/A <<
/S /URI
/URI (http://www.hylafax.org/.)
>>
/Type /Annot
/Subtype /Link
/Rect [168 174 315 184]
/Border [0 0 0]
/H /I
>>
endobj
3 0 obj
<<
/A <<
/S /URI
/URI (http://www.qpage.org/)
>>
/Type /Annot
/Subtype /Link
/Rect [144 330 273 340]
/Border [0 0 0]
/H /I
>>
endobj
4 0 obj
<<
/A <<
/S /URI
/URI (http://www.flounder.net/~mrsam/maildrop/)
>>
/Type /Annot
/Subtype /Link
/Rect [150 522 393 532]
/Border [0 0 0]
/H /I
>>
endobj
5 0 obj
<<
/A <<
/S /URI
/URI (http://mail-abuse.org/rbl/.)
>>
/Type /Annot
/Subtype /Link
/Rect [330 198 495 208]
/Border [0 0 0]
/H /I
>>
endobj
6 0 obj
<<
/A <<
/S /URI
/URI (http://mail-abuse.org/)
>>
/Type /Annot
/Subtype /Link
/Rect [150 690 285 700]
/Border [0 0 0]
/H /I
>>
endobj
7 0 obj
<<
/A <<
/S /URI
/URI (ldap:')
>>
/Type /Annot
/Subtype /Link
/Rect [228 690 267 700]
/Border [0 0 0]
/H /I
>>
endobj
8 0 obj
<<
/A <<
/S /URI
/URI (ldap:')
>>
/Type /Annot
/Subtype /Link
/Rect [252 534 291 544]
/Border [0 0 0]
/H /I
>>
endobj
9 0 obj
<<
/A <<
/S /URI
/URI (ldap:-k)
>>
/Type /Annot
/Subtype /Link
/Rect [228 474 273 484]
/Border [0 0 0]
/H /I
>>
endobj
10 0 obj
<<
/A <<
/S /URI
/URI (ldap:-1)
>>
/Type /Annot
/Subtype /Link
/Rect [228 258 273 268]
/Border [0 0 0]
/H /I
>>
endobj
11 0 obj
<<
/A <<
/S /URI
/URI (ldap:-k)
>>
/Type /Annot
/Subtype /Link
/Rect [126 702 171 712]
/Border [0 0 0]
/H /I
>>
endobj
12 0 obj
<<
/A <<
/S /URI
/URI (ldap:-k)
>>
/Type /Annot
/Subtype /Link
/Rect [234 690 279 700]
/Border [0 0 0]
/H /I
>>
endobj
13 0 obj
<<
/A <<
/S /URI
/URI (http://mail-abuse.org/.)
>>
/Type /Annot
/Subtype /Link
/Rect [72 462 213 472]
/Border [0 0 0]
/H /I
>>
endobj
14 0 obj
<<
/A <<
/S /URI
/URI (http://mail-abuse.org/)
>>
/Type /Annot
/Subtype /Link
/Rect [288 342 423 352]
/Border [0 0 0]
/H /I
>>
endobj
15 0 obj
<<
/A <<
/S /URI
/URI (http://mail-abuse.org/dul/)
>>
/Type /Annot
/Subtype /Link
/Rect [48 30 207 40]
/Border [0 0 0]
/H /I
>>
endobj
16 0 obj
<<
/A <<
/S /URI
/URI (http://www.digitalanswers.org/check_local/)
>>
/Type /Annot
/Subtype /Link
/Rect [198 162 453 172]
/Border [0 0 0]
/H /I
>>
endobj
17 0 obj
<<
/A <<
/S /URI
/URI (http://www.sendmail.org/virtual-hosting.html)
>>
/Type /Annot
/Subtype /Link
/Rect [48 546 315 556]
/Border [0 0 0]
/H /I
>>
endobj
18 0 obj
<<
/A <<
/S /URI
/URI (http://www.sanface.com/txt2pdf.html)
>>
/Type /Annot
/Subtype /Link
/Rect [126 234 339 244]
/Border [0 0 0]
/H /I
>>
endobj
19 0 obj
<<
/CreationDate (D:20020317034749-0800)
/Producer (txt2pdf v5.6 \251 SANFACE Software 2002)
/Title (README)
>>
endobj
22 0 obj
<<
/Type /Font
/Subtype /Type1
/Name /F1
/Encoding 26 0 R
/BaseFont /Courier
>>
endobj
23 0 obj
<<
/Type /Font
/Subtype /Type1
/Name /F2
/Encoding 26 0 R
/BaseFont /Courier-Oblique
>>
endobj
24 0 obj
<<
/Type /Font
/Subtype /Type1
/Name /F3
/Encoding 26 0 R
/BaseFont /Courier-Bold
>>
endobj
25 0 obj
<<
/Type /Font
/Subtype /Type1
/Name /F4
/Encoding 26 0 R
/BaseFont /Courier-BoldOblique
>>
endobj
26 0 obj
<<
/Type /Encoding
/Differences [ 0 /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /space /exclam
/quotedbl /numbersign /dollar /percent /ampersand
/quoteright /parenleft /parenright /asterisk /plus /comma
/hyphen /period /slash /zero /one /two /three /four /five
/six /seven /eight /nine /colon /semicolon /less /equal
/greater /question /at /A /B /C /D /E /F /G /H /I /J /K /L
/M /N /O /P /Q /R /S /T /U /V /W /X /Y /Z /bracketleft
/backslash /bracketright /asciicircum /underscore
/quoteleft /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o /p
/q /r /s /t /u /v /w /x /y /z /braceleft /bar /braceright
/asciitilde /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/dotlessi /grave /acute /circumflex /tilde /macron /breve
/dotaccent /dieresis /.notdef /ring /cedilla /.notdef
/hungarumlaut /ogonek /caron /space /exclamdown /cent
/sterling /currency /yen /brokenbar /section /dieresis
/copyright /ordfeminine /guillemotleft /logicalnot /hyphen
/registered /macron /degree /plusminus /twosuperior
/threesuperior /acute /mu /paragraph /periodcentered
/cedilla /onesuperior /ordmasculine /guillemotright
/onequarter /onehalf /threequarters /questiondown /Agrave
/Aacute /Acircumflex /Atilde /Adieresis /Aring /AE
/Ccedilla /Egrave /Eacute /Ecircumflex /Edieresis /Igrave
/Iacute /Icircumflex /Idieresis /Eth /Ntilde /Ograve
/Oacute /Ocircumflex /Otilde /Odieresis /multiply /Oslash
/Ugrave /Uacute /Ucircumflex /Udieresis /Yacute /Thorn
/germandbls /agrave /aacute /acircumflex /atilde /adieresis
/aring /ae /ccedilla /egrave /eacute /ecircumflex
/edieresis /igrave /iacute /icircumflex /idieresis /eth
/ntilde /ograve /oacute /ocircumflex /otilde /odieresis
/divide /oslash /ugrave /uacute /ucircumflex /udieresis
/yacute /thorn /ydieresis ]
>>
endobj
27 0 obj
<<
  /Font << /F1 22 0 R /F2 23 0 R /F3 24 0 R /F4 25 0 R >>
  /ProcSet [ /PDF /Text ]
  /XObject << >>
>>
endobj
28 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 29 0 R
/Rotate 0
>>
endobj
29 0 obj
<<
/Length 30 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* () Tj
T* (                SENDMAIL CONFIGURATION FILES) Tj
T* () Tj
T* (This document describes the sendmail configuration files.  It) Tj
T* (explains how to create a sendmail.cf file for use with sendmail.) Tj
T* (It also describes how to set options for sendmail which are explained) Tj
T* (in the Sendmail Installation and Operation guide \(doc/op/op.me\).) Tj
T* () Tj
T* (To get started, you may want to look at tcpproto.mc \(for TCP-only) Tj
T* (sites\) and clientproto.mc \(for clusters of clients using a single) Tj
T* (mail host\), or the generic-*.mc files as operating system-specific) Tj
T* (examples.) Tj
T* () Tj
T* (Table of Content:) Tj
T* () Tj
T* (INTRODUCTION AND EXAMPLE) Tj
T* (A BRIEF INTRODUCTION TO M4) Tj
T* (FILE LOCATIONS) Tj
T* (OSTYPE) Tj
T* (DOMAINS) Tj
T* (MAILERS) Tj
T* (FEATURES) Tj
T* (HACKS) Tj
T* (SITE CONFIGURATION) Tj
T* (USING UUCP MAILERS) Tj
T* (TWEAKING RULESETS) Tj
T* (MASQUERADING AND RELAYING) Tj
T* (USING LDAP FOR ALIASES, MAPS, AND CLASSES) Tj
T* (LDAP ROUTING) Tj
T* (ANTI-SPAM CONFIGURATION CONTROL) Tj
T* (STARTTLS) Tj
T* (SMTP AUTHENTICATION) Tj
T* (ADDING NEW MAILERS OR RULESETS) Tj
T* (ADDING NEW MAIL FILTERS) Tj
T* (QUEUE GROUP DEFINITIONS) Tj
T* (NON-SMTP BASED CONFIGURATIONS) Tj
T* (WHO AM I?) Tj
T* (ACCEPTING MAIL FOR MULTIPLE NAMES) Tj
T* (USING MAILERTABLES) Tj
T* (USING USERDB TO MAP FULL NAMES) Tj
T* (MISCELLANEOUS SPECIAL FEATURES) Tj
T* (SECURITY NOTES) Tj
T* (TWEAKING CONFIGURATION OPTIONS) Tj
T* (MESSAGE SUBMISSION PROGRAM) Tj
T* (FORMAT OF FILES AND MAPS) Tj
T* (DIRECTORY LAYOUT) Tj
T* (ADMINISTRATIVE DETAILS) Tj
T* () Tj
T* () Tj
T* (+--------------------------+) Tj
T* (| INTRODUCTION AND EXAMPLE |) Tj
T* (+--------------------------+) Tj
T* () Tj
T* (Configuration files are contained in the subdirectory "cf", with a) Tj
T* (suffix ".mc".  They must be run through "m4" to produce a ".cf" file.) Tj
T* (You must pre-load "cf.m4":) Tj
T* () Tj
T* (        m4 ${CFDIR}/m4/cf.m4 config.mc > config.cf) Tj
T* () Tj
T* (Alternatively, you can simply:) Tj
ET
endstream
endobj
30 0 obj
2078
endobj
31 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 32 0 R
/Rotate 0
>>
endobj
32 0 obj
<<
/Length 33 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* () Tj
T* (        cd ${CFDIR}/cf) Tj
T* (        ./Build config.cf) Tj
T* () Tj
T* (where ${CFDIR} is the root of the cf directory and config.mc is the) Tj
T* (name of your configuration file.  If you are running a version of M4) Tj
T* (that understands the __file__ builtin \(versions of GNU m4 >= 0.75 do) Tj
T* (this, but the versions distributed with 4.4BSD and derivatives do not\)) Tj
T* (or the -I flag \(ditto\), then ${CFDIR} can be in an arbitrary directory.) Tj
T* (For "traditional" versions, ${CFDIR} ***MUST*** be "..", or you MUST) Tj
T* (use -D_CF_DIR_=/path/to/cf/dir/ -- note the trailing slash!  For example:) Tj
T* () Tj
T* (        m4 -D_CF_DIR_=${CFDIR}/ ${CFDIR}/m4/cf.m4 config.mc > config.cf) Tj
T* () Tj
T* (Let's examine a typical .mc ) Tj
 0 0 1 rg
 (file:) Tj
 0 0 0 rg
 () Tj
T* () Tj
T* (        divert\(-1\)) Tj
T* (        #) Tj
T* (        # Copyright \(c\) 1998-2002 Sendmail, Inc. and its suppliers.) Tj
T* (        #       All rights reserved.) Tj
T* (        # Copyright \(c\) 1983 Eric P. Allman.  All rights reserved.) Tj
T* (        # Copyright \(c\) 1988, 1993) Tj
T* (        #       The Regents of the University of California.  All rights reserved.) Tj
T* (        #) Tj
T* (        # By using this file, you agree to the terms and conditions set) Tj
T* (        # forth in the LICENSE file which can be found at the top level of) Tj
T* (        # the sendmail distribution.) Tj
T* (        #) Tj
T* () Tj
T* (        #) Tj
T* (        #  This is a Berkeley-specific configuration file for HP-UX 9.x.) Tj
T* (        #  It applies only to the Computer Science Division at Berkeley,) Tj
T* (        #  and should not be used elsewhere.   It is provided on the sendmail) Tj
T* (        #  distribution as a sample only.  To create your own configuration) Tj
T* (        #  file, create an appropriate domain file in ../domain, change the) Tj
T* (        #  `DOMAIN' macro below to reference that file, and copy the result) Tj
T* (        #  to a name of your own choosing.) Tj
T* (        #) Tj
T* (        divert\(0\)) Tj
T* () Tj
T* (The divert\(-1\) will delete the crud in the resulting output file.) Tj
T* (The copyright notice can be replaced by whatever your lawyers require;) Tj
T* (our lawyers require the one that is included in these files.  A copyleft) Tj
T* (is a copyright by another name.  The divert\(0\) restores regular output.) Tj
T* () Tj
T* (        VERSIONID\(`<SCCS or RCS version id>'\)) Tj
T* () Tj
T* (VERSIONID is a macro that stuffs the version information into the) Tj
T* (resulting file.  You could use SCCS, RCS, CVS, something else, or) Tj
T* (omit it completely.  This is not the same as the version id included) Tj
T* (in SMTP greeting messages -- this is defined in m4/version.m4.) Tj
T* () Tj
T* (        OSTYPE\(`hpux9'\)dnl) Tj
T* () Tj
T* (You must specify an OSTYPE to properly configure things such as the) Tj
T* (pathname of the help and status files, the flags needed for the local) Tj
T* (mailer, and other important things.  If you omit it, you will get an) Tj
T* (error when you try to build the configuration.  Look at the ostype) Tj
T* (directory for the list of known operating system types.) Tj
T* () Tj
ET
endstream
endobj
33 0 obj
3240
endobj
34 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 35 0 R
/Rotate 0
>>
endobj
35 0 obj
<<
/Length 36 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (        DOMAIN\(`CS.Berkeley.EDU'\)dnl) Tj
T* () Tj
T* (This example is specific to the Computer Science Division at Berkeley.) Tj
T* (You can use "DOMAIN\(`generic'\)" to get a sufficiently bland definition) Tj
T* (that may well work for you, or you can create a customized domain) Tj
T* (definition appropriate for your environment.) Tj
T* () Tj
T* (        MAILER\(`local'\)) Tj
T* (        MAILER\(`smtp'\)) Tj
T* () Tj
T* (These describe the mailers used at the default CS site.  The local) Tj
T* (mailer is always included automatically.  Beware: MAILER declarations) Tj
T* (should always be at the end of the configuration file.  The general) Tj
T* (rules are that the order should be:) Tj
T* () Tj
T* (        VERSIONID) Tj
T* (        OSTYPE) Tj
T* (        DOMAIN) Tj
T* (        FEATURE) Tj
T* (        local macro definitions) Tj
T* (        MAILER) Tj
T* (        LOCAL_CONFIG) Tj
T* (        LOCAL_RULE_*) Tj
T* (        LOCAL_RULESETS) Tj
T* () Tj
T* (There are a few exceptions to this rule.  Local macro definitions which) Tj
T* (influence a FEATURE\(\) should be done before that feature.  For example,) Tj
T* (a define\(`PROCMAIL_MAILER_PATH', ...\) should be done before) Tj
T* (FEATURE\(`local_procmail'\).) Tj
T* () Tj
T* (*******************************************************************) Tj
T* (***  BE SURE YOU CUSTOMIZE THESE FILES!  They have some         ***) Tj
T* (***  Berkeley-specific assumptions built in, such as the name   ***) Tj
T* (***  of their UUCP-relay.  You'll want to create your own       ***) Tj
T* (***  domain description, and use that in place of               ***) Tj
T* (***  domain/Berkeley.EDU.m4.                                    ***) Tj
T* (*******************************************************************) Tj
T* () Tj
T* () Tj
T* (+----------------------------+) Tj
T* (| A BRIEF INTRODUCTION TO M4 |) Tj
T* (+----------------------------+) Tj
T* () Tj
T* (Sendmail uses the M4 macro processor to ``compile'' the configuration) Tj
T* (files.  The most important thing to know is that M4 is stream-based,) Tj
T* (that is, it doesn't understand about lines.  For this reason, in some) Tj
T* (places you may see the word ``dnl'', which stands for ``delete) Tj
T* (through newline''; essentially, it deletes all characters starting) Tj
T* (at the ``dnl'' up to and including the next newline character.  In) Tj
T* (most cases sendmail uses this only to avoid lots of unnecessary) Tj
T* (blank lines in the output.) Tj
T* () Tj
T* (Other important directives are define\(A, B\) which defines the macro) Tj
T* (``A'' to have value ``B''.  Macros are expanded as they are read, so) Tj
T* (one normally quotes both values to prevent expansion.  For example,) Tj
T* () Tj
T* (        define\(`SMART_HOST', `smart.foo.com'\)) Tj
T* () Tj
T* (One word of warning:  M4 macros are expanded even in lines that appear) Tj
T* (to be comments.  For example, if you have) Tj
ET
endstream
endobj
36 0 obj
2965
endobj
37 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 38 0 R
/Rotate 0
/Annots [ 1 0 R ]
>>
endobj
38 0 obj
<<
/Length 39 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* () Tj
T* (        # See FEATURE\(`foo'\) above) Tj
T* () Tj
T* (it will not do what you expect, because the FEATURE\(`foo'\) will be) Tj
T* (expanded.  This also applies to) Tj
T* () Tj
T* (        # And then define the $X macro to be the return address) Tj
T* () Tj
T* (because ``define'' is an M4 keyword.  If you want to use them, surround) Tj
T* (them with directed quotes, `like this'.) Tj
T* () Tj
T* () Tj
T* (Notice:) Tj
T* (-------) Tj
T* () Tj
T* (This package requires a post-V7 version of m4; if you are running the) Tj
T* (4.2bsd, SysV.2, or 7th Edition version.  SunOS's /usr/5bin/m4 or) Tj
T* (BSD-Net/2's m4 both work.  GNU m4 version 1.1 or later also works.) Tj
T* (Unfortunately, the M4 on BSDI 1.0 doesn't work -- you'll have to use a) Tj
T* (Net/2 or GNU version.  GNU m4 is available from) Tj
T* () Tj
 0 0 1 rg
 (ftp://ftp.gnu.org/pub/gnu/m4/m4-1.4.tar.gz) Tj
 0 0 0 rg
 ( \(check for the latest version\).) Tj
T* (EXCEPTIONS: DEC's m4 on Digital UNIX 4.x is broken \(3.x is fine\).  Use GNU) Tj
T* (m4 on this platform.) Tj
T* () Tj
T* () Tj
T* (+----------------+) Tj
T* (| FILE LOCATIONS |) Tj
T* (+----------------+) Tj
T* () Tj
T* (sendmail 8.9 has introduced a new configuration directory for sendmail) Tj
T* (related files, /etc/mail.  The new files available for sendmail 8.9 --) Tj
T* (the class {R} /etc/mail/relay-domains and the access database) Tj
T* (/etc/mail/access -- take advantage of this new directory.  Beginning with) Tj
T* (8.10, all files will use this directory by default \(some options may be) Tj
T* (set by OSTYPE\(\) files\).  This new directory should help to restore) Tj
T* (uniformity to sendmail's file locations.) Tj
T* () Tj
T* (Below is a table of some of the common changes:) Tj
T* () Tj
T* (Old filename                    New filename) Tj
T* (------------                    ------------) Tj
T* (/etc/bitdomain                  /etc/mail/bitdomain) Tj
T* (/etc/domaintable                /etc/mail/domaintable) Tj
T* (/etc/genericstable              /etc/mail/genericstable) Tj
T* (/etc/uudomain                   /etc/mail/uudomain) Tj
T* (/etc/virtusertable              /etc/mail/virtusertable) Tj
T* (/etc/userdb                     /etc/mail/userdb) Tj
T* () Tj
T* (/etc/aliases                    /etc/mail/aliases) Tj
T* (/etc/sendmail/aliases           /etc/mail/aliases) Tj
T* (/etc/ucbmail/aliases            /etc/mail/aliases) Tj
T* (/usr/adm/sendmail/aliases       /etc/mail/aliases) Tj
T* (/usr/lib/aliases                /etc/mail/aliases) Tj
T* (/usr/lib/mail/aliases           /etc/mail/aliases) Tj
T* (/usr/ucblib/aliases             /etc/mail/aliases) Tj
T* () Tj
T* (/etc/sendmail.cw                /etc/mail/local-host-names) Tj
T* (/etc/mail/sendmail.cw           /etc/mail/local-host-names) Tj
T* (/etc/sendmail/sendmail.cw       /etc/mail/local-host-names) Tj
T* () Tj
ET
endstream
endobj
39 0 obj
2897
endobj
40 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 41 0 R
/Rotate 0
>>
endobj
41 0 obj
<<
/Length 42 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (/etc/sendmail.ct                /etc/mail/trusted-users) Tj
T* () Tj
T* (/etc/sendmail.oE                /etc/mail/error-header) Tj
T* () Tj
T* (/etc/sendmail.hf                /etc/mail/helpfile) Tj
T* (/etc/mail/sendmail.hf           /etc/mail/helpfile) Tj
T* (/usr/ucblib/sendmail.hf         /etc/mail/helpfile) Tj
T* (/etc/ucbmail/sendmail.hf        /etc/mail/helpfile) Tj
T* (/usr/lib/sendmail.hf            /etc/mail/helpfile) Tj
T* (/usr/share/lib/sendmail.hf      /etc/mail/helpfile) Tj
T* (/usr/share/misc/sendmail.hf     /etc/mail/helpfile) Tj
T* (/share/misc/sendmail.hf         /etc/mail/helpfile) Tj
T* () Tj
T* (/etc/service.switch             /etc/mail/service.switch) Tj
T* () Tj
T* (/etc/sendmail.st                /etc/mail/statistics) Tj
T* (/etc/mail/sendmail.st           /etc/mail/statistics) Tj
T* (/etc/mailer/sendmail.st         /etc/mail/statistics) Tj
T* (/etc/sendmail/sendmail.st       /etc/mail/statistics) Tj
T* (/usr/lib/sendmail.st            /etc/mail/statistics) Tj
T* (/usr/ucblib/sendmail.st         /etc/mail/statistics) Tj
T* () Tj
T* (Note that all of these paths actually use a new m4 macro MAIL_SETTINGS_DIR) Tj
T* (to create the pathnames.  The default value of this variable is) Tj
T* (`/etc/mail/'.  If you set this macro to a different value, you MUST include) Tj
T* (a trailing slash.) Tj
T* () Tj
T* (Notice: all filenames used in a .mc \(or .cf\) file should be absolute) Tj
T* (\(starting at the root, i.e., with '/'\).  Relative filenames most) Tj
T* (likely cause surprises during operations \(unless otherwise noted\).) Tj
T* () Tj
T* () Tj
T* (+--------+) Tj
T* (| OSTYPE |) Tj
T* (+--------+) Tj
T* () Tj
T* (You MUST define an operating system environment, or the configuration) Tj
T* (file build will puke.  There are several environments available; look) Tj
T* (at the "ostype" directory for the current list.  This macro changes) Tj
T* (things like the location of the alias file and queue directory.  Some) Tj
T* (of these files are identical to one another.) Tj
T* () Tj
T* (It is IMPERATIVE that the OSTYPE occur before any MAILER definitions.) Tj
T* (In general, the OSTYPE macro should go immediately after any version) Tj
T* (information, and MAILER definitions should always go last.) Tj
T* () Tj
T* (Operating system definitions are usually easy to write.  They may define) Tj
T* (the following variables \(everything defaults, so an ostype file may be) Tj
T* (empty\).  Unfortunately, the list of configuration-supported systems is) Tj
T* (not as broad as the list of source-supported systems, since many of) Tj
T* (the source contributors do not include corresponding ostype files.) Tj
T* () Tj
T* (ALIAS_FILE              [/etc/mail/aliases] The location of the text version) Tj
T* (                        of the alias file\(s\).  It can be a comma-separated) Tj
T* (                        list of names \(but be sure you quote values with) Tj
T* (                        commas in them -- for example, use) Tj
T* (                                define\(`ALIAS_FILE', `a,b'\)) Tj
T* (                        to get "a" and "b" both listed as alias files;) Tj
T* (                        otherwise the define\(\) primitive only sees "a"\).) Tj
T* (HELP_FILE               [/etc/mail/helpfile] The name of the file) Tj
ET
endstream
endobj
42 0 obj
3334
endobj
43 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 44 0 R
/Rotate 0
>>
endobj
44 0 obj
<<
/Length 45 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (                        containing information printed in response to) Tj
T* (                        the SMTP HELP command.) Tj
T* (QUEUE_DIR               [/var/spool/mqueue] The directory containing) Tj
T* (                        queue files.  To use multiple queues, supply) Tj
T* (                        a value ending with an asterisk.  For) Tj
T* (                        example, /var/spool/mqueue/qd* will use all of the) Tj
T* (                        directories or symbolic links to directories) Tj
T* (                        beginning with 'qd' in /var/spool/mqueue as queue) Tj
T* (                        directories.  The names 'qf', 'df', and 'xf' are) Tj
T* (                        reserved as specific subdirectories for the) Tj
T* (                        corresponding queue file types as explained in) Tj
T* (                        doc/op/op.me.  See also QUEUE GROUP DEFINITIONS.) Tj
T* (MSP_QUEUE_DIR           [/var/spool/clientmqueue] The directory containing) Tj
T* (                        queue files for the MSP \(Mail Submission Program,) Tj
T* (                        see sendmail/SECURITY\).) Tj
T* (STATUS_FILE             [/etc/mail/statistics] The file containing status) Tj
T* (                        information.) Tj
T* (LOCAL_MAILER_PATH       [/bin/mail] The program used to deliver local mail.) Tj
T* (LOCAL_MAILER_FLAGS      [Prmn9] The flags used by the local mailer.  The) Tj
T* (                        flags lsDFMAw5:/|@q are always included.) Tj
T* (LOCAL_MAILER_ARGS       [mail -d $u] The arguments passed to deliver local) Tj
T* (                        mail.) Tj
T* (LOCAL_MAILER_MAX        [undefined] If defined, the maximum size of local) Tj
T* (                        mail that you are willing to accept.) Tj
T* (LOCAL_MAILER_MAXMSGS    [undefined] If defined, the maximum number of) Tj
T* (                        messages to deliver in a single connection.  Only) Tj
T* (                        useful for LMTP local mailers.) Tj
T* (LOCAL_MAILER_CHARSET    [undefined] If defined, messages containing 8-bit data) Tj
T* (                        that ARRIVE from an address that resolves to the) Tj
T* (                        local mailer and which are converted to MIME will be) Tj
T* (                        labeled with this character set.) Tj
T* (LOCAL_MAILER_EOL        [undefined] If defined, the string to use as the) Tj
T* (                        end of line for the local mailer.) Tj
T* (LOCAL_MAILER_DSN_DIAGNOSTIC_CODE) Tj
T* (                        [X-Unix] The DSN Diagnostic-Code value for the) Tj
T* (                        local mailer.  This should be changed with care.) Tj
T* (LOCAL_SHELL_PATH        [/bin/sh] The shell used to deliver piped email.) Tj
T* (LOCAL_SHELL_FLAGS       [eu9] The flags used by the shell mailer.  The) Tj
T* (                        flags lsDFM are always included.) Tj
T* (LOCAL_SHELL_ARGS        [sh -c $u] The arguments passed to deliver "prog") Tj
T* (                        mail.) Tj
T* (LOCAL_SHELL_DIR         [$z:/] The directory search path in which the) Tj
T* (                        shell should run.) Tj
T* (LOCAL_MAILER_QGRP       [undefined] The queue group for the local mailer.) Tj
T* (USENET_MAILER_PATH      [/usr/lib/news/inews] The name of the program) Tj
T* (                        used to submit news.) Tj
T* (USENET_MAILER_FLAGS     [rsDFMmn] The mailer flags for the usenet mailer.) Tj
T* (USENET_MAILER_ARGS      [-m -h -n] The command line arguments for the) Tj
T* (                        usenet mailer.  NOTE: Some versions of inews) Tj
T* (                        \(such as those shipped with newer versions of INN\)) Tj
T* (                        use different flags.  Double check the defaults) Tj
T* (                        against the inews man page.) Tj
T* (USENET_MAILER_MAX       [100000] The maximum size of messages that will) Tj
T* (                        be accepted by the usenet mailer.) Tj
T* (USENET_MAILER_QGRP      [undefined] The queue group for the usenet mailer.) Tj
T* (SMTP_MAILER_FLAGS       [undefined] Flags added to SMTP mailer.  Default) Tj
T* (                        flags are `mDFMuX' for all SMTP-based mailers; the) Tj
T* (                        "esmtp" mailer adds `a'; "smtp8" adds `8'; and) Tj
T* (                        "dsmtp" adds `%'.) Tj
T* (RELAY_MAILER_FLAGS      [undefined] Flags added to the relay mailer.  Default) Tj
ET
endstream
endobj
45 0 obj
4461
endobj
46 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 47 0 R
/Rotate 0
>>
endobj
47 0 obj
<<
/Length 48 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (                        flags are `mDFMuX' for all SMTP-based mailers; the) Tj
T* (                        relay mailer adds `a8'.  If this is not defined,) Tj
T* (                        then SMTP_MAILER_FLAGS is used.) Tj
T* (SMTP_MAILER_MAX         [undefined] The maximum size of messages that will) Tj
T* (                        be transported using the smtp, smtp8, esmtp, or dsmtp) Tj
T* (                        mailers.) Tj
T* (SMTP_MAILER_MAXMSGS     [undefined] If defined, the maximum number of) Tj
T* (                        messages to deliver in a single connection for the) Tj
T* (                        smtp, smtp8, esmtp, or dsmtp mailers.) Tj
T* (SMTP_MAILER_ARGS        [TCP $h] The arguments passed to the smtp mailer.) Tj
T* (                        About the only reason you would want to change this) Tj
T* (                        would be to change the default port.) Tj
T* (ESMTP_MAILER_ARGS       [TCP $h] The arguments passed to the esmtp mailer.) Tj
T* (SMTP8_MAILER_ARGS       [TCP $h] The arguments passed to the smtp8 mailer.) Tj
T* (DSMTP_MAILER_ARGS       [TCP $h] The arguments passed to the dsmtp mailer.) Tj
T* (RELAY_MAILER_ARGS       [TCP $h] The arguments passed to the relay mailer.) Tj
T* (SMTP_MAILER_QGRP        [undefined] The queue group for the smtp mailer.) Tj
T* (ESMTP_MAILER_QGRP       [undefined] The queue group for the esmtp mailer.) Tj
T* (SMTP8_MAILER_QGRP       [undefined] The queue group for the smtp8 mailer.) Tj
T* (DSMTP_MAILER_QGRP       [undefined] The queue group for the dsmtp mailer.) Tj
T* (RELAY_MAILER_QGRP       [undefined] The queue group for the relay mailer.) Tj
T* (RELAY_MAILER_MAXMSGS    [undefined] If defined, the maximum number of) Tj
T* (                        messages to deliver in a single connection for the) Tj
T* (                        relay mailer.) Tj
T* (SMTP_MAILER_CHARSET     [undefined] If defined, messages containing 8-bit data) Tj
T* (                        that ARRIVE from an address that resolves to one of) Tj
T* (                        the SMTP mailers and which are converted to MIME will) Tj
T* (                        be labeled with this character set.) Tj
T* (UUCP_MAILER_PATH        [/usr/bin/uux] The program used to send UUCP mail.) Tj
T* (UUCP_MAILER_FLAGS       [undefined] Flags added to UUCP mailer.  Default) Tj
T* (                        flags are `DFMhuU' \(and `m' for uucp-new mailer,) Tj
T* (                        minus `U' for uucp-dom mailer\).) Tj
T* (UUCP_MAILER_ARGS        [uux - -r -z -a$g -gC $h!rmail \($u\)] The arguments) Tj
T* (                        passed to the UUCP mailer.) Tj
T* (UUCP_MAILER_MAX         [100000] The maximum size message accepted for) Tj
T* (                        transmission by the UUCP mailers.) Tj
T* (UUCP_MAILER_CHARSET     [undefined] If defined, messages containing 8-bit data) Tj
T* (                        that ARRIVE from an address that resolves to one of) Tj
T* (                        the UUCP mailers and which are converted to MIME will) Tj
T* (                        be labeled with this character set.) Tj
T* (UUCP_MAILER_QGRP        [undefined] The queue group for the UUCP mailers.) Tj
T* (FAX_MAILER_PATH         [/usr/local/lib/fax/mailfax] The program used to) Tj
T* (                        submit FAX messages.) Tj
T* (FAX_MAILER_ARGS         [mailfax $u $h $f] The arguments passed to the FAX) Tj
T* (                        mailer.) Tj
T* (FAX_MAILER_MAX          [100000] The maximum size message accepted for) Tj
T* (                        transmission by FAX.) Tj
T* (POP_MAILER_PATH         [/usr/lib/mh/spop] The pathname of the POP mailer.) Tj
T* (POP_MAILER_FLAGS        [Penu] Flags added to POP mailer.  Flags lsDFMq) Tj
T* (                        are always added.) Tj
T* (POP_MAILER_ARGS         [pop $u] The arguments passed to the POP mailer.) Tj
T* (POP_MAILER_QGRP         [undefined] The queue group for the pop mailer.) Tj
T* (PROCMAIL_MAILER_PATH    [/usr/local/bin/procmail] The path to the procmail) Tj
T* (                        program.  This is also used by) Tj
T* (                        FEATURE\(`local_procmail'\).) Tj
T* (PROCMAIL_MAILER_FLAGS   [SPhnu9] Flags added to Procmail mailer.  Flags) Tj
T* (                        DFM are always set.  This is NOT used by) Tj
T* (                        FEATURE\(`local_procmail'\); tweak LOCAL_MAILER_FLAGS) Tj
T* (                        instead.) Tj
T* (PROCMAIL_MAILER_ARGS    [procmail -Y -m $h $f $u] The arguments passed to) Tj
ET
endstream
endobj
48 0 obj
4556
endobj
49 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 50 0 R
/Rotate 0
>>
endobj
50 0 obj
<<
/Length 51 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (                        the Procmail mailer.  This is NOT used by) Tj
T* (                        FEATURE\(`local_procmail'\); tweak LOCAL_MAILER_ARGS) Tj
T* (                        instead.) Tj
T* (PROCMAIL_MAILER_MAX     [undefined] If set, the maximum size message that) Tj
T* (                        will be accepted by the procmail mailer.) Tj
T* (PROCMAIL_MAILER_QGRP    [undefined] The queue group for the procmail mailer.) Tj
T* (MAIL11_MAILER_PATH      [/usr/etc/mail11] The path to the mail11 mailer.) Tj
T* (MAIL11_MAILER_FLAGS     [nsFx] Flags for the mail11 mailer.) Tj
T* (MAIL11_MAILER_ARGS      [mail11 $g $x $h $u] Arguments passed to the mail11) Tj
T* (                        mailer.) Tj
T* (MAIL11_MAILER_QGRP      [undefined] The queue group for the mail11 mailer.) Tj
T* (PH_MAILER_PATH          [/usr/local/etc/phquery] The path to the phquery) Tj
T* (                        program.) Tj
T* (PH_MAILER_FLAGS         [ehmu] Flags for the phquery mailer.  Flags nrDFM) Tj
T* (                        are always set.) Tj
T* (PH_MAILER_ARGS          [phquery -- $u] -- arguments to the phquery mailer.) Tj
T* (PH_MAILER_QGRP          [undefined] The queue group for the ph mailer.) Tj
T* (CYRUS_MAILER_FLAGS      [Ah5@/:|] The flags used by the cyrus mailer.  The) Tj
T* (                        flags lsDFMnPq are always included.) Tj
T* (CYRUS_MAILER_PATH       [/usr/cyrus/bin/deliver] The program used to deliver) Tj
T* (                        cyrus mail.) Tj
T* (CYRUS_MAILER_ARGS       [deliver -e -m $h -- $u] The arguments passed) Tj
T* (                        to deliver cyrus mail.) Tj
T* (CYRUS_MAILER_MAX        [undefined] If set, the maximum size message that) Tj
T* (                        will be accepted by the cyrus mailer.) Tj
T* (CYRUS_MAILER_USER       [cyrus:mail] The user and group to become when) Tj
T* (                        running the cyrus mailer.) Tj
T* (CYRUS_MAILER_QGRP       [undefined] The queue group for the cyrus mailer.) Tj
T* (CYRUS_BB_MAILER_FLAGS   [u] The flags used by the cyrusbb mailer.) Tj
T* (                        The flags lsDFMnP are always included.) Tj
T* (CYRUS_BB_MAILER_ARGS    [deliver -e -m $u] The arguments passed) Tj
T* (                        to deliver cyrusbb mail.) Tj
T* (confEBINDIR             [/usr/libexec] The directory for executables.) Tj
T* (                        Currently used for FEATURE\(`local_lmtp'\) and) Tj
T* (                        FEATURE\(`smrsh'\).) Tj
T* (QPAGE_MAILER_FLAGS      [mDFMs] The flags used by the qpage mailer.) Tj
T* (QPAGE_MAILER_PATH       [/usr/local/bin/qpage] The program used to deliver) Tj
T* (                        qpage mail.) Tj
T* (QPAGE_MAILER_ARGS       [qpage -l0 -m -P$u] The arguments passed) Tj
T* (                        to deliver qpage mail.) Tj
T* (QPAGE_MAILER_MAX        [4096] If set, the maximum size message that) Tj
T* (                        will be accepted by the qpage mailer.) Tj
T* (QPAGE_MAILER_QGRP       [undefined] The queue group for the qpage mailer.) Tj
T* (LOCAL_PROG_QGRP         [undefined] The queue group for the prog mailer.) Tj
T* () Tj
T* (Note: to tweak Name_MAILER_FLAGS use the macro MODIFY_MAILER_FLAGS:) Tj
T* (MODIFY_MAILER_FLAGS\(`Name', `change'\) where Name is the first part of) Tj
T* (the macro Name_MAILER_FLAGS and change can be: flags that should) Tj
T* (be used directly \(thus overriding the default value\), or if it) Tj
T* (starts with `+' \(`-'\) then those flags are added to \(removed from\)) Tj
T* (the default value.  Example:) Tj
T* () Tj
T* (        MODIFY_MAILER_FLAGS\(`LOCAL', `+e'\)) Tj
T* () Tj
T* (will add the flag `e' to LOCAL_MAILER_FLAGS.  Notice: there are) Tj
T* (several smtp mailers all of which are manipulated individually.) Tj
T* (See the section MAILERS for the available mailer names.) Tj
T* (WARNING: The FEATUREs local_lmtp and local_procmail set LOCAL_MAILER_FLAGS) Tj
T* (unconditionally, i.e., without respecting any definitions in an) Tj
T* (OSTYPE setting.) Tj
ET
endstream
endobj
51 0 obj
4044
endobj
52 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 53 0 R
/Rotate 0
>>
endobj
53 0 obj
<<
/Length 54 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* () Tj
T* () Tj
T* (+---------+) Tj
T* (| DOMAINS |) Tj
T* (+---------+) Tj
T* () Tj
T* (You will probably want to collect domain-dependent defines into one) Tj
T* (file, referenced by the DOMAIN macro.  For example, the Berkeley) Tj
T* (domain file includes definitions for several internal distinguished) Tj
T* (hosts:) Tj
T* () Tj
T* (UUCP_RELAY      The host that will accept UUCP-addressed email.) Tj
T* (                If not defined, all UUCP sites must be directly) Tj
T* (                connected.) Tj
T* (BITNET_RELAY    The host that will accept BITNET-addressed email.) Tj
T* (                If not defined, the .BITNET pseudo-domain won't work.) Tj
T* (DECNET_RELAY    The host that will accept DECNET-addressed email.) Tj
T* (                If not defined, the .DECNET pseudo-domain and addresses) Tj
T* (                of the form node::user will not work.) Tj
T* (FAX_RELAY       The host that will accept mail to the .FAX pseudo-domain.) Tj
T* (                The "fax" mailer overrides this value.) Tj
T* (LOCAL_RELAY     The site that will handle unqualified names -- that) Tj
T* (                is, names without an @domain extension.) Tj
T* (                Normally MAIL_HUB is preferred for this function.) Tj
T* (                LOCAL_RELAY is mostly useful in conjunction with) Tj
T* (                FEATURE\(`stickyhost'\) -- see the discussion of) Tj
T* (                stickyhost below.  If not set, they are assumed to) Tj
T* (                belong on this machine.  This allows you to have a) Tj
T* (                central site to store a company- or department-wide) Tj
T* (                alias database.  This only works at small sites,) Tj
T* (                and only with some user agents.) Tj
T* (LUSER_RELAY     The site that will handle lusers -- that is, apparently) Tj
T* (                local names that aren't local accounts or aliases.  To) Tj
T* (                specify a local user instead of a site, set this to) Tj
T* (                ``local:username''.) Tj
T* () Tj
T* (Any of these can be either ``mailer:hostname'' \(in which case the) Tj
T* (mailer is the internal mailer name, such as ``uucp-new'' and the hostname) Tj
T* (is the name of the host as appropriate for that mailer\) or just a) Tj
T* (``hostname'', in which case a default mailer type \(usually ``relay'',) Tj
T* (a variant on SMTP\) is used.  WARNING: if you have a wildcard MX) Tj
T* (record matching your domain, you probably want to define these to) Tj
T* (have a trailing dot so that you won't get the mail diverted back) Tj
T* (to yourself.) Tj
T* () Tj
T* (The domain file can also be used to define a domain name, if needed) Tj
T* (\(using "DD<domain>"\) and set certain site-wide features.  If all hosts) Tj
T* (at your site masquerade behind one email name, you could also use) Tj
T* (MASQUERADE_AS here.) Tj
T* () Tj
T* (You do not have to define a domain -- in particular, if you are a) Tj
T* (single machine sitting off somewhere, it is probably more work than) Tj
T* (it's worth.  This is just a mechanism for combining "domain dependent) Tj
T* (knowledge" into one place.) Tj
T* () Tj
T* () Tj
T* (+---------+) Tj
T* (| MAILERS |) Tj
T* (+---------+) Tj
T* () Tj
ET
endstream
endobj
54 0 obj
3250
endobj
55 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 56 0 R
/Rotate 0
/Annots [ 2 0 R ]
>>
endobj
56 0 obj
<<
/Length 57 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (There are fewer mailers supported in this version than the previous) Tj
T* (version, owing mostly to a simpler world.  As a general rule, put the) Tj
T* (MAILER definitions last in your .mc file.) Tj
T* () Tj
T* (local           The local and prog mailers.  You will almost always) Tj
T* (                need these; the only exception is if you relay ALL) Tj
T* (                your mail to another site.  This mailer is included) Tj
T* (                automatically.) Tj
T* () Tj
T* (smtp            The Simple Mail Transport Protocol mailer.  This does) Tj
T* (                not hide hosts behind a gateway or another other) Tj
T* (                such hack; it assumes a world where everyone is) Tj
T* (                running the name server.  This file actually defines) Tj
T* (                five mailers: "smtp" for regular \(old-style\) SMTP to) Tj
T* (                other servers, "esmtp" for extended SMTP to other) Tj
T* (                servers, "smtp8" to do SMTP to other servers without) Tj
T* (                converting 8-bit data to MIME \(essentially, this is) Tj
T* (                your statement that you know the other end is 8-bit) Tj
T* (                clean even if it doesn't say so\), "dsmtp" to do on) Tj
T* (                demand delivery, and "relay" for transmission to the) Tj
T* (                RELAY_HOST, LUSER_RELAY, or MAIL_HUB.) Tj
T* () Tj
T* (uucp            The UNIX-to-UNIX Copy Program mailer.  Actually, this) Tj
T* (                defines two mailers, "uucp-old" \(a.k.a. "uucp"\) and) Tj
T* (                "uucp-new" \(a.k.a. "suucp"\).  The latter is for when you) Tj
T* (                know that the UUCP mailer at the other end can handle) Tj
T* (                multiple recipients in one transfer.  If the smtp mailer) Tj
T* (                is included in your configuration, two other mailers) Tj
T* (                \("uucp-dom" and "uucp-uudom"\) are also defined [warning: you) Tj
T* (                MUST specify MAILER\(`smtp'\) before MAILER\(`uucp'\)].  When you) Tj
T* (                include the uucp mailer, sendmail looks for all names in) Tj
T* (                class {U} and sends them to the uucp-old mailer; all) Tj
T* (                names in class {Y} are sent to uucp-new; and all) Tj
T* (                names in class {Z} are sent to uucp-uudom.  Note that) Tj
T* (                this is a function of what version of rmail runs on) Tj
T* (                the receiving end, and hence may be out of your control.) Tj
T* (                See the section below describing UUCP mailers in more) Tj
T* (                detail.) Tj
T* () Tj
T* (usenet          Usenet \(network news\) delivery.  If this is specified,) Tj
T* (                an extra rule is added to ruleset 0 that forwards all) Tj
T* (                local email for users named ``group.usenet'' to the) Tj
T* (                ``inews'' program.  Note that this works for all groups,) Tj
T* (                and may be considered a security problem.) Tj
T* () Tj
T* (fax             Facsimile transmission.  This is experimental and based) Tj
T* (                on Sam Leffler's HylaFAX software.  For more information,) Tj
T* (                see ) Tj
 0 0 1 rg
 (http://www.hylafax.org/.) Tj
 0 0 0 rg
 () Tj
T* () Tj
T* (pop             Post Office Protocol.) Tj
T* () Tj
T* (procmail        An interface to procmail \(does not come with sendmail\).) Tj
T* (                This is designed to be used in mailertables.  For example,) Tj
T* (                a common question is "how do I forward all mail for a given) Tj
T* (                domain to a single person?".  If you have this mailer) Tj
T* (                defined, you could set up a mailertable reading:) Tj
T* () Tj
T* (                        host.com        procmail:/etc/procmailrcs/host.com) Tj
T* () Tj
T* (                with the file /etc/procmailrcs/host.com reading:) Tj
ET
endstream
endobj
57 0 obj
3950
endobj
58 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 59 0 R
/Rotate 0
/Annots [ 3 0 R ]
>>
endobj
59 0 obj
<<
/Length 60 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* () Tj
T* (                        :0      # forward mail for host.com) Tj
T* (                        ! -oi -f $1 person@other.host) Tj
T* () Tj
T* (                This would arrange for \(anything\)@host.com to be sent) Tj
T* (                to person@other.host.  Within the procmail script, $1 is) Tj
T* (                the name of the sender and $2 is the name of the recipient.) Tj
T* (                If you use this with FEATURE\(`local_procmail'\), the FEATURE) Tj
T* (                should be listed first.) Tj
T* () Tj
T* (                Of course there are other ways to solve this particular) Tj
T* (                problem, e.g., a catch-all entry in a virtusertable.) Tj
T* () Tj
T* (mail11          The DECnet mail11 mailer, useful only if you have the mail11) Tj
T* (                program from gatekeeper.dec.com:/pub/DEC/gwtools \(and) Tj
T* (                DECnet, of course\).  This is for Phase IV DECnet support;) Tj
T* (                if you have Phase V at your site you may have additional) Tj
T* (                problems.) Tj
T* () Tj
T* (phquery         The phquery program.  This is somewhat counterintuitively) Tj
T* (                referenced as the "ph" mailer internally.  It can be used) Tj
T* (                to do CCSO name server lookups.  The phquery program, which) Tj
T* (                this mailer uses, is distributed with the ph client.) Tj
T* () Tj
T* (cyrus           The cyrus and cyrusbb mailers.  The cyrus mailer delivers to) Tj
T* (                a local cyrus user.  this mailer can make use of the) Tj
T* (                "user+detail@local.host" syntax \(see) Tj
T* (                FEATURE\(`preserve_local_plus_detail'\)\); it will deliver the) Tj
T* (                mail to the user's "detail" mailbox if the mailbox's ACL) Tj
T* (                permits.  The cyrusbb mailer delivers to a system-wide) Tj
T* (                cyrus mailbox if the mailbox's ACL permits.  The cyrus) Tj
T* (                mailer must be defined after the local mailer.) Tj
T* () Tj
T* (qpage           A mailer for QuickPage, a pager interface.  See) Tj
T* (                ) Tj
 0 0 1 rg
 (http://www.qpage.org/) Tj
 0 0 0 rg
 ( for further information.) Tj
T* () Tj
T* (The local mailer accepts addresses of the form "user+detail", where) Tj
T* (the "+detail" is not used for mailbox matching but is available) Tj
T* (to certain local mail programs \(in particular, see) Tj
T* (FEATURE\(`local_procmail'\)\).  For example, "eric", "eric+sendmail", and) Tj
T* ("eric+sww" all indicate the same user, but additional arguments <null>,) Tj
T* ("sendmail", and "sww" may be provided for use in sorting mail.) Tj
T* () Tj
T* () Tj
T* (+----------+) Tj
T* (| FEATURES |) Tj
T* (+----------+) Tj
T* () Tj
T* (Special features can be requested using the "FEATURE" macro.  For) Tj
T* (example, the .mc line:) Tj
T* () Tj
T* (        FEATURE\(`use_cw_file'\)) Tj
T* () Tj
T* (tells sendmail that you want to have it read an /etc/mail/local-host-names) Tj
T* (file to get values for class {w}.  A FEATURE may contain up to 9) Tj
T* (optional parameters -- for example:) Tj
T* () Tj
T* (        FEATURE\(`mailertable', `dbm /usr/lib/mailertable'\)) Tj
T* () Tj
T* (The default database map type for the table features can be set with) Tj
ET
endstream
endobj
60 0 obj
3322
endobj
61 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 62 0 R
/Rotate 0
>>
endobj
62 0 obj
<<
/Length 63 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* () Tj
T* (        define\(`DATABASE_MAP_TYPE', `dbm'\)) Tj
T* () Tj
T* (which would set it to use ndbm databases.  The default is the Berkeley DB) Tj
T* (hash database format.  Note that you must still declare a database map type) Tj
T* (if you specify an argument to a FEATURE.  DATABASE_MAP_TYPE is only used) Tj
T* (if no argument is given for the FEATURE.  It must be specified before any) Tj
T* (feature that uses a map.) Tj
T* () Tj
T* (Also, features which can take a map definition as an argument can also take) Tj
T* (the special keyword `LDAP'.  If that keyword is used, the map will use the) Tj
T* (LDAP definition described in the ``USING LDAP FOR ALIASES, MAPS, AND) Tj
T* (CLASSES'' section below.) Tj
T* () Tj
T* (Available features are:) Tj
T* () Tj
T* (use_cw_file     Read the file /etc/mail/local-host-names file to get) Tj
T* (                alternate names for this host.  This might be used if you) Tj
T* (                were on a host that MXed for a dynamic set of other hosts.) Tj
T* (                If the set is static, just including the line "Cw<name1>) Tj
T* (                <name2> ..." \(where the names are fully qualified domain) Tj
T* (                names\) is probably superior.  The actual filename can be) Tj
T* (                overridden by redefining confCW_FILE.) Tj
T* () Tj
T* (use_ct_file     Read the file /etc/mail/trusted-users file to get the) Tj
T* (                names of users that will be ``trusted'', that is, able to) Tj
T* (                set their envelope from address using -f without generating) Tj
T* (                a warning message.  The actual filename can be overridden) Tj
T* (                by redefining confCT_FILE.) Tj
T* () Tj
T* (redirect        Reject all mail addressed to "address.REDIRECT" with) Tj
T* (                a ``551 User has moved; please try <address>'' message.) Tj
T* (                If this is set, you can alias people who have left) Tj
T* (                to their new address with ".REDIRECT" appended.) Tj
T* () Tj
T* (nouucp          Don't route UUCP addresses.  This feature takes one) Tj
T* (                parameter:) Tj
T* (                `reject': reject addresses which have "!" in the local) Tj
T* (                        part unless it originates from a system) Tj
T* (                        that is allowed to relay.) Tj
T* (                `nospecial': don't do anything special with "!".) Tj
T* (                Warnings: 1. See the notice in the anti-spam section.) Tj
T* (                2. don't remove "!" from OperatorChars if `reject' is) Tj
T* (                given as parameter.) Tj
T* () Tj
T* (nocanonify      Don't pass addresses to $[ ... $] for canonification) Tj
T* (                by default, i.e., host/domain names are considered canonical,) Tj
T* (                except for unqualified names, which must not be used in this) Tj
T* (                mode \(violation of the standard\).  It can be changed by) Tj
T* (                setting the DaemonPortOptions modifiers \(M=\).  That is,) Tj
T* (                FEATURE\(`nocanonify'\) will be overridden by setting the) Tj
T* (                'c' flag.  Conversely, if FEATURE\(`nocanonify'\) is not used,) Tj
T* (                it can be emulated by setting the 'C' flag) Tj
T* (                \(DaemonPortOptions=Modifiers=C\).  This would generally only) Tj
T* (                be used by sites that only act as mail gateways or which have) Tj
T* (                user agents that do full canonification themselves.  You may) Tj
T* (                also want to use) Tj
T* (                "define\(`confBIND_OPTS', `-DNSRCH -DEFNAMES'\)" to turn off) Tj
T* (                the usual resolver options that do a similar thing.) Tj
T* () Tj
ET
endstream
endobj
63 0 obj
3784
endobj
64 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 65 0 R
/Rotate 0
>>
endobj
65 0 obj
<<
/Length 66 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (                An exception list for FEATURE\(`nocanonify'\) can be) Tj
T* (                specified with CANONIFY_DOMAIN or CANONIFY_DOMAIN_FILE,) Tj
T* (                i.e., a list of domains which are nevertheless passed to) Tj
T* (                $[ ... $] for canonification.  This is useful to turn on) Tj
T* (                canonification for local domains, e.g., use) Tj
T* (                CANONIFY_DOMAIN\(`my.domain my'\) to canonify addresses) Tj
T* (                which end in "my.domain" or "my".) Tj
T* (                Another way to require canonification in the local) Tj
T* (                domain is CANONIFY_DOMAIN\(`$=m'\).) Tj
T* () Tj
T* (                A trailing dot is added to addresses with more than) Tj
T* (                one component in it such that other features which) Tj
T* (                expect a trailing dot \(e.g., virtusertable\) will) Tj
T* (                still work.) Tj
T* () Tj
T* (                If `canonify_hosts' is specified as parameter, i.e.,) Tj
T* (                FEATURE\(`nocanonify', `canonify_hosts'\), then) Tj
T* (                addresses which have only a hostname, e.g.,) Tj
T* (                <user@host>, will be canonified \(and hopefully fully) Tj
T* (                qualified\), too.) Tj
T* () Tj
T* (stickyhost      This feature is sometimes used with LOCAL_RELAY,) Tj
T* (                although it can be used for a different effect with) Tj
T* (                MAIL_HUB.) Tj
T* () Tj
T* (                When used without MAIL_HUB, email sent to) Tj
T* (                "user@local.host" are marked as "sticky" -- that) Tj
T* (                is, the local addresses aren't matched against UDB,) Tj
T* (                don't go through ruleset 5, and are not forwarded to) Tj
T* (                the LOCAL_RELAY \(if defined\).) Tj
T* () Tj
T* (                With MAIL_HUB, mail addressed to "user@local.host") Tj
T* (                is forwarded to the mail hub, with the envelope) Tj
T* (                address still remaining "user@local.host".) Tj
T* (                Without stickyhost, the envelope would be changed) Tj
T* (                to "user@mail_hub", in order to protect against) Tj
T* (                mailing loops.) Tj
T* () Tj
T* (mailertable     Include a "mailer table" which can be used to override) Tj
T* (                routing for particular domains \(which are not in class {w},) Tj
T* (                i.e.  local host names\).  The argument of the FEATURE may be) Tj
T* (                the key definition.  If none is specified, the definition) Tj
T* (                used is:) Tj
T* () Tj
T* (                        hash /etc/mail/mailertable) Tj
T* () Tj
T* (                Keys in this database are fully qualified domain names) Tj
T* (                or partial domains preceded by a dot -- for example,) Tj
T* (                "vangogh.CS.Berkeley.EDU" or ".CS.Berkeley.EDU".  As a) Tj
T* (                special case of the latter, "." matches any domain not) Tj
T* (                covered by other keys.  Values must be of the form:) Tj
T* (                        mailer:domain) Tj
T* (                where "mailer" is the internal mailer name, and "domain") Tj
T* (                is where to send the message.  These maps are not) Tj
T* (                reflected into the message header.  As a special case,) Tj
T* (                the forms:) Tj
T* (                        local:user) Tj
T* (                will forward to the indicated user using the local mailer,) Tj
T* (                        local:) Tj
T* (                will forward to the original user in the e-mail address) Tj
ET
endstream
endobj
66 0 obj
3675
endobj
67 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 68 0 R
/Rotate 0
>>
endobj
68 0 obj
<<
/Length 69 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (                using the local mailer, and) Tj
T* (                        error:code message) Tj
T* (                        error:D.S.N:code message) Tj
T* (                will give an error message with the indicated SMTP reply) Tj
T* (                code and message, where D.S.N is an RFC 1893 compliant) Tj
T* (                error code.) Tj
T* () Tj
T* (domaintable     Include a "domain table" which can be used to provide) Tj
T* (                domain name mapping.  Use of this should really be) Tj
T* (                limited to your own domains.  It may be useful if you) Tj
T* (                change names \(e.g., your company changes names from) Tj
T* (                oldname.com to newname.com\).  The argument of the) Tj
T* (                FEATURE may be the key definition.  If none is specified,) Tj
T* (                the definition used is:) Tj
T* () Tj
T* (                        hash /etc/mail/domaintable) Tj
T* () Tj
T* (                The key in this table is the domain name; the value is) Tj
T* (                the new \(fully qualified\) domain.  Anything in the) Tj
T* (                domaintable is reflected into headers; that is, this) Tj
T* (                is done in ruleset 3.) Tj
T* () Tj
T* (bitdomain       Look up bitnet hosts in a table to try to turn them into) Tj
T* (                internet addresses.  The table can be built using the) Tj
T* (                bitdomain program contributed by John Gardiner Myers.) Tj
T* (                The argument of the FEATURE may be the key definition; if) Tj
T* (                none is specified, the definition used is:) Tj
T* () Tj
T* (                        hash /etc/mail/bitdomain) Tj
T* () Tj
T* (                Keys are the bitnet hostname; values are the corresponding) Tj
T* (                internet hostname.) Tj
T* () Tj
T* (uucpdomain      Similar feature for UUCP hosts.  The default map definition) Tj
T* (                is:) Tj
T* () Tj
T* (                        hash /etc/mail/uudomain) Tj
T* () Tj
T* (                At the moment there is no automagic tool to build this) Tj
T* (                database.) Tj
T* () Tj
T* (always_add_domain) Tj
T* (                Include the local host domain even on locally delivered) Tj
T* (                mail.  Normally it is not added on unqualified names.) Tj
T* (                However, if you use a shared message store but do not use) Tj
T* (                the same user name space everywhere, you may need the host) Tj
T* (                name on local names.  An optional argument specifies) Tj
T* (                another domain to be added than the local.) Tj
T* () Tj
T* (allmasquerade   If masquerading is enabled \(using MASQUERADE_AS\), this) Tj
T* (                feature will cause recipient addresses to also masquerade) Tj
T* (                as being from the masquerade host.  Normally they get) Tj
T* (                the local hostname.  Although this may be right for) Tj
T* (                ordinary users, it can break local aliases.  For example,) Tj
T* (                if you send to "localalias", the originating sendmail will) Tj
T* (                find that alias and send to all members, but send the) Tj
T* (                message with "To: localalias@masqueradehost".  Since that) Tj
T* (                alias likely does not exist, replies will fail.  Use this) Tj
T* (                feature ONLY if you can guarantee that the ENTIRE) Tj
T* (                namespace on your masquerade host supersets all the) Tj
ET
endstream
endobj
69 0 obj
3563
endobj
70 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 71 0 R
/Rotate 0
>>
endobj
71 0 obj
<<
/Length 72 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (                local entries.) Tj
T* () Tj
T* (limited_masquerade) Tj
T* (                Normally, any hosts listed in class {w} are masqueraded.  If) Tj
T* (                this feature is given, only the hosts listed in class {M} \(see) Tj
T* (                below:  MASQUERADE_DOMAIN\) are masqueraded.  This is useful) Tj
T* (                if you have several domains with disjoint namespaces hosted) Tj
T* (                on the same machine.) Tj
T* () Tj
T* (masquerade_entire_domain) Tj
T* (                If masquerading is enabled \(using MASQUERADE_AS\) and) Tj
T* (                MASQUERADE_DOMAIN \(see below\) is set, this feature will) Tj
T* (                cause addresses to be rewritten such that the masquerading) Tj
T* (                domains are actually entire domains to be hidden.  All) Tj
T* (                hosts within the masquerading domains will be rewritten) Tj
T* (                to the masquerade name \(used in MASQUERADE_AS\).  For example,) Tj
T* (                if you have:) Tj
T* () Tj
T* (                        MASQUERADE_AS\(`masq.com'\)) Tj
T* (                        MASQUERADE_DOMAIN\(`foo.org'\)) Tj
T* (                        MASQUERADE_DOMAIN\(`bar.com'\)) Tj
T* () Tj
T* (                then *foo.org and *bar.com are converted to masq.com.  Without) Tj
T* (                this feature, only foo.org and bar.com are masqueraded.) Tj
T* () Tj
T* (                    NOTE: only domains within your jurisdiction and) Tj
T* (                    current hierarchy should be masqueraded using this.) Tj
T* () Tj
T* (local_no_masquerade) Tj
T* (                This feature prevents the local mailer from masquerading even) Tj
T* (                if MASQUERADE_AS is used.  MASQUERADE_AS will only have effect) Tj
T* (                on addresses of mail going outside the local domain.) Tj
T* () Tj
T* (genericstable   This feature will cause unqualified addresses \(i.e., without) Tj
T* (                a domain\) and addresses with a domain listed in class {G}) Tj
T* (                to be looked up in a map and turned into another \("generic"\)) Tj
T* (                form, which can change both the domain name and the user name.) Tj
T* (                Notice: if you use an MSP \(as it is default starting with) Tj
T* (                8.12\), the MTA will only receive qualified addresses from the) Tj
T* (                MSP \(as required by the RFCs\).  Hence you need to add your) Tj
T* (                domain to class {G}.  This feature is similar to the userdb) Tj
T* (                functionality.  The same types of addresses as for) Tj
T* (                masquerading are looked up, i.e., only header sender) Tj
T* (                addresses unless the allmasquerade and/or masquerade_envelope) Tj
T* (                features are given.  Qualified addresses must have the domain) Tj
T* (                part in class {G}; entries can be added to this class by the) Tj
T* (                macros GENERICS_DOMAIN or GENERICS_DOMAIN_FILE \(analogously) Tj
T* (                to MASQUERADE_DOMAIN and MASQUERADE_DOMAIN_FILE, see below\).) Tj
T* () Tj
T* (                The argument of FEATURE\(`genericstable'\) may be the map) Tj
T* (                definition; the default map definition is:) Tj
T* () Tj
T* (                        hash /etc/mail/genericstable) Tj
T* () Tj
T* (                The key for this table is either the full address, the domain) Tj
T* (                \(with a leading @; the localpart is passed as first argument\)) Tj
T* (                or the unqualified username \(tried in the order mentioned\);) Tj
T* (                the value is the new user address.  If the new user address) Tj
T* (                does not include a domain, it will be qualified in the standard) Tj
T* (                manner, i.e., using $j or the masquerade name.  Note that the) Tj
ET
endstream
endobj
72 0 obj
3921
endobj
73 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 74 0 R
/Rotate 0
>>
endobj
74 0 obj
<<
/Length 75 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (                address being looked up must be fully qualified.  For local) Tj
T* (                mail, it is necessary to use FEATURE\(`always_add_domain'\)) Tj
T* (                for the addresses to be qualified.) Tj
T* (                The "+detail" of an address is passed as %1, so entries like) Tj
T* () Tj
T* (                        old+*@foo.org   new+%1@example.com) Tj
T* (                        gen+*@foo.org   %1@example.com) Tj
T* () Tj
T* (                and other forms are possible.) Tj
T* () Tj
T* (generics_entire_domain) Tj
T* (                If the genericstable is enabled and GENERICS_DOMAIN or) Tj
T* (                GENERICS_DOMAIN_FILE is used, this feature will cause) Tj
T* (                addresses to be searched in the map if their domain) Tj
T* (                parts are subdomains of elements in class {G}.) Tj
T* () Tj
T* (virtusertable   A domain-specific form of aliasing, allowing multiple) Tj
T* (                virtual domains to be hosted on one machine.  For example,) Tj
T* (                if the virtuser table contained:) Tj
T* () Tj
T* (                        info@foo.com    foo-info) Tj
T* (                        info@bar.com    bar-info) Tj
T* (                        joe@bar.com     error:nouser 550 No such user here) Tj
T* (                        jax@bar.com     error:5.7.0:550 Address invalid) Tj
T* (                        @baz.org        jane@example.net) Tj
T* () Tj
T* (                then mail addressed to info@foo.com will be sent to the) Tj
T* (                address foo-info, mail addressed to info@bar.com will be) Tj
T* (                delivered to bar-info, and mail addressed to anyone at baz.org) Tj
T* (                will be sent to jane@example.net, mail to joe@bar.com will) Tj
T* (                be rejected with the specified error message, and mail to) Tj
T* (                jax@bar.com will also have a RFC 1893 compliant error code) Tj
T* (                5.7.0.) Tj
T* () Tj
T* (                The username from the original address is passed) Tj
T* (                as %1 allowing:) Tj
T* () Tj
T* (                        @foo.org        %1@example.com) Tj
T* () Tj
T* (                meaning someone@foo.org will be sent to someone@example.com.) Tj
T* (                Additionally, if the local part consists of "user+detail") Tj
T* (                then "detail" is passed as %2 and "+detail" is passed as %3) Tj
T* (                when a match against user+* is attempted, so entries like) Tj
T* () Tj
T* (                        old+*@foo.org   new+%2@example.com) Tj
T* (                        gen+*@foo.org   %2@example.com) Tj
T* (                        +*@foo.org      %1%3@example.com) Tj
T* (                        X++@foo.org     Z%3@example.com) Tj
T* (                        @bar.org        %1%3) Tj
T* () Tj
T* (                and other forms are possible.  Note: to preserve "+detail") Tj
T* (                for a default case \(@domain\) %1%3 must be used as RHS.) Tj
T* (                There are two wildcards after "+": "+" matches only a non-empty) Tj
T* (                detail, "*" matches also empty details, e.g., user+@foo.org) Tj
T* (                matches +*@foo.org but not ++@foo.org.  This can be used) Tj
T* (                to ensure that the parameters %2 and %3 are not empty.) Tj
T* () Tj
T* (                All the host names on the left hand side \(foo.com, bar.com,) Tj
T* (                and baz.org\) must be in class {w} or class {VirtHost}.  The) Tj
T* (                latter can be defined by the macros VIRTUSER_DOMAIN or) Tj
ET
endstream
endobj
75 0 obj
3632
endobj
76 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 77 0 R
/Rotate 0
>>
endobj
77 0 obj
<<
/Length 78 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (                VIRTUSER_DOMAIN_FILE \(analogously to MASQUERADE_DOMAIN and) Tj
T* (                MASQUERADE_DOMAIN_FILE, see below\).  If VIRTUSER_DOMAIN or) Tj
T* (                VIRTUSER_DOMAIN_FILE is used, then the entries of class) Tj
T* (                {VirtHost} are added to class {R}, i.e., relaying is allowed) Tj
T* (                to \(and from\) those domains.  The default map definition is:) Tj
T* () Tj
T* (                        hash /etc/mail/virtusertable) Tj
T* () Tj
T* (                A new definition can be specified as the second argument of) Tj
T* (                the FEATURE macro, such as) Tj
T* () Tj
T* (                        FEATURE\(`virtusertable', `dbm /etc/mail/virtusers'\)) Tj
T* () Tj
T* (virtuser_entire_domain) Tj
T* (                If the virtusertable is enabled and VIRTUSER_DOMAIN or) Tj
T* (                VIRTUSER_DOMAIN_FILE is used, this feature will cause) Tj
T* (                addresses to be searched in the map if their domain) Tj
T* (                parts are subdomains of elements in class {VirtHost}.) Tj
T* () Tj
T* (ldap_routing    Implement LDAP-based e-mail recipient routing according to) Tj
T* (                the Internet Draft draft-lachman-laser-ldap-mail-routing-01.) Tj
T* (                This provides a method to re-route addresses with a) Tj
T* (                domain portion in class {LDAPRoute} to either a) Tj
T* (                different mail host or a different address.  Hosts can) Tj
T* (                be added to this class using LDAPROUTE_DOMAIN and) Tj
T* (                LDAPROUTE_DOMAIN_FILE \(analogously to MASQUERADE_DOMAIN and) Tj
T* (                MASQUERADE_DOMAIN_FILE, see below\).) Tj
T* () Tj
T* (                See the LDAP ROUTING section below for more information.) Tj
T* () Tj
T* (nodns           If you aren't running DNS at your site \(for example,) Tj
T* (                you are UUCP-only connected\).  It's hard to consider) Tj
T* (                this a "feature", but hey, it had to go somewhere.) Tj
T* (                Actually, as of 8.7 this is a no-op -- remove "dns" from) Tj
T* (                the hosts service switch entry instead.) Tj
T* () Tj
T* (nullclient      This is a special case -- it creates a configuration file) Tj
T* (                containing nothing but support for forwarding all mail to a) Tj
T* (                central hub via a local SMTP-based network.  The argument) Tj
T* (                is the name of that hub.) Tj
T* () Tj
T* (                The only other feature that should be used in conjunction) Tj
T* (                with this one is FEATURE\(`nocanonify'\).  No mailers) Tj
T* (                should be defined.  No aliasing or forwarding is done.) Tj
T* () Tj
T* (local_lmtp      Use an LMTP capable local mailer.  The argument to this) Tj
T* (                feature is the pathname of an LMTP capable mailer.  By) Tj
T* (                default, mail.local is used.  This is expected to be the) Tj
T* (                mail.local which came with the 8.9 distribution which is) Tj
T* (                LMTP capable.  The path to mail.local is set by the) Tj
T* (                confEBINDIR m4 variable -- making the default) Tj
T* (                LOCAL_MAILER_PATH /usr/libexec/mail.local.) Tj
T* (                WARNING: This feature sets LOCAL_MAILER_FLAGS unconditionally,) Tj
T* (                i.e., without respecting any definitions in an OSTYPE setting.) Tj
T* () Tj
T* (local_procmail  Use procmail or another delivery agent as the local mailer.) Tj
T* (                The argument to this feature is the pathname of the) Tj
T* (                delivery agent, which defaults to PROCMAIL_MAILER_PATH.) Tj
T* (                Note that this does NOT use PROCMAIL_MAILER_FLAGS or) Tj
T* (                PROCMAIL_MAILER_ARGS for the local mailer; tweak) Tj
ET
endstream
endobj
78 0 obj
3889
endobj
79 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 80 0 R
/Rotate 0
/Annots [ 4 0 R ]
>>
endobj
80 0 obj
<<
/Length 81 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (                LOCAL_MAILER_FLAGS and LOCAL_MAILER_ARGS instead, or) Tj
T* (                specify the appropriate parameters.  When procmail is used,) Tj
T* (                the local mailer can make use of the) Tj
T* (                "user+indicator@local.host" syntax; normally the +indicator) Tj
T* (                is just tossed, but by default it is passed as the -a) Tj
T* (                argument to procmail.) Tj
T* () Tj
T* (                This feature can take up to three arguments:) Tj
T* () Tj
T* (                1. Path to the mailer program) Tj
T* (                   [default: /usr/local/bin/procmail]) Tj
T* (                2. Argument vector including name of the program) Tj
T* (                   [default: procmail -Y -a $h -d $u]) Tj
T* (                3. Flags for the mailer [default: SPfhn9]) Tj
T* () Tj
T* (                Empty arguments cause the defaults to be taken.) Tj
T* () Tj
T* (                For example, this allows it to use the maildrop) Tj
T* (                \() Tj
 0 0 1 rg
 (http://www.flounder.net/~mrsam/maildrop/\)) Tj
 0 0 0 rg
 ( mailer instead) Tj
T* (                by specifying:) Tj
T* () Tj
T* (                FEATURE\(`local_procmail', `/usr/local/bin/maildrop',) Tj
T* (                 `maildrop -d $u'\)) Tj
T* () Tj
T* (                or scanmails using:) Tj
T* () Tj
T* (                FEATURE\(`local_procmail', `/usr/local/bin/scanmails'\)) Tj
T* () Tj
T* (                WARNING: This feature sets LOCAL_MAILER_FLAGS unconditionally,) Tj
T* (                i.e.,  without respecting any definitions in an OSTYPE setting.) Tj
T* () Tj
T* (bestmx_is_local Accept mail as though locally addressed for any host that) Tj
T* (                lists us as the best possible MX record.  This generates) Tj
T* (                additional DNS traffic, but should be OK for low to) Tj
T* (                medium traffic hosts.  The argument may be a set of) Tj
T* (                domains, which will limit the feature to only apply to) Tj
T* (                these domains -- this will reduce unnecessary DNS) Tj
T* (                traffic.  THIS FEATURE IS FUNDAMENTALLY INCOMPATIBLE WITH) Tj
T* (                WILDCARD MX RECORDS!!!  If you have a wildcard MX record) Tj
T* (                that matches your domain, you cannot use this feature.) Tj
T* () Tj
T* (smrsh           Use the SendMail Restricted SHell \(smrsh\) provided) Tj
T* (                with the distribution instead of /bin/sh for mailing) Tj
T* (                to programs.  This improves the ability of the local) Tj
T* (                system administrator to control what gets run via) Tj
T* (                e-mail.  If an argument is provided it is used as the) Tj
T* (                pathname to smrsh; otherwise, the path defined by) Tj
T* (                confEBINDIR is used for the smrsh binary -- by default,) Tj
T* (                /usr/libexec/smrsh is assumed.) Tj
T* () Tj
T* (promiscuous_relay) Tj
T* (                By default, the sendmail configuration files do not permit) Tj
T* (                mail relaying \(that is, accepting mail from outside your) Tj
T* (                local host \(class {w}\) and sending it to another host than) Tj
T* (                your local host\).  This option sets your site to allow) Tj
T* (                mail relaying from any site to any site.  In almost all) Tj
T* (                cases, it is better to control relaying more carefully) Tj
T* (                with the access map, class {R}, or authentication.  Domains) Tj
T* (                can be added to class {R} by the macros RELAY_DOMAIN or) Tj
T* (                RELAY_DOMAIN_FILE \(analogously to MASQUERADE_DOMAIN and) Tj
ET
endstream
endobj
81 0 obj
3739
endobj
82 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 83 0 R
/Rotate 0
>>
endobj
83 0 obj
<<
/Length 84 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (                MASQUERADE_DOMAIN_FILE, see below\).) Tj
T* () Tj
T* (relay_entire_domain) Tj
T* (                By default, only hosts listed as RELAY in the access db) Tj
T* (                will be allowed to relay.  This option also allows any) Tj
T* (                host in your domain as defined by class {m}.) Tj
T* () Tj
T* (relay_hosts_only) Tj
T* (                By default, names that are listed as RELAY in the access) Tj
T* (                db and class {R} are domain names, not host names.) Tj
T* (                For example, if you specify ``foo.com'', then mail to or) Tj
T* (                from foo.com, abc.foo.com, or a.very.deep.domain.foo.com) Tj
T* (                will all be accepted for relaying.  This feature changes) Tj
T* (                the behaviour to lookup individual host names only.) Tj
T* () Tj
T* (relay_based_on_MX) Tj
T* (                Turns on the ability to allow relaying based on the MX) Tj
T* (                records of the host portion of an incoming recipient; that) Tj
T* (                is, if an MX record for host foo.com points to your site,) Tj
T* (                you will accept and relay mail addressed to foo.com.  See) Tj
T* (                description below for more information before using this) Tj
T* (                feature.  Also, see the KNOWNBUGS entry regarding bestmx) Tj
T* (                map lookups.) Tj
T* () Tj
T* (                FEATURE\(`relay_based_on_MX'\) does not necessarily allow) Tj
T* (                routing of these messages which you expect to be allowed,) Tj
T* (                if route address syntax \(or %-hack syntax\) is used.  If) Tj
T* (                this is a problem, add entries to the access-table or use) Tj
T* (                FEATURE\(`loose_relay_check'\).) Tj
T* () Tj
T* (relay_mail_from) Tj
T* (                Allows relaying if the mail sender is listed as RELAY in) Tj
T* (                the access map.  If an optional argument `domain' is given,) Tj
T* (                relaying can be allowed just based on the domain portion) Tj
T* (                of the sender address.  This feature should only be used if) Tj
T* (                absolutely necessary as the sender address can be easily) Tj
T* (                forged.  Use of this feature requires the "From:" tag be) Tj
T* (                prepended to the key in the access map; see the discussion) Tj
T* (                of tags and FEATURE\(`relay_mail_from'\) in the section on) Tj
T* (                anti-spam configuration control.) Tj
T* () Tj
T* (relay_local_from) Tj
T* (                Allows relaying if the domain portion of the mail sender) Tj
T* (                is a local host.  This should only be used if absolutely) Tj
T* (                necessary as it opens a window for spammers.  Specifically,) Tj
T* (                they can send mail to your mail server that claims to be) Tj
T* (                from your domain \(either directly or via a routed address\),) Tj
T* (                and you will go ahead and relay it out to arbitrary hosts) Tj
T* (                on the Internet.) Tj
T* () Tj
T* (accept_unqualified_senders) Tj
T* (                Normally, MAIL FROM: commands in the SMTP session will be) Tj
T* (                refused if the connection is a network connection and the) Tj
T* (                sender address does not include a domain name.  If your) Tj
T* (                setup sends local mail unqualified \(i.e., MAIL FROM: <joe>\),) Tj
T* (                you will need to use this feature to accept unqualified) Tj
T* (                sender addresses.  Setting the DaemonPortOptions modifier) Tj
T* (                'u' overrides the default behavior, i.e., unqualified) Tj
T* (                addresses are accepted even without this FEATURE.) Tj
T* (                If this FEATURE is not used, the DaemonPortOptions modifier) Tj
ET
endstream
endobj
84 0 obj
3919
endobj
85 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 86 0 R
/Rotate 0
/Annots [ 5 0 R ]
>>
endobj
86 0 obj
<<
/Length 87 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (                'f' can be used to enforce fully qualified addresses.) Tj
T* () Tj
T* (accept_unresolvable_domains) Tj
T* (                Normally, MAIL FROM: commands in the SMTP session will be) Tj
T* (                refused if the host part of the argument to MAIL FROM:) Tj
T* (                cannot be located in the host name service \(e.g., an A or) Tj
T* (                MX record in DNS\).  If you are inside a firewall that has) Tj
T* (                only a limited view of the Internet host name space, this) Tj
T* (                could cause problems.  In this case you probably want to) Tj
T* (                use this feature to accept all domains on input, even if) Tj
T* (                they are unresolvable.) Tj
T* () Tj
T* (access_db       Turns on the access database feature.  The access db gives) Tj
T* (                you the ability to allow or refuse to accept mail from) Tj
T* (                specified domains for administrative reasons.  Moreover,) Tj
T* (                it can control the behavior of sendmail in various situations.) Tj
T* (                By default, the access database specification is:) Tj
T* () Tj
T* (                        hash -T<TMPF> /etc/mail/access) Tj
T* () Tj
T* (                See the anti-spam configuration control section for further) Tj
T* (                important information about this feature.  Notice:) Tj
T* (                "-T<TMPF>" is meant literal, do not replace it by anything.) Tj
T* () Tj
T* (blacklist_recipients) Tj
T* (                Turns on the ability to block incoming mail for certain) Tj
T* (                recipient usernames, hostnames, or addresses.  For) Tj
T* (                example, you can block incoming mail to user nobody,) Tj
T* (                host foo.mydomain.com, or guest@bar.mydomain.com.) Tj
T* (                These specifications are put in the access db as) Tj
T* (                described in the anti-spam configuration control section) Tj
T* (                later in this document.) Tj
T* () Tj
T* (delay_checks    The rulesets check_mail and check_relay will not be called) Tj
T* (                when a client connects or issues a MAIL command, respectively.) Tj
T* (                Instead, those rulesets will be called by the check_rcpt) Tj
T* (                ruleset; they will be skipped under certain circumstances.) Tj
T* (                See "Delay all checks" in the anti-spam configuration control) Tj
T* (                section.  Note: this feature is incompatible to the versions) Tj
T* (                in 8.10 and 8.11.) Tj
T* () Tj
T* (dnsbl           Turns on rejection of hosts found in an DNS based rejection) Tj
T* (                list.  If an argument is provided it is used as the domain) Tj
T* (                in which blocked hosts are listed; otherwise it defaults to) Tj
T* (                blackholes.mail-abuse.org.  An explanation for an DNS based) Tj
T* (                rejection list can be found at ) Tj
 0 0 1 rg
 (http://mail-abuse.org/rbl/.) Tj
 0 0 0 rg
 () Tj
T* (                A second argument can be used to change the default error) Tj
T* (                message.  Without that second argument, the error message) Tj
T* (                will be) Tj
T* (                        Mail from IP-ADDRESS refused by blackhole site SERVER) Tj
T* (                where IP-ADDRESS and SERVER are replaced by the appropriate) Tj
T* (                information.  By default, temporary lookup failures are) Tj
T* (                ignored.  This behavior can be changed by specifying a) Tj
T* (                third argument, which must be either `t' or a full error) Tj
T* (                message.  See the anti-spam configuration control section for) Tj
T* (                an example.  The dnsbl feature can be included several times) Tj
T* (                to query different DNS based rejection lists.  See also) Tj
T* (                enhdnsbl for an enhanced version.) Tj
T* () Tj
T* (                NOTE: The default DNS blacklist, blackholes.mail-abuse.org,) Tj
ET
endstream
endobj
87 0 obj
4089
endobj
88 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 89 0 R
/Rotate 0
/Annots [ 6 0 R ]
>>
endobj
89 0 obj
<<
/Length 90 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (                is a service offered by the Mail Abuse Prevention System) Tj
T* (                \(MAPS\).  As of July 31, 2001, MAPS is a subscription) Tj
T* (                service, so using that network address won't work if you) Tj
T* (                haven't subscribed.  Contact MAPS to subscribe) Tj
T* (                \() Tj
 0 0 1 rg
 (http://mail-abuse.org/\).) Tj
 0 0 0 rg
 () Tj
T* () Tj
T* (enhdnsbl        Enhanced version of dnsbl \(see above\).  Further arguments) Tj
T* (                \(up to 5\) can be used to specify specific return values) Tj
T* (                from lookups.  Temporary lookup failures are ignored unless) Tj
T* (                a third argument is given, which must be either `t' or a full) Tj
T* (                error message.  By default, any successful lookup will) Tj
T* (                generate an error.  Otherwise the result of the lookup is) Tj
T* (                compared with the supplied argument\(s\), and only if a match) Tj
T* (                occurs an error is generated.  For example,) Tj
T* () Tj
T* (                FEATURE\(`enhdnsbl', `dnsbl.example.com', `', `t', `127.0.0.2.'\)) Tj
T* () Tj
T* (                will reject the e-mail if the lookup returns the value) Tj
T* (                ``127.0.0.2.'', or generate a 451 response if the lookup) Tj
T* (                temporarily failed.  The arguments can contain metasymbols) Tj
T* (                as they are allowed in the LHS of rules.  As the example) Tj
T* (                shows, the default values are also used if an empty argument,) Tj
T* (                i.e., `', is specified.  This feature requires that sendmail) Tj
T* (                has been compiled with the flag DNSMAP \(see sendmail/README\).) Tj
T* () Tj
T* (lookupdotdomain Look up also .domain in the access map.  This allows to) Tj
T* (                match only subdomains.  It does not work well with) Tj
T* (                FEATURE\(`relay_hosts_only'\), because most lookups for) Tj
T* (                subdomains are suppressed by the latter feature.) Tj
T* () Tj
T* (loose_relay_check) Tj
T* (                Normally, if % addressing is used for a recipient, e.g.) Tj
T* (                user%site@othersite, and othersite is in class {R}, the) Tj
T* (                check_rcpt ruleset will strip @othersite and recheck) Tj
T* (                user@site for relaying.  This feature changes that) Tj
T* (                behavior.  It should not be needed for most installations.) Tj
T* () Tj
T* (authinfo        Provide a separate map for client side authentication) Tj
T* (                information.  See SMTP AUTHENTICATION for details.) Tj
T* (                By default, the authinfo database specification is:) Tj
T* () Tj
T* (                        hash /etc/mail/authinfo) Tj
T* () Tj
T* (preserve_luser_host) Tj
T* (                Preserve the name of the recipient host if LUSER_RELAY is) Tj
T* (                used.  Without this option, the domain part of the) Tj
T* (                recipient address will be replaced by the host specified as) Tj
T* (                LUSER_RELAY.  This feature only works if the hostname is) Tj
T* (                passed to the mailer \(see mailer triple in op.me\).  Note) Tj
T* (                that in the default configuration the local mailer does not) Tj
T* (                receive the hostname, i.e., the mailer triple has an empty) Tj
T* (                hostname.) Tj
T* () Tj
T* (preserve_local_plus_detail) Tj
T* (                Preserve the +detail portion of the address when passing) Tj
T* (                address to local delivery agent.  Disables alias and) Tj
T* (                .forward +detail stripping \(e.g., given user+detail, only) Tj
T* (                that address will be looked up in the alias file; user+* and) Tj
T* (                user will not be looked up\).  Only use if the local) Tj
T* (                delivery agent in use supports +detail addressing.) Tj
ET
endstream
endobj
90 0 obj
4004
endobj
91 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 92 0 R
/Rotate 0
>>
endobj
92 0 obj
<<
/Length 93 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* () Tj
T* (compat_check    Enable ruleset check_compat to look up pairs of addresses) Tj
T* (                with the Compat: tag -- Compat:sender<@>recipient -- in the) Tj
T* (                access map.  Valid values for the RHS include) Tj
T* (                        DISCARD silently discard recipient) Tj
T* (                        TEMP:   return a temporary error) Tj
T* (                        ERROR:  return a permanent error) Tj
T* (                In the last two cases, a 4xy/5xy SMTP reply code should) Tj
T* (                follow the colon.) Tj
T* () Tj
T* (no_default_msa  Don't generate the default MSA daemon, i.e.,) Tj
T* (                DAEMON_OPTIONS\(`Port=587,Name=MSA,M=E'\)) Tj
T* (                To define a MSA daemon with other parameters, use this) Tj
T* (                FEATURE and introduce new settings via DAEMON_OPTIONS\(\).) Tj
T* () Tj
T* (msp             Defines config file for Message Submission Program.) Tj
T* (                See sendmail/SECURITY for details and cf/cf/submit.mc) Tj
T* (                how to use it.  An optional argument can be used to) Tj
T* (                override the default of `localhost' to use as host to send) Tj
T* (                all e-mails to.  If `MSA' is specified as second argument) Tj
T* (                then port 587 is used to contact the server.  Example:) Tj
T* () Tj
T* (                        FEATURE\(`msp', `', `MSA'\)) Tj
T* () Tj
T* (                Some more hints about possible changes can be found below) Tj
T* (                in the section MESSAGE SUBMISSION PROGRAM.) Tj
T* () Tj
T* (queuegroup      A simple example how to select a queue group based) Tj
T* (                on the full e-mail address or the domain of the) Tj
T* (                recipient.  Selection is done via entries in the) Tj
T* (                access map using the tag QGRP:, for example:) Tj
T* () Tj
T* (                        QGRP:example.com        main) Tj
T* (                        QGRP:friend@some.org    others) Tj
T* (                        QGRP:my.domain          local) Tj
T* () Tj
T* (                where "main", "others", and "local" are names of) Tj
T* (                queue groups.  If an argument is specified, it is used) Tj
T* (                as default queue group.) Tj
T* () Tj
T* (+-------+) Tj
T* (| HACKS |) Tj
T* (+-------+) Tj
T* () Tj
T* (Some things just can't be called features.  To make this clear,) Tj
T* (they go in the hack subdirectory and are referenced using the HACK) Tj
T* (macro.  These will tend to be site-dependent.  The release) Tj
T* (includes the Berkeley-dependent "cssubdomain" hack \(that makes) Tj
T* (sendmail accept local names in either Berkeley.EDU or CS.Berkeley.EDU;) Tj
T* (this is intended as a short-term aid while moving hosts into) Tj
T* (subdomains.) Tj
T* () Tj
T* () Tj
T* (+--------------------+) Tj
T* (| SITE CONFIGURATION |) Tj
T* (+--------------------+) Tj
T* () Tj
T* (    *****************************************************) Tj
T* (    * This section is really obsolete, and is preserved *) Tj
T* (    * only for back compatibility.  You should plan on  *) Tj
ET
endstream
endobj
93 0 obj
3166
endobj
94 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 95 0 R
/Rotate 0
>>
endobj
95 0 obj
<<
/Length 96 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (    * using mailertables for new installations.  In     *) Tj
T* (    * particular, it doesn't work for the newer forms   *) Tj
T* (    * of UUCP mailers, such as uucp-uudom.              *) Tj
T* (    *****************************************************) Tj
T* () Tj
T* (Complex sites will need more local configuration information, such as) Tj
T* (lists of UUCP hosts they speak with directly.  This can get a bit more) Tj
T* (tricky.  For an example of a "complex" site, see cf/ucbvax.mc.) Tj
T* () Tj
T* (The SITECONFIG macro allows you to indirectly reference site-dependent) Tj
T* (configuration information stored in the siteconfig subdirectory.  For) Tj
T* (example, the line) Tj
T* () Tj
T* (        SITECONFIG\(`uucp.ucbvax', `ucbvax', `U'\)) Tj
T* () Tj
T* (reads the file uucp.ucbvax for local connection information.  The) Tj
T* (second parameter is the local name \(in this case just "ucbvax" since) Tj
T* (it is locally connected, and hence a UUCP hostname\).  The third) Tj
T* (parameter is the name of both a macro to store the local name \(in) Tj
T* (this case, {U}\) and the name of the class \(e.g., {U}\) in which to store) Tj
T* (the host information read from the file.  Another SITECONFIG line reads) Tj
T* () Tj
T* (        SITECONFIG\(`uucp.ucbarpa', `ucbarpa.Berkeley.EDU', `W'\)) Tj
T* () Tj
T* (This says that the file uucp.ucbarpa contains the list of UUCP sites) Tj
T* (connected to ucbarpa.Berkeley.EDU.  Class {W} will be used to) Tj
T* (store this list, and $W is defined to be ucbarpa.Berkeley.EDU, that) Tj
T* (is, the name of the relay to which the hosts listed in uucp.ucbarpa) Tj
T* (are connected.  [The machine ucbarpa is gone now, but this) Tj
T* (out-of-date configuration file has been left around to demonstrate) Tj
T* (how you might do this.]) Tj
T* () Tj
T* (Note that the case of SITECONFIG with a third parameter of ``U'' is) Tj
T* (special; the second parameter is assumed to be the UUCP name of the) Tj
T* (local site, rather than the name of a remote site, and the UUCP name) Tj
T* (is entered into class {w} \(the list of local hostnames\) as $U.UUCP.) Tj
T* () Tj
T* (The siteconfig file \(e.g., siteconfig/uucp.ucbvax.m4\) contains nothing) Tj
T* (more than a sequence of SITE macros describing connectivity.  For) Tj
T* (example:) Tj
T* () Tj
T* (        SITE\(`cnmat'\)) Tj
T* (        SITE\(`sgi olympus'\)) Tj
T* () Tj
T* (The second example demonstrates that you can use two names on the) Tj
T* (same line; these are usually aliases for the same host \(or are at) Tj
T* (least in the same company\).) Tj
T* () Tj
T* () Tj
T* (+--------------------+) Tj
T* (| USING UUCP MAILERS |) Tj
T* (+--------------------+) Tj
T* () Tj
T* (It's hard to get UUCP mailers right because of the extremely ad hoc) Tj
T* (nature of UUCP addressing.  These config files are really designed) Tj
T* (for domain-based addressing, even for UUCP sites.) Tj
T* () Tj
T* (There are four UUCP mailers available.  The choice of which one to) Tj
T* (use is partly a matter of local preferences and what is running at) Tj
T* (the other end of your UUCP connection.  Unlike good protocols that) Tj
ET
endstream
endobj
96 0 obj
3172
endobj
97 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 98 0 R
/Rotate 0
>>
endobj
98 0 obj
<<
/Length 99 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (define what will go over the wire, UUCP uses the policy that you) Tj
T* (should do what is right for the other end; if they change, you have) Tj
T* (to change.  This makes it hard to do the right thing, and discourages) Tj
T* (people from updating their software.  In general, if you can avoid) Tj
T* (UUCP, please do.) Tj
T* () Tj
T* (The major choice is whether to go for a domainized scheme or a) Tj
T* (non-domainized scheme.  This depends entirely on what the other) Tj
T* (end will recognize.  If at all possible, you should encourage the) Tj
T* (other end to go to a domain-based system -- non-domainized addresses) Tj
T* (don't work entirely properly.) Tj
T* () Tj
T* (The four mailers are:) Tj
T* () Tj
T* (    uucp-old \(obsolete name: "uucp"\)) Tj
T* (        This is the oldest, the worst \(but the closest to UUCP\) way of) Tj
T* (        sending messages accros UUCP connections.  It does bangify) Tj
T* (        everything and prepends $U \(your UUCP name\) to the sender's) Tj
T* (        address \(which can already be a bang path itself\).  It can) Tj
T* (        only send to one address at a time, so it spends a lot of) Tj
T* (        time copying duplicates of messages.  Avoid this if at all) Tj
T* (        possible.) Tj
T* () Tj
T* (    uucp-new \(obsolete name: "suucp"\)) Tj
T* (        The same as above, except that it assumes that in one rmail) Tj
T* (        command you can specify several recipients.  It still has a) Tj
T* (        lot of other problems.) Tj
T* () Tj
T* (    uucp-dom) Tj
T* (        This UUCP mailer keeps everything as domain addresses.) Tj
T* (        Basically, it uses the SMTP mailer rewriting rules.  This mailer) Tj
T* (        is only included if MAILER\(`smtp'\) is specified before) Tj
T* (        MAILER\(`uucp'\).) Tj
T* () Tj
T* (        Unfortunately, a lot of UUCP mailer transport agents require) Tj
T* (        bangified addresses in the envelope, although you can use) Tj
T* (        domain-based addresses in the message header.  \(The envelope) Tj
T* (        shows up as the From_ line on UNIX mail.\)  So....) Tj
T* () Tj
T* (    uucp-uudom) Tj
T* (        This is a cross between uucp-new \(for the envelope addresses\)) Tj
T* (        and uucp-dom \(for the header addresses\).  It bangifies the) Tj
T* (        envelope sender \(From_ line in messages\) without adding the) Tj
T* (        local hostname, unless there is no host name on the address) Tj
T* (        at all \(e.g., "wolf"\) or the host component is a UUCP host name) Tj
T* (        instead of a domain name \("somehost!wolf" instead of) Tj
T* (        "some.dom.ain!wolf"\).  This is also included only if MAILER\(`smtp'\)) Tj
T* (        is also specified earlier.) Tj
T* () Tj
T* (Examples:) Tj
T* () Tj
T* (On host grasp.insa-lyon.fr \(UUCP host name "grasp"\), the following) Tj
T* (summarizes the sender rewriting for various mailers.) Tj
T* () Tj
T* (Mailer          sender          rewriting in the envelope) Tj
T* (------          ------          -------------------------) Tj
T* (uucp-{old,new}  wolf            grasp!wolf) Tj
T* (uucp-dom        wolf            wolf@grasp.insa-lyon.fr) Tj
T* (uucp-uudom      wolf            grasp.insa-lyon.fr!wolf) Tj
T* () Tj
ET
endstream
endobj
99 0 obj
3259
endobj
100 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 101 0 R
/Rotate 0
>>
endobj
101 0 obj
<<
/Length 102 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (uucp-{old,new}  wolf@fr.net     grasp!fr.net!wolf) Tj
T* (uucp-dom        wolf@fr.net     wolf@fr.net) Tj
T* (uucp-uudom      wolf@fr.net     fr.net!wolf) Tj
T* () Tj
T* (uucp-{old,new}  somehost!wolf   grasp!somehost!wolf) Tj
T* (uucp-dom        somehost!wolf   somehost!wolf@grasp.insa-lyon.fr) Tj
T* (uucp-uudom      somehost!wolf   grasp.insa-lyon.fr!somehost!wolf) Tj
T* () Tj
T* (If you are using one of the domainized UUCP mailers, you really want) Tj
T* (to convert all UUCP addresses to domain format -- otherwise, it will) Tj
T* (do it for you \(and probably not the way you expected\).  For example,) Tj
T* (if you have the address foo!bar!baz \(and you are not sending to foo\),) Tj
T* (the heuristics will add the @uucp.relay.name or @local.host.name to) Tj
T* (this address.  However, if you map foo to foo.host.name first, it) Tj
T* (will not add the local hostname.  You can do this using the uucpdomain) Tj
T* (feature.) Tj
T* () Tj
T* () Tj
T* (+-------------------+) Tj
T* (| TWEAKING RULESETS |) Tj
T* (+-------------------+) Tj
T* () Tj
T* (For more complex configurations, you can define special rules.) Tj
T* (The macro LOCAL_RULE_3 introduces rules that are used in canonicalizing) Tj
T* (the names.  Any modifications made here are reflected in the header.) Tj
T* () Tj
T* (A common use is to convert old UUCP addresses to SMTP addresses using) Tj
T* (the UUCPSMTP macro.  For example:) Tj
T* () Tj
T* (        LOCAL_RULE_3) Tj
T* (        UUCPSMTP\(`decvax',      `decvax.dec.com'\)) Tj
T* (        UUCPSMTP\(`research',    `research.att.com'\)) Tj
T* () Tj
T* (will cause addresses of the form "decvax!user" and "research!user") Tj
T* (to be converted to "user@decvax.dec.com" and "user@research.att.com") Tj
T* (respectively.) Tj
T* () Tj
T* (This could also be used to look up hosts in a database map:) Tj
T* () Tj
T* (        LOCAL_RULE_3) Tj
T* (        R$* < @ $+ > $*         $: $1 < @ $\(hostmap $2 $\) > $3) Tj
T* () Tj
T* (This map would be defined in the LOCAL_CONFIG portion, as shown below.) Tj
T* () Tj
T* (Similarly, LOCAL_RULE_0 can be used to introduce new parsing rules.) Tj
T* (For example, new rules are needed to parse hostnames that you accept) Tj
T* (via MX records.  For example, you might have:) Tj
T* () Tj
T* (        LOCAL_RULE_0) Tj
T* (        R$+ <@ host.dom.ain.>   $#uucp $@ cnmat $: $1 < @ host.dom.ain.>) Tj
T* () Tj
T* (You would use this if you had installed an MX record for cnmat.Berkeley.EDU) Tj
T* (pointing at this host; this rule catches the message and forwards it on) Tj
T* (using UUCP.) Tj
T* () Tj
T* (You can also tweak rulesets 1 and 2 using LOCAL_RULE_1 and LOCAL_RULE_2.) Tj
T* (These rulesets are normally empty.) Tj
T* () Tj
T* (A similar macro is LOCAL_CONFIG.  This introduces lines added after the) Tj
T* (boilerplate option setting but before rulesets.  Do not declare rulesets in) Tj
ET
endstream
endobj
102 0 obj
2912
endobj
103 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 104 0 R
/Rotate 0
>>
endobj
104 0 obj
<<
/Length 105 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (the LOCAL_CONFIG section.  It can be used to declare local database maps or) Tj
T* (whatever.  For example:) Tj
T* () Tj
T* (        LOCAL_CONFIG) Tj
T* (        Khostmap hash /etc/mail/hostmap) Tj
T* (        Kyplocal nis -m hosts.byname) Tj
T* () Tj
T* () Tj
T* (+---------------------------+) Tj
T* (| MASQUERADING AND RELAYING |) Tj
T* (+---------------------------+) Tj
T* () Tj
T* (You can have your host masquerade as another using) Tj
T* () Tj
T* (        MASQUERADE_AS\(`host.domain'\)) Tj
T* () Tj
T* (This causes mail being sent to be labeled as coming from the) Tj
T* (indicated host.domain, rather than $j.  One normally masquerades as) Tj
T* (one of one's own subdomains \(for example, it's unlikely that) Tj
T* (Berkeley would choose to masquerade as an MIT site\).  This) Tj
T* (behaviour is modified by a plethora of FEATUREs; in particular, see) Tj
T* (masquerade_envelope, allmasquerade, limited_masquerade, and) Tj
T* (masquerade_entire_domain.) Tj
T* () Tj
T* (The masquerade name is not normally canonified, so it is important) Tj
T* (that it be your One True Name, that is, fully qualified and not a) Tj
T* (CNAME.  However, if you use a CNAME, the receiving side may canonify) Tj
T* (it for you, so don't think you can cheat CNAME mapping this way.) Tj
T* () Tj
T* (Normally the only addresses that are masqueraded are those that come) Tj
T* (from this host \(that is, are either unqualified or in class {w}, the list) Tj
T* (of local domain names\).  You can augment this list, which is realized) Tj
T* (by class {M} using) Tj
T* () Tj
T* (        MASQUERADE_DOMAIN\(`otherhost.domain'\)) Tj
T* () Tj
T* (The effect of this is that although mail to user@otherhost.domain) Tj
T* (will not be delivered locally, any mail including any user@otherhost.domain) Tj
T* (will, when relayed, be rewritten to have the MASQUERADE_AS address.) Tj
T* (This can be a space-separated list of names.) Tj
T* () Tj
T* (If these names are in a file, you can use) Tj
T* () Tj
T* (        MASQUERADE_DOMAIN_FILE\(`filename'\)) Tj
T* () Tj
T* (to read the list of names from the indicated file \(i.e., to add) Tj
T* (elements to class {M}\).) Tj
T* () Tj
T* (To exempt hosts or subdomains from being masqueraded, you can use) Tj
T* () Tj
T* (        MASQUERADE_EXCEPTION\(`host.domain'\)) Tj
T* () Tj
T* (This can come handy if you want to masquerade a whole domain) Tj
T* (except for one \(or a few\) host\(s\).  If these names are in a file,) Tj
T* (you can use) Tj
T* () Tj
T* (        MASQUERADE_EXCEPTION_FILE\(`filename'\)) Tj
T* () Tj
T* (Normally only header addresses are masqueraded.  If you want to) Tj
T* (masquerade the envelope as well, use) Tj
ET
endstream
endobj
105 0 obj
2706
endobj
106 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 107 0 R
/Rotate 0
>>
endobj
107 0 obj
<<
/Length 108 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* () Tj
T* (        FEATURE\(`masquerade_envelope'\)) Tj
T* () Tj
T* (There are always users that need to be "exposed" -- that is, their) Tj
T* (internal site name should be displayed instead of the masquerade name.) Tj
T* (Root is an example \(which has been "exposed" by default prior to 8.10\).) Tj
T* (You can add users to this list using) Tj
T* () Tj
T* (        EXPOSED_USER\(`usernames'\)) Tj
T* () Tj
T* (This adds users to class {E}; you could also use) Tj
T* () Tj
T* (        EXPOSED_USER_FILE\(`filename'\)) Tj
T* () Tj
T* (You can also arrange to relay all unqualified names \(that is, names) Tj
T* (without @host\) to a relay host.  For example, if you have a central) Tj
T* (email server, you might relay to that host so that users don't have) Tj
T* (to have .forward files or aliases.  You can do this using) Tj
T* () Tj
T* (        define\(`LOCAL_RELAY', `mailer:hostname'\)) Tj
T* () Tj
T* (The ``mailer:'' can be omitted, in which case the mailer defaults to) Tj
T* ("relay".  There are some user names that you don't want relayed, perhaps) Tj
T* (because of local aliases.  A common example is root, which may be) Tj
T* (locally aliased.  You can add entries to this list using) Tj
T* () Tj
T* (        LOCAL_USER\(`usernames'\)) Tj
T* () Tj
T* (This adds users to class {L}; you could also use) Tj
T* () Tj
T* (        LOCAL_USER_FILE\(`filename'\)) Tj
T* () Tj
T* (If you want all incoming mail sent to a centralized hub, as for a) Tj
T* (shared /var/spool/mail scheme, use) Tj
T* () Tj
T* (        define\(`MAIL_HUB', `mailer:hostname'\)) Tj
T* () Tj
T* (Again, ``mailer:'' defaults to "relay".  If you define both LOCAL_RELAY) Tj
T* (and MAIL_HUB _AND_ you have FEATURE\(`stickyhost'\), unqualified names will) Tj
T* (be sent to the LOCAL_RELAY and other local names will be sent to MAIL_HUB.) Tj
T* (Note: there is a \(long standing\) bug which keeps this combination from) Tj
T* (working for addresses of the form user+detail.) Tj
T* (Names in class {L} will be delivered locally, so you MUST have aliases or) Tj
T* (.forward files for them.) Tj
T* () Tj
T* (For example, if you are on machine mastodon.CS.Berkeley.EDU and you have) Tj
T* (FEATURE\(`stickyhost'\), the following combinations of settings will have the) Tj
T* (indicated effects:) Tj
T* () Tj
T* (email sent to....       eric                      eric@mastodon.CS.Berkeley.EDU) Tj
T* () Tj
T* (LOCAL_RELAY set to      mail.CS.Berkeley.EDU      \(delivered locally\)) Tj
T* (mail.CS.Berkeley.EDU      \(no local aliasing\)       \(aliasing done\)) Tj
T* () Tj
T* (MAIL_HUB set to         mammoth.CS.Berkeley.EDU   mammoth.CS.Berkeley.EDU) Tj
T* (mammoth.CS.Berkeley.EDU   \(aliasing done\)           \(aliasing done\)) Tj
T* () Tj
T* (Both LOCAL_RELAY and    mail.CS.Berkeley.EDU      mammoth.CS.Berkeley.EDU) Tj
T* (MAIL_HUB set as above     \(no local aliasing\)       \(aliasing done\)) Tj
T* () Tj
ET
endstream
endobj
108 0 obj
2933
endobj
109 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 110 0 R
/Rotate 0
>>
endobj
110 0 obj
<<
/Length 111 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (If you do not have FEATURE\(`stickyhost'\) set, then LOCAL_RELAY and) Tj
T* (MAIL_HUB act identically, with MAIL_HUB taking precedence.) Tj
T* () Tj
T* (If you want all outgoing mail to go to a central relay site, define) Tj
T* (SMART_HOST as well.  Briefly:) Tj
T* () Tj
T* (        LOCAL_RELAY applies to unqualified names \(e.g., "eric"\).) Tj
T* (        MAIL_HUB applies to names qualified with the name of the) Tj
T* (                local host \(e.g., "eric@mastodon.CS.Berkeley.EDU"\).) Tj
T* (        SMART_HOST applies to names qualified with other hosts or) Tj
T* (                bracketed addresses \(e.g., "eric@mastodon.CS.Berkeley.EDU") Tj
T* (                or "eric@[127.0.0.1]"\).) Tj
T* () Tj
T* (However, beware that other relays \(e.g., UUCP_RELAY, BITNET_RELAY,) Tj
T* (DECNET_RELAY, and FAX_RELAY\) take precedence over SMART_HOST, so if you) Tj
T* (really want absolutely everything to go to a single central site you will) Tj
T* (need to unset all the other relays -- or better yet, find or build a) Tj
T* (minimal config file that does this.) Tj
T* () Tj
T* (For duplicate suppression to work properly, the host name is best) Tj
T* (specified with a terminal dot:) Tj
T* () Tj
T* (        define\(`MAIL_HUB', `host.domain.'\)) Tj
T* (              note the trailing dot ---^) Tj
T* () Tj
T* () Tj
T* (+-------------------------------------------+) Tj
T* (| USING LDAP FOR ALIASES, MAPS, AND CLASSES |) Tj
T* (+-------------------------------------------+) Tj
T* () Tj
T* (LDAP can be used for aliases, maps, and classes by either specifying your) Tj
T* (own LDAP map specification or using the built-in default LDAP map) Tj
T* (specification.  The built-in default specifications all provide lookups) Tj
T* (which match against either the machine's fully qualified hostname \(${j}\) or) Tj
T* (a "cluster".  The cluster allows you to share LDAP entries among a large) Tj
T* (number of machines without having to enter each of the machine names into) Tj
T* (each LDAP entry.  To set the LDAP cluster name to use for a particular) Tj
T* (machine or set of machines, set the confLDAP_CLUSTER m4 variable to a) Tj
T* (unique name.  For example:) Tj
T* () Tj
T* (        define\(`confLDAP_CLUSTER', `Servers'\)) Tj
T* () Tj
T* (Here, the word `Servers' will be the cluster name.  As an example, assume) Tj
T* (that smtp.sendmail.org, etrn.sendmail.org, and mx.sendmail.org all belong) Tj
T* (to the Servers cluster.) Tj
T* () Tj
T* (Some of the LDAP LDIF examples below show use of the Servers cluster.) Tj
T* (Every entry must have either a sendmailMTAHost or sendmailMTACluster) Tj
T* (attribute or it will be ignored.  Be careful as mixing clusters and) Tj
T* (individual host records can have surprising results \(see the CAUTION) Tj
T* (sections below\).) Tj
T* () Tj
T* (See the file cf/sendmail.schema for the actual LDAP schemas.  Note that) Tj
T* (this schema \(and therefore the lookups and examples below\) is experimental) Tj
T* (at this point as it has had little public review.  Therefore, it may change) Tj
T* (in future versions.  Feedback via sendmail@sendmail.org is encouraged.) Tj
T* () Tj
T* (-------) Tj
T* (Aliases) Tj
T* (-------) Tj
ET
endstream
endobj
111 0 obj
3225
endobj
112 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 113 0 R
/Rotate 0
/Annots [ 7 0 R 8 0 R ]
>>
endobj
113 0 obj
<<
/Length 114 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* () Tj
T* (The ALIAS_FILE \(O AliasFile\) option can be set to use LDAP for alias) Tj
T* (lookups.  To use the default schema, simply use:) Tj
T* () Tj
T* (        define\(`ALIAS_FILE', `) Tj
 0 0 1 rg
 (ldap:'\)) Tj
 0 0 0 rg
 () Tj
T* () Tj
T* (By doing so, you will use the default schema which expands to a map) Tj
T* (declared as follows:) Tj
T* () Tj
T* (        ldap -k \(&\(objectClass=sendmailMTAAliasObject\)) Tj
T* (                  \(sendmailMTAAliasGrouping=aliases\)) Tj
T* (                  \(|\(sendmailMTACluster=${sendmailMTACluster}\)) Tj
T* (                    \(sendmailMTAHost=$j\)\)) Tj
T* (                  \(sendmailMTAKey=%0\)\)) Tj
T* (             -v sendmailMTAAliasValue) Tj
T* () Tj
T* (NOTE: The macros shown above ${sendmailMTACluster} and $j are not actually) Tj
T* (used when the binary expands the `) Tj
 0 0 1 rg
 (ldap:') Tj
 0 0 0 rg
 ( token as the AliasFile option is) Tj
T* (not actually macro-expanded when read from the sendmail.cf file.) Tj
T* () Tj
T* (Example LDAP LDIF entries might be:) Tj
T* () Tj
T* (        dn: sendmailMTAKey=sendmail-list, dc=sendmail, dc=org) Tj
T* (        objectClass: sendmailMTA) Tj
T* (        objectClass: sendmailMTAAlias) Tj
T* (        objectClass: sendmailMTAAliasObject) Tj
T* (        sendmailMTAAliasGrouping: aliases) Tj
T* (        sendmailMTAHost: etrn.sendmail.org) Tj
T* (        sendmailMTAKey: sendmail-list) Tj
T* (        sendmailMTAAliasValue: ca@example.org) Tj
T* (        sendmailMTAAliasValue: eric) Tj
T* (        sendmailMTAAliasValue: gshapiro@example.com) Tj
T* () Tj
T* (        dn: sendmailMTAKey=owner-sendmail-list, dc=sendmail, dc=org) Tj
T* (        objectClass: sendmailMTA) Tj
T* (        objectClass: sendmailMTAAlias) Tj
T* (        objectClass: sendmailMTAAliasObject) Tj
T* (        sendmailMTAAliasGrouping: aliases) Tj
T* (        sendmailMTAHost: etrn.sendmail.org) Tj
T* (        sendmailMTAKey: owner-sendmail-list) Tj
T* (        sendmailMTAAliasValue: eric) Tj
T* () Tj
T* (        dn: sendmailMTAKey=postmaster, dc=sendmail, dc=org) Tj
T* (        objectClass: sendmailMTA) Tj
T* (        objectClass: sendmailMTAAlias) Tj
T* (        objectClass: sendmailMTAAliasObject) Tj
T* (        sendmailMTAAliasGrouping: aliases) Tj
T* (        sendmailMTACluster: Servers) Tj
T* (        sendmailMTAKey: postmaster) Tj
T* (        sendmailMTAAliasValue: eric) Tj
T* () Tj
T* (Here, the aliases sendmail-list and owner-sendmail-list will be available) Tj
T* (only on etrn.sendmail.org but the postmaster alias will be available on) Tj
T* (every machine in the Servers cluster \(including etrn.sendmail.org\).) Tj
T* () Tj
T* (CAUTION: aliases are additive so that entries like these:) Tj
T* () Tj
T* (        dn: sendmailMTAKey=bob, dc=sendmail, dc=org) Tj
T* (        objectClass: sendmailMTA) Tj
T* (        objectClass: sendmailMTAAlias) Tj
ET
endstream
endobj
114 0 obj
2905
endobj
115 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 116 0 R
/Rotate 0
/Annots [ 9 0 R ]
>>
endobj
116 0 obj
<<
/Length 117 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (        objectClass: sendmailMTAAliasObject) Tj
T* (        sendmailMTAAliasGrouping: aliases) Tj
T* (        sendmailMTACluster: Servers) Tj
T* (        sendmailMTAKey: bob) Tj
T* (        sendmailMTAAliasValue: eric) Tj
T* () Tj
T* (        dn: sendmailMTAKey=bob, dc=sendmail, dc=org) Tj
T* (        objectClass: sendmailMTA) Tj
T* (        objectClass: sendmailMTAAlias) Tj
T* (        objectClass: sendmailMTAAliasObject) Tj
T* (        sendmailMTAAliasGrouping: aliases) Tj
T* (        sendmailMTAHost: etrn.sendmail.org) Tj
T* (        sendmailMTAKey: bob) Tj
T* (        sendmailMTAAliasValue: gshapiro) Tj
T* () Tj
T* (would mean that on all of the hosts in the cluster, mail to bob would go to) Tj
T* (eric EXCEPT on etrn.sendmail.org in which case it would go to BOTH eric and) Tj
T* (gshapiro.) Tj
T* () Tj
T* (If you prefer not to use the default LDAP schema for your aliases, you can) Tj
T* (specify the map parameters when setting ALIAS_FILE.  For example:) Tj
T* () Tj
T* (        define\(`ALIAS_FILE', `) Tj
 0 0 1 rg
 (ldap:-k) Tj
 0 0 0 rg
 ( \(&\(objectClass=mailGroup\)\(mail=%0\)\) -v mgrpRFC822MailMember'\)) Tj
T* () Tj
T* (----) Tj
T* (Maps) Tj
T* (----) Tj
T* () Tj
T* (FEATURE\(\)'s which take an optional map definition argument \(e.g., access,) Tj
T* (mailertable, virtusertable, etc.\) can instead take the special keyword) Tj
T* (`LDAP', e.g.:) Tj
T* () Tj
T* (        FEATURE\(`access_db', `LDAP'\)) Tj
T* (        FEATURE\(`virtusertable', `LDAP'\)) Tj
T* () Tj
T* (When this keyword is given, that map will use LDAP lookups consisting of) Tj
T* (the objectClass sendmailMTAClassObject, the attribute sendmailMTAMapName) Tj
T* (with the map name, a search attribute of sendmailMTAKey, and the value) Tj
T* (attribute sendmailMTAMapValue.) Tj
T* () Tj
T* (The values for sendmailMTAMapName are:) Tj
T* () Tj
T* (        FEATURE\(\)               sendmailMTAMapName) Tj
T* (        ---------               ------------------) Tj
T* (        access_db               access) Tj
T* (        authinfo                authinfo) Tj
T* (        bitdomain               bitdomain) Tj
T* (        domaintable             domain) Tj
T* (        genericstable           generics) Tj
T* (        mailertable             mailer) Tj
T* (        uucpdomain              uucpdomain) Tj
T* (        virtusertable           virtuser) Tj
T* () Tj
T* (For example, FEATURE\(`mailertable', `LDAP'\) would use the map definition:) Tj
T* () Tj
T* (        Kmailertable ldap -k \(&\(objectClass=sendmailMTAMapObject\)) Tj
T* (                               \(sendmailMTAMapName=mailer\)) Tj
T* (                               \(|\(sendmailMTACluster=${sendmailMTACluster}\)) Tj
T* (                                 \(sendmailMTAHost=$j\)\)) Tj
T* (                               \(sendmailMTAKey=%0\)\)) Tj
ET
endstream
endobj
117 0 obj
2857
endobj
118 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 119 0 R
/Rotate 0
/Annots [ 10 0 R ]
>>
endobj
119 0 obj
<<
/Length 120 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (                          -1 -v sendmailMTAMapValue) Tj
T* () Tj
T* (An example LDAP LDIF entry using this map might be:) Tj
T* () Tj
T* (        dn: sendmailMTAMapName=mailer, dc=sendmail, dc=org) Tj
T* (        objectClass: sendmailMTA) Tj
T* (        objectClass: sendmailMTAMap) Tj
T* (        sendmailMTACluster: Servers) Tj
T* (        sendmailMTAMapName: mailer) Tj
T* () Tj
T* (        dn: sendmailMTAKey=example.com, sendmailMTAMapName=mailer, dc=sendmail, dc=org) Tj
T* (        objectClass: sendmailMTA) Tj
T* (        objectClass: sendmailMTAMap) Tj
T* (        objectClass: sendmailMTAMapObject) Tj
T* (        sendmailMTAMapName: mailer) Tj
T* (        sendmailMTACluster: Servers) Tj
T* (        sendmailMTAKey: example.com) Tj
T* (        sendmailMTAMapValue: relay:[smtp.example.com]) Tj
T* () Tj
T* (CAUTION: If your LDAP database contains the record above and *ALSO* a host) Tj
T* (specific record such as:) Tj
T* () Tj
T* (        dn: sendmailMTAKey=example.com@etrn, sendmailMTAMapName=mailer, dc=sendmail, dc=org) Tj
T* (        objectClass: sendmailMTA) Tj
T* (        objectClass: sendmailMTAMap) Tj
T* (        objectClass: sendmailMTAMapObject) Tj
T* (        sendmailMTAMapName: mailer) Tj
T* (        sendmailMTAHost: etrn.sendmail.org) Tj
T* (        sendmailMTAKey: example.com) Tj
T* (        sendmailMTAMapValue: relay:[mx.example.com]) Tj
T* () Tj
T* (then these entries will give unexpected results.  When the lookup is done) Tj
T* (on etrn.sendmail.org, the effect is that there is *NO* match at all as maps) Tj
T* (require a single match.  Since the host etrn.sendmail.org is also in the) Tj
T* (Servers cluster, LDAP would return two answers for the example.com map key) Tj
T* (in which case sendmail would treat this as no match at all.) Tj
T* () Tj
T* (If you prefer not to use the default LDAP schema for your maps, you can) Tj
T* (specify the map parameters when using the FEATURE\(\).  For example:) Tj
T* () Tj
T* (        FEATURE\(`access_db', `) Tj
 0 0 1 rg
 (ldap:-1) Tj
 0 0 0 rg
 ( -k \(&\(objectClass=mapDatabase\)\(key=%0\)\) -v value'\)) Tj
T* () Tj
T* (-------) Tj
T* (Classes) Tj
T* (-------) Tj
T* () Tj
T* (Normally, classes can be filled via files or programs.  As of 8.12, they) Tj
T* (can also be filled via map lookups using a new syntax:) Tj
T* () Tj
T* (        F{ClassName}mapkey@mapclass:mapspec) Tj
T* () Tj
T* (mapkey is optional and if not provided the map key will be empty.  This can) Tj
T* (be used with LDAP to read classes from LDAP.  Note that the lookup is only) Tj
T* (done when sendmail is initially started.  Use the special value `@LDAP' to) Tj
T* (use the default LDAP schema.  For example:) Tj
T* () Tj
T* (        RELAY_DOMAIN_FILE\(`@LDAP'\)) Tj
T* () Tj
T* (would put all of the attribute sendmailMTAClassValue values of LDAP records) Tj
T* (with objectClass sendmailMTAClass and an attribute sendmailMTAClassName of) Tj
ET
endstream
endobj
120 0 obj
2948
endobj
121 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 122 0 R
/Rotate 0
/Annots [ 11 0 R ]
>>
endobj
122 0 obj
<<
/Length 123 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* ('R' into class $={R}.  In other words, it is equivalent to the LDAP map) Tj
T* (specification:) Tj
T* () Tj
T* (        F{R}@) Tj
 0 0 1 rg
 (ldap:-k) Tj
 0 0 0 rg
 ( \(&\(objectClass=sendmailMTAClass\)) Tj
T* (                       \(sendmailMTAClassName=R\)) Tj
T* (                       \(|\(sendmailMTACluster=${sendmailMTACluster}\)) Tj
T* (                         \(sendmailMTAHost=$j\)\)\)) Tj
T* (                  -v sendmailMTAClassValue) Tj
T* () Tj
T* (NOTE: The macros shown above ${sendmailMTACluster} and $j are not actually) Tj
T* (used when the binary expands the `@LDAP' token as class declarations are) Tj
T* (not actually macro-expanded when read from the sendmail.cf file.) Tj
T* () Tj
T* (This can be used with class related commands such as RELAY_DOMAIN_FILE\(\),) Tj
T* (MASQUERADE_DOMAIN_FILE\(\), etc:) Tj
T* () Tj
T* (        Command                         sendmailMTAClassName) Tj
T* (        -------                         --------------------) Tj
T* (        CANONIFY_DOMAIN_FILE\(\)          Canonify) Tj
T* (        EXPOSED_USER_FILE\(\)             E) Tj
T* (        GENERICS_DOMAIN_FILE\(\)          G) Tj
T* (        LDAPROUTE_DOMAIN_FILE\(\)         LDAPRoute) Tj
T* (        LDAPROUTE_EQUIVALENT_FILE\(\)     LDAPRouteEquiv) Tj
T* (        LOCAL_USER_FILE\(\)               L) Tj
T* (        MASQUERADE_DOMAIN_FILE\(\)        M) Tj
T* (        MASQUERADE_EXCEPTION_FILE\(\)     N) Tj
T* (        RELAY_DOMAIN_FILE\(\)             R) Tj
T* (        VIRTUSER_DOMAIN_FILE\(\)          VirtHost) Tj
T* () Tj
T* (You can also add your own as any 'F'ile class of the form:) Tj
T* () Tj
T* (        F{ClassName}@LDAP) Tj
T* (          ^^^^^^^^^) Tj
T* (will use "ClassName" for the sendmailMTAClassName.) Tj
T* () Tj
T* (An example LDAP LDIF entry would look like:) Tj
T* () Tj
T* (        dn: sendmailMTAClassName=R, dc=sendmail, dc=org) Tj
T* (        objectClass: sendmailMTA) Tj
T* (        objectClass: sendmailMTAClass) Tj
T* (        sendmailMTACluster: Servers) Tj
T* (        sendmailMTAClassName: R) Tj
T* (        sendmailMTAClassValue: sendmail.org) Tj
T* (        sendmailMTAClassValue: example.com) Tj
T* (        sendmailMTAClassValue: 10.56.23) Tj
T* () Tj
T* (CAUTION: If your LDAP database contains the record above and *ALSO* a host) Tj
T* (specific record such as:) Tj
T* () Tj
T* (        dn: sendmailMTAClassName=R@etrn.sendmail.org, dc=sendmail, dc=org) Tj
T* (        objectClass: sendmailMTA) Tj
T* (        objectClass: sendmailMTAClass) Tj
T* (        sendmailMTAHost: etrn.sendmail.org) Tj
T* (        sendmailMTAClassName: R) Tj
T* (        sendmailMTAClassValue: example.com) Tj
T* () Tj
T* (the result will be similar to the aliases caution above.  When the lookup) Tj
T* (is done on etrn.sendmail.org, $={R} would contain all of the entries \(from) Tj
T* (both the cluster match and the host match\).  In other words, the effective) Tj
T* (is additive.) Tj
ET
endstream
endobj
123 0 obj
2968
endobj
124 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 125 0 R
/Rotate 0
/Annots [ 12 0 R ]
>>
endobj
125 0 obj
<<
/Length 126 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* () Tj
T* (If you prefer not to use the default LDAP schema for your classes, you can) Tj
T* (specify the map parameters when using the class command.  For example:) Tj
T* () Tj
T* (        VIRTUSER_DOMAIN_FILE\(`@) Tj
 0 0 1 rg
 (ldap:-k) Tj
 0 0 0 rg
 ( \(&\(objectClass=virtHosts\)\(host=*\)\) -v host'\)) Tj
T* () Tj
T* (Remember, macros can not be used in a class declaration as the binary does) Tj
T* (not expand them.) Tj
T* () Tj
T* () Tj
T* (+--------------+) Tj
T* (| LDAP ROUTING |) Tj
T* (+--------------+) Tj
T* () Tj
T* (FEATURE\(`ldap_routing'\) can be used to implement the IETF Internet Draft) Tj
T* (LDAP Schema for Intranet Mail Routing) Tj
T* (\(draft-lachman-laser-ldap-mail-routing-01\).  This feature enables) Tj
T* (LDAP-based rerouting of a particular address to either a different host) Tj
T* (or a different address.  The LDAP lookup is first attempted on the full) Tj
T* (address \(e.g., user@example.com\) and then on the domain portion) Tj
T* (\(e.g., @example.com\).  Be sure to setup your domain for LDAP routing using) Tj
T* (LDAPROUTE_DOMAIN\(\), e.g.:) Tj
T* () Tj
T* (        LDAPROUTE_DOMAIN\(`example.com'\)) Tj
T* () Tj
T* (Additionally, you can specify equivalent domains for LDAP routing using) Tj
T* (LDAPROUTE_EQUIVALENT\(\) and LDAPROUTE_EQUIVALENT_FILE\(\).  'Equivalent') Tj
T* (hostnames are mapped to $M \(the masqueraded hostname for the server\) before) Tj
T* (the LDAP query.  For example, if the mail is addressed to) Tj
T* (user@host1.example.com, normally the LDAP lookup would only be done for) Tj
T* ('user@host1.example.com' and '@host1.example.com'.   However, if) Tj
T* (LDAPROUTE_EQUIVALENT\(`host1.example.com'\) is used, the lookups would also be) Tj
T* (done on 'user@example.com' and '@example.com' after attempting the) Tj
T* (host1.example.com lookups.) Tj
T* () Tj
T* (By default, the feature will use the schemas as specified in the draft) Tj
T* (and will not reject addresses not found by the LDAP lookup.  However,) Tj
T* (this behavior can be changed by giving additional arguments to the FEATURE\(\)) Tj
T* (command:) Tj
T* () Tj
T* ( FEATURE\(`ldap_routing', <mailHost>, <mailRoutingAddress>, <bounce>, <detail>\)) Tj
T* () Tj
T* (where <mailHost> is a map definition describing how to lookup an alternative) Tj
T* (mail host for a particular address; <mailRoutingAddress> is a map definition) Tj
T* (describing how to lookup an alternative address for a particular address;) Tj
T* (the <bounce> argument, if present and not the word "passthru", dictates) Tj
T* (that mail should be bounced if neither a mailHost nor mailRoutingAddress) Tj
T* (is found; and <detail> indicates what actions to take if the address) Tj
T* (contains +detail information -- `strip' tries the lookup with the +detail) Tj
T* (and if no matches are found, strips the +detail and tries the lookup again;) Tj
T* (`preserve', does the same as `strip' but if a mailRoutingAddress match is) Tj
T* (found, the +detail information is copied to the new address.) Tj
T* () Tj
T* (The default <mailHost> map definition is:) Tj
T* () Tj
T* (        ldap -1 -v mailHost -k \(&\(objectClass=inetLocalMailRecipient\)) Tj
T* (                                 \(mailLocalAddress=%0\)\)) Tj
T* () Tj
T* (The default <mailRoutingAddress> map definition is:) Tj
T* () Tj
ET
endstream
endobj
126 0 obj
3343
endobj
127 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 128 0 R
/Rotate 0
>>
endobj
128 0 obj
<<
/Length 129 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (        ldap -1 -v mailRoutingAddress -k \(&\(objectClass=inetLocalMailRecipient\)) Tj
T* (                                           \(mailLocalAddress=%0\)\)) Tj
T* () Tj
T* (Note that neither includes the LDAP server hostname \(-h server\) or base DN) Tj
T* (\(-b o=org,c=COUNTRY\), both necessary for LDAP queries.  It is presumed that) Tj
T* (your .mc file contains a setting for the confLDAP_DEFAULT_SPEC option with) Tj
T* (these settings.  If this is not the case, the map definitions should be) Tj
T* (changed as described above.) Tj
T* () Tj
T* (The following possibilities exist as a result of an LDAP lookup on an) Tj
T* (address:) Tj
T* () Tj
T* (        mailHost is     mailRoutingAddress is   Results in) Tj
T* (        -----------     ---------------------   ----------) Tj
T* (        set to a        set                     mail delivered to) Tj
T* (        "local" host                            mailRoutingAddress) Tj
T* () Tj
T* (        set to a        not set                 delivered to) Tj
T* (        "local" host                            original address) Tj
T* () Tj
T* (        set to a        set                     mailRoutingAddress) Tj
T* (        remote host                             relayed to mailHost) Tj
T* () Tj
T* (        set to a        not set                 original address) Tj
T* (        remote host                             relayed to mailHost) Tj
T* () Tj
T* (        not set         set                     mail delivered to) Tj
T* (                                                mailRoutingAddress) Tj
T* () Tj
T* (        not set         not set                 delivered to) Tj
T* (                                                original address *OR*) Tj
T* (                                                bounced as unknown user) Tj
T* () Tj
T* (The term "local" host above means the host specified is in class {w}.  If) Tj
T* (the result would mean sending the mail to a different host, that host is) Tj
T* (looked up in the mailertable before delivery.) Tj
T* () Tj
T* (Note that the last case depends on whether the third argument is given) Tj
T* (to the FEATURE\(\) command.  The default is to deliver the message to the) Tj
T* (original address.) Tj
T* () Tj
T* (The LDAP entries should be set up with an objectClass of) Tj
T* (inetLocalMailRecipient and the address be listed in a mailLocalAddress) Tj
T* (attribute.  If present, there must be only one mailHost attribute and it) Tj
T* (must contain a fully qualified host name as its value.  Similarly, if) Tj
T* (present, there must be only one mailRoutingAddress attribute and it must) Tj
T* (contain an RFC 822 compliant address.  Some example LDAP records \(in LDIF) Tj
T* (format\):) Tj
T* () Tj
T* (        dn: uid=tom, o=example.com, c=US) Tj
T* (        objectClass: inetLocalMailRecipient) Tj
T* (        mailLocalAddress: tom@example.com) Tj
T* (        mailRoutingAddress: thomas@mailhost.example.com) Tj
T* () Tj
T* (This would deliver mail for tom@example.com to thomas@mailhost.example.com.) Tj
T* () Tj
T* (        dn: uid=dick, o=example.com, c=US) Tj
T* (        objectClass: inetLocalMailRecipient) Tj
T* (        mailLocalAddress: dick@example.com) Tj
T* (        mailHost: eng.example.com) Tj
ET
endstream
endobj
129 0 obj
3283
endobj
130 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 131 0 R
/Rotate 0
>>
endobj
131 0 obj
<<
/Length 132 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* () Tj
T* (This would relay mail for dick@example.com to the same address but redirect) Tj
T* (the mail to MX records listed for the host eng.example.com \(unless the) Tj
T* (mailertable overrides\).) Tj
T* () Tj
T* (        dn: uid=harry, o=example.com, c=US) Tj
T* (        objectClass: inetLocalMailRecipient) Tj
T* (        mailLocalAddress: harry@example.com) Tj
T* (        mailHost: mktmail.example.com) Tj
T* (        mailRoutingAddress: harry@mkt.example.com) Tj
T* () Tj
T* (This would relay mail for harry@example.com to the MX records listed for) Tj
T* (the host mktmail.example.com using the new address harry@mkt.example.com) Tj
T* (when talking to that host.) Tj
T* () Tj
T* (        dn: uid=virtual.example.com, o=example.com, c=US) Tj
T* (        objectClass: inetLocalMailRecipient) Tj
T* (        mailLocalAddress: @virtual.example.com) Tj
T* (        mailHost: server.example.com) Tj
T* (        mailRoutingAddress: virtual@example.com) Tj
T* () Tj
T* (This would send all mail destined for any username @virtual.example.com to) Tj
T* (the machine server.example.com's MX servers and deliver to the address) Tj
T* (virtual@example.com on that relay machine.) Tj
T* () Tj
T* () Tj
T* (+---------------------------------+) Tj
T* (| ANTI-SPAM CONFIGURATION CONTROL |) Tj
T* (+---------------------------------+) Tj
T* () Tj
T* (The primary anti-spam features available in sendmail are:) Tj
T* () Tj
T* (* Relaying is denied by default.) Tj
T* (* Better checking on sender information.) Tj
T* (* Access database.) Tj
T* (* Header checks.) Tj
T* () Tj
T* (Relaying \(transmission of messages from a site outside your host \(class) Tj
T* ({w}\) to another site except yours\) is denied by default.  Note that this) Tj
T* (changed in sendmail 8.9; previous versions allowed relaying by default.) Tj
T* (If you really want to revert to the old behaviour, you will need to use) Tj
T* (FEATURE\(`promiscuous_relay'\).  You can allow certain domains to relay) Tj
T* (through your server by adding their domain name or IP address to class) Tj
T* ({R} using RELAY_DOMAIN\(\) and RELAY_DOMAIN_FILE\(\) or via the access database) Tj
T* (\(described below\).  Note that IPv6 addresses must be prefaced with "IPv6:".) Tj
T* (The file consists \(like any other file based class\) of entries listed on) Tj
T* (separate lines, e.g.,) Tj
T* () Tj
T* (        sendmail.org) Tj
T* (        128.32) Tj
T* (        IPv6:2002:c0a8:02c7) Tj
T* (        IPv6:2002:c0a8:51d2::23f4) Tj
T* (        host.mydomain.com) Tj
T* (        [UNIX:localhost]) Tj
T* () Tj
T* (Notice: the last entry allows relaying for connections via a UNIX) Tj
T* (socket to the MTA/MSP.  This might be necessary if your configuration) Tj
T* (doesn't allow relaying by other means in that case, e.g., by having) Tj
T* (localhost.$m in class {R} \(make sure $m is not just a top level) Tj
T* (domain\).) Tj
ET
endstream
endobj
132 0 obj
2914
endobj
133 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 134 0 R
/Rotate 0
>>
endobj
134 0 obj
<<
/Length 135 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* () Tj
T* (If you use) Tj
T* () Tj
T* (        FEATURE\(`relay_entire_domain'\)) Tj
T* () Tj
T* (then any host in any of your local domains \(that is, class {m}\)) Tj
T* (will be relayed \(that is, you will accept mail either to or from any) Tj
T* (host in your domain\).) Tj
T* () Tj
T* (You can also allow relaying based on the MX records of the host) Tj
T* (portion of an incoming recipient address by using) Tj
T* () Tj
T* (        FEATURE\(`relay_based_on_MX'\)) Tj
T* () Tj
T* (For example, if your server receives a recipient of user@domain.com) Tj
T* (and domain.com lists your server in its MX records, the mail will be) Tj
T* (accepted for relay to domain.com.  This feature may cause problems) Tj
T* (if MX lookups for the recipient domain are slow or time out.  In that) Tj
T* (case, mail will be temporarily rejected.  It is usually better to) Tj
T* (maintain a list of hosts/domains for which the server acts as relay.) Tj
T* (Note also that this feature will stop spammers from using your host) Tj
T* (to relay spam but it will not stop outsiders from using your server) Tj
T* (as a relay for their site \(that is, they set up an MX record pointing) Tj
T* (to your mail server, and you will relay mail addressed to them) Tj
T* (without any prior arrangement\).  Along the same lines,) Tj
T* () Tj
T* (        FEATURE\(`relay_local_from'\)) Tj
T* () Tj
T* (will allow relaying if the sender specifies a return path \(i.e.) Tj
T* (MAIL FROM: <user@domain>\) domain which is a local domain.  This is a) Tj
T* (dangerous feature as it will allow spammers to spam using your mail) Tj
T* (server by simply specifying a return address of user@your.domain.com.) Tj
T* (It should not be used unless absolutely necessary.) Tj
T* (A slightly better solution is) Tj
T* () Tj
T* (        FEATURE\(`relay_mail_from'\)) Tj
T* () Tj
T* (which allows relaying if the mail sender is listed as RELAY in the) Tj
T* (access map.  If an optional argument `domain' is given, the domain) Tj
T* (portion of the mail sender is also checked to allowing relaying.) Tj
T* (This option only works together with the tag From: for the LHS of) Tj
T* (the access map entries \(see below: Finer control...\).  This feature) Tj
T* (allows spammers to abuse your mail server by specifying a return) Tj
T* (address that you enabled in your access file.  This may be harder) Tj
T* (to figure out for spammers, but it should not be used unless) Tj
T* (necessary.  Instead use SMTP AUTH or STARTTLS to allow relaying) Tj
T* (for roaming users.) Tj
T* () Tj
T* () Tj
T* (If source routing is used in the recipient address \(e.g.,) Tj
T* (RCPT TO: <user%site.com@othersite.com>\), sendmail will check) Tj
T* (user@site.com for relaying if othersite.com is an allowed relay host) Tj
T* (in either class {R}, class {m} if FEATURE\(`relay_entire_domain'\) is used,) Tj
T* (or the access database if FEATURE\(`access_db'\) is used.  To prevent) Tj
T* (the address from being stripped down, use:) Tj
T* () Tj
T* (        FEATURE\(`loose_relay_check'\)) Tj
T* () Tj
T* (If you think you need to use this feature, you probably do not.  This) Tj
T* (should only be used for sites which have no control over the addresses) Tj
ET
endstream
endobj
135 0 obj
3231
endobj
136 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 137 0 R
/Rotate 0
>>
endobj
137 0 obj
<<
/Length 138 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (that they provide a gateway for.  Use this FEATURE with caution as it) Tj
T* (can allow spammers to relay through your server if not setup properly.) Tj
T* () Tj
T* (NOTICE: It is possible to relay mail through a system which the anti-relay) Tj
T* (rules do not prevent: the case of a system that does use FEATURE\(`nouucp',) Tj
T* (`nospecial'\) \(system A\) and relays local messages to a mail hub \(e.g., via) Tj
T* (LOCAL_RELAY or LUSER_RELAY\) \(system B\).  If system B doesn't use) Tj
T* (FEATURE\(`nouucp'\) at all, addresses of the form) Tj
T* (<example.net!user@local.host> would be relayed to <user@example.net>.) Tj
T* (System A doesn't recognize `!' as an address separator and therefore) Tj
T* (forwards it to the mail hub which in turns relays it because it came from) Tj
T* (a trusted local host.  So if a mailserver allows UUCP \(bang-format\)) Tj
T* (addresses, all systems from which it allows relaying should do the same) Tj
T* (or reject those addresses.) Tj
T* () Tj
T* (As of 8.9, sendmail will refuse mail if the MAIL FROM: parameter has) Tj
T* (an unresolvable domain \(i.e., one that DNS, your local name service,) Tj
T* (or special case rules in ruleset 3 cannot locate\).  This also applies) Tj
T* (to addresses that use domain literals, e.g., <user@[1.2.3.4]>, if the) Tj
T* (IP address can't be mapped to a host name.  If you want to continue) Tj
T* (to accept such domains, e.g., because you are inside a firewall that) Tj
T* (has only a limited view of the Internet host name space \(note that you) Tj
T* (will not be able to return mail to them unless you have some "smart) Tj
T* (host" forwarder\), use) Tj
T* () Tj
T* (        FEATURE\(`accept_unresolvable_domains'\)) Tj
T* () Tj
T* (Alternatively, you can allow specific addresses by adding them to) Tj
T* (the access map, e.g.,) Tj
T* () Tj
T* (        From:unresolvable.domain        OK) Tj
T* (        From:[1.2.3.4]                  OK) Tj
T* (        From:[1.2.4]                    OK) Tj
T* () Tj
T* (Notice: domains which are temporarily unresolvable are \(temporarily\)) Tj
T* (rejected with a 451 reply code.  If those domains should be accepted) Tj
T* (\(which is discouraged\) then you can use) Tj
T* () Tj
T* (        LOCAL_CONFIG) Tj
T* (        C{ResOk}TEMP) Tj
T* () Tj
T* (sendmail will also refuse mail if the MAIL FROM: parameter is not) Tj
T* (fully qualified \(i.e., contains a domain as well as a user\).  If you) Tj
T* (want to continue to accept such senders, use) Tj
T* () Tj
T* (        FEATURE\(`accept_unqualified_senders'\)) Tj
T* () Tj
T* (Setting the DaemonPortOptions modifier 'u' overrides the default behavior,) Tj
T* (i.e., unqualified addresses are accepted even without this FEATURE.  If) Tj
T* (this FEATURE is not used, the DaemonPortOptions modifier 'f' can be used) Tj
T* (to enforce fully qualified domain names.) Tj
T* () Tj
T* (An ``access'' database can be created to accept or reject mail from) Tj
T* (selected domains.  For example, you may choose to reject all mail) Tj
T* (originating from known spammers.  To enable such a database, use) Tj
T* () Tj
T* (        FEATURE\(`access_db'\)) Tj
T* () Tj
T* (Notice: the access database is applied to the envelope addresses) Tj
T* (and the connection information, not to the header.) Tj
ET
endstream
endobj
138 0 obj
3311
endobj
139 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 140 0 R
/Rotate 0
>>
endobj
140 0 obj
<<
/Length 141 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* () Tj
T* (The FEATURE macro can accept as second parameter the key file) Tj
T* (definition for the database; for example) Tj
T* () Tj
T* (        FEATURE\(`access_db', `hash -T<TMPF> /etc/mail/access_map'\)) Tj
T* () Tj
T* (Notice: If a second argument is specified it must contain the option) Tj
T* (`-T<TMPF>' as shown above.  The optional third and fourth parameters) Tj
T* (may be `skip' or `lookupdotdomain'.  The former enables SKIP as) Tj
T* (value part \(see below\), the latter is another way to enable the) Tj
T* (feature of the same name \(see above\).) Tj
T* () Tj
T* (Remember, since /etc/mail/access is a database, after creating the text) Tj
T* (file as described below, you must use makemap to create the database) Tj
T* (map.  For example:) Tj
T* () Tj
T* (        makemap hash /etc/mail/access < /etc/mail/access) Tj
T* () Tj
T* (The table itself uses e-mail addresses, domain names, and network) Tj
T* (numbers as keys.  Note that IPv6 addresses must be prefaced with "IPv6:".) Tj
T* (For example,) Tj
T* () Tj
T* (        spammer@aol.com                 REJECT) Tj
T* (        cyberspammer.com                REJECT) Tj
T* (        192.168.212                     REJECT) Tj
T* (        IPv6:2002:c0a8:02c7             RELAY) Tj
T* (        IPv6:2002:c0a8:51d2::23f4       REJECT) Tj
T* () Tj
T* (would refuse mail from spammer@aol.com, any user from cyberspammer.com) Tj
T* (\(or any host within the cyberspammer.com domain\), any host on the) Tj
T* (192.168.212.* network, and the IPv6 address 2002:c0a8:51d2::23f4.  It would) Tj
T* (allow relay for the IPv6 network 2002:c0a8:02c7::/48.) Tj
T* () Tj
T* (The value part of the map can contain:) Tj
T* () Tj
T* (        OK              Accept mail even if other rules in the running) Tj
T* (                        ruleset would reject it, for example, if the domain) Tj
T* (                        name is unresolvable.  "Accept" does not mean) Tj
T* (                        "relay", but at most acceptance for local) Tj
T* (                        recipients.  That is, OK allows less than RELAY.) Tj
T* (        RELAY           Accept mail addressed to the indicated domain or) Tj
T* (                        received from the indicated domain for relaying) Tj
T* (                        through your SMTP server.  RELAY also serves as) Tj
T* (                        an implicit OK for the other checks.) Tj
T* (        REJECT          Reject the sender or recipient with a general) Tj
T* (                        purpose message.) Tj
T* (        DISCARD         Discard the message completely using the) Tj
T* (                        $#discard mailer.  If it is used in check_compat,) Tj
T* (                        it affects only the designated recipient, not) Tj
T* (                        the whole message as it does in all other cases.) Tj
T* (                        This should only be used if really necessary.) Tj
T* (        SKIP            This can only be used for host/domain names) Tj
T* (                        and IP addresses/nets.  It will abort the current) Tj
T* (                        search for this entry without accepting or rejecting) Tj
T* (                        it but causing the default action.) Tj
T* (        ### any text    where ### is an RFC 821 compliant error code and) Tj
T* (                        "any text" is a message to return for the command.) Tj
T* (                        The string should be quoted to avoid surprises,) Tj
T* (                        e.g., sendmail may remove spaces otherwise.) Tj
T* (                        This type is deprecated, use one the two) Tj
ET
endstream
endobj
141 0 obj
3650
endobj
142 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 143 0 R
/Rotate 0
>>
endobj
143 0 obj
<<
/Length 144 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (                        ERROR:  entries below instead.) Tj
T* (        ERROR:### any text) Tj
T* (                        as above, but useful to mark error messages as such.) Tj
T* (        ERROR:D.S.N:### any text) Tj
T* (                        where D.S.N is an RFC 1893 compliant error code) Tj
T* (                        and the rest as above.) Tj
T* () Tj
T* (For example:) Tj
T* () Tj
T* (        cyberspammer.com        ERROR:550 "We don't accept mail from spammers") Tj
T* (        okay.cyberspammer.com   OK) Tj
T* (        sendmail.org            RELAY) Tj
T* (        128.32                  RELAY) Tj
T* (        IPv6:1:2:3:4:5:6:7      RELAY) Tj
T* (        [127.0.0.3]             OK) Tj
T* (        [IPv6:1:2:3:4:5:6:7:8]  OK) Tj
T* () Tj
T* (would accept mail from okay.cyberspammer.com, but would reject mail from) Tj
T* (all other hosts at cyberspammer.com with the indicated message.  It would) Tj
T* (allow relaying mail from and to any hosts in the sendmail.org domain, and) Tj
T* (allow relaying from the 128.32.*.* network and the IPv6 1:2:3:4:5:6:7:*) Tj
T* (network.  The latter two entries are for checks against ${client_name} if) Tj
T* (the IP address doesn't resolve to a hostname \(or is considered as "may be) Tj
T* (forged"\).  That is, using square brackets means these are host names,) Tj
T* (not network numbers.) Tj
T* () Tj
T* (Warning: if you change the RFC 821 compliant error code from the default) Tj
T* (value of 550, then you should probably also change the RFC 1893 compliant) Tj
T* (error code to match it.  For example, if you use) Tj
T* () Tj
T* (        user@example.com        ERROR:450 mailbox full) Tj
T* () Tj
T* (the error returned would be "450 5.0.0 mailbox full" which is wrong.) Tj
T* (Use "ERROR:4.2.2:450 mailbox full" instead.) Tj
T* () Tj
T* (Note, UUCP users may need to add hostname.UUCP to the access database) Tj
T* (or class {R}.) Tj
T* () Tj
T* (If you also use:) Tj
T* () Tj
T* (        FEATURE\(`relay_hosts_only'\)) Tj
T* () Tj
T* (then the above example will allow relaying for sendmail.org, but not) Tj
T* (hosts within the sendmail.org domain.  Note that this will also require) Tj
T* (hosts listed in class {R} to be fully qualified host names.) Tj
T* () Tj
T* (You can also use the access database to block sender addresses based on) Tj
T* (the username portion of the address.  For example:) Tj
T* () Tj
T* (        FREE.STEALTH.MAILER@    ERROR:550 Spam not accepted) Tj
T* () Tj
T* (Note that you must include the @ after the username to signify that) Tj
T* (this database entry is for checking only the username portion of the) Tj
T* (sender address.) Tj
T* () Tj
T* (If you use:) Tj
T* () Tj
T* (        FEATURE\(`blacklist_recipients'\)) Tj
T* () Tj
T* (then you can add entries to the map for local users, hosts in your) Tj
ET
endstream
endobj
144 0 obj
2853
endobj
145 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 146 0 R
/Rotate 0
/Annots [ 13 0 R 14 0 R 15 0 R ]
>>
endobj
146 0 obj
<<
/Length 147 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (domains, or addresses in your domain which should not receive mail:) Tj
T* () Tj
T* (        badlocaluser@           ERROR:550 Mailbox disabled for this username) Tj
T* (        host.mydomain.com       ERROR:550 That host does not accept mail) Tj
T* (        user@otherhost.mydomain.com     ERROR:550 Mailbox disabled for this recipient) Tj
T* () Tj
T* (This would prevent a recipient of badlocaluser@mydomain.com, any) Tj
T* (user at host.mydomain.com, and the single address) Tj
T* (user@otherhost.mydomain.com from receiving mail.  Please note: a) Tj
T* (local username must be now tagged with an @ \(this is consistent) Tj
T* (with the check of the sender address, and hence it is possible to) Tj
T* (distinguish between hostnames and usernames\).  Enabling this feature) Tj
T* (will keep you from sending mails to all addresses that have an) Tj
T* (error message or REJECT as value part in the access map.  Taking) Tj
T* (the example from above:) Tj
T* () Tj
T* (        spammer@aol.com         REJECT) Tj
T* (        cyberspammer.com        REJECT) Tj
T* () Tj
T* (Mail can't be sent to spammer@aol.com or anyone at cyberspammer.com.) Tj
T* () Tj
T* (There are several DNS based blacklists, the first of which was) Tj
T* (the RBL \(``Realtime Blackhole List''\) run by the MAPS project,) Tj
T* (see ) Tj
 0 0 1 rg
 (http://mail-abuse.org/.) Tj
 0 0 0 rg
 (  These are databases of spammers) Tj
T* (maintained in DNS.  To use such a database, specify) Tj
T* () Tj
T* (        FEATURE\(`dnsbl'\)) Tj
T* () Tj
T* (This will cause sendmail to reject mail from any site in the original) Tj
T* (Realtime Blackhole List database.  This default DNS blacklist,) Tj
T* (blackholes.mail-abuse.org, is a service offered by the Mail Abuse) Tj
T* (Prevention System \(MAPS\).  As of July 31, 2001, MAPS is a subscription) Tj
T* (service, so using that network address won't work if you haven't) Tj
T* (subscribed.  Contact MAPS to subscribe \() Tj
 0 0 1 rg
 (http://mail-abuse.org/\).) Tj
 0 0 0 rg
 () Tj
T* () Tj
T* (You can specify an alternative RBL server to check by specifying an) Tj
T* (argument to the FEATURE.  The default error message is) Tj
T* () Tj
T* (        Mail from IP-ADDRESS refused by blackhole site SERVER) Tj
T* () Tj
T* (where IP-ADDRESS and SERVER are replaced by the appropriate) Tj
T* (information.  A second argument can be used to specify a different) Tj
T* (text.  By default, temporary lookup failures are ignored and hence) Tj
T* (cause the connection not to be rejected by the DNS based rejection) Tj
T* (list.  This behavior can be changed by specifying a third argument,) Tj
T* (which must be either `t' or a full error message.  For example:) Tj
T* () Tj
T* (        FEATURE\(`dnsbl', `dnsbl.example.com', `',) Tj
T* (        `"451 Temporary lookup failure for " $&{client_addr} " in dnsbl.example.com"'\)) Tj
T* () Tj
T* (If `t' is used, the error message is:) Tj
T* () Tj
T* (        451 Temporary lookup failure of IP-ADDRESS at SERVER) Tj
T* () Tj
T* (where IP-ADDRESS and SERVER are replaced by the appropriate) Tj
T* (information.) Tj
T* () Tj
T* (This FEATURE can be included several times to query different) Tj
T* (DNS based rejection lists, e.g., the dial-up user list \(see) Tj
T* () Tj
 0 0 1 rg
 (http://mail-abuse.org/dul/\).) Tj
 0 0 0 rg
 () Tj
ET
endstream
endobj
147 0 obj
3335
endobj
148 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 149 0 R
/Rotate 0
>>
endobj
149 0 obj
<<
/Length 150 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* () Tj
T* (Notice: to avoid checking your own local domains against those) Tj
T* (blacklists, use the access_db feature and add:) Tj
T* () Tj
T* (        Connect:10.1            OK) Tj
T* (        Connect:127.0.0.1       RELAY) Tj
T* () Tj
T* (to the access map, where 10.1 is your local network.  You may) Tj
T* (want to use "RELAY" instead of "OK" to allow also relaying) Tj
T* (instead of just disabling the DNS lookups in the backlists.) Tj
T* () Tj
T* () Tj
T* (The features described above make use of the check_relay, check_mail,) Tj
T* (and check_rcpt rulesets.  If you wish to include your own checks,) Tj
T* (you can put your checks in the rulesets Local_check_relay,) Tj
T* (Local_check_mail, and Local_check_rcpt.  For example if you wanted to) Tj
T* (block senders with all numeric usernames \(i.e. 2312343@bigisp.com\),) Tj
T* (you would use Local_check_mail and the regex map:) Tj
T* () Tj
T* (        LOCAL_CONFIG) Tj
T* (        Kallnumbers regex -a@MATCH ^[0-9]+$) Tj
T* () Tj
T* (        LOCAL_RULESETS) Tj
T* (        SLocal_check_mail) Tj
T* (        # check address against various regex checks) Tj
T* (        R$*                             $: $>Parse0 $>3 $1) Tj
T* (        R$+ < @ bigisp.com. > $*        $: $\(allnumbers $1 $\)) Tj
T* (        R@MATCH                         $#error $: 553 Header Error) Tj
T* () Tj
T* (These rules are called with the original arguments of the corresponding) Tj
T* (check_* ruleset.  If the local ruleset returns $#OK, no further checking) Tj
T* (is done by the features described above and the mail is accepted.  If the) Tj
T* (local ruleset resolves to a mailer \(such as $#error or $#discard\), the) Tj
T* (appropriate action is taken.  Otherwise, the results of the local) Tj
T* (rewriting are ignored.) Tj
T* () Tj
T* (Finer control by using tags for the LHS of the access map) Tj
T* (---------------------------------------------------------) Tj
T* () Tj
T* (Read this section only if the options listed so far are not sufficient) Tj
T* (for your purposes.  There is now the option to tag entries in the) Tj
T* (access map according to their type.  Three tags are available:) Tj
T* () Tj
T* (        Connect:        connection information \(${client_addr}, ${client_name}\)) Tj
T* (        From:           envelope sender) Tj
T* (        To:             envelope recipient) Tj
T* () Tj
T* (If the required item is looked up in a map, it will be tried first) Tj
T* (with the corresponding tag in front, then \(as fallback to enable) Tj
T* (backward compatibility\) without any tag, unless the specific feature) Tj
T* (requires a tag.  For example,) Tj
T* () Tj
T* (        From:spammer@some.dom   REJECT) Tj
T* (        To:friend.domain        RELAY) Tj
T* (        Connect:friend.domain   OK) Tj
T* (        Connect:from.domain     RELAY) Tj
T* (        From:good@another.dom   OK) Tj
T* (        From:another.dom        REJECT) Tj
T* () Tj
T* (This would deny mails from spammer@some.dom but you could still) Tj
ET
endstream
endobj
150 0 obj
3024
endobj
151 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 152 0 R
/Rotate 0
>>
endobj
152 0 obj
<<
/Length 153 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (send mail to that address even if FEATURE\(`blacklist_recipients'\)) Tj
T* (is enabled.  Your system will allow relaying to friend.domain, but) Tj
T* (not from it \(unless enabled by other means\).  Connections from that) Tj
T* (domain will be allowed even if it ends up in one of the DNS based) Tj
T* (rejection lists.  Relaying is enabled from from.domain but not to) Tj
T* (it \(since relaying is based on the connection information for) Tj
T* (outgoing relaying, the tag Connect: must be used; for incoming) Tj
T* (relaying, which is based on the recipient address, To: must be) Tj
T* (used\).  The last two entries allow mails from good@another.dom but) Tj
T* (reject mail from all other addresses with another.dom as domain) Tj
T* (part.) Tj
T* () Tj
T* (Delay all checks) Tj
T* (----------------) Tj
T* () Tj
T* (By using FEATURE\(`delay_checks'\) the rulesets check_mail and check_relay) Tj
T* (will not be called when a client connects or issues a MAIL command,) Tj
T* (respectively.  Instead, those rulesets will be called by the check_rcpt) Tj
T* (ruleset; they will be skipped if a sender has been authenticated using) Tj
T* (a "trusted" mechanism, i.e., one that is defined via TRUST_AUTH_MECH\(\).) Tj
T* (If check_mail returns an error then the RCPT TO command will be rejected) Tj
T* (with that error.  If it returns some other result starting with $# then) Tj
T* (check_relay will be skipped.  If the sender address \(or a part of it\) is) Tj
T* (listed in the access map and it has a RHS of OK or RELAY, then check_relay) Tj
T* (will be skipped.  This has an interesting side effect: if your domain is) Tj
T* (my.domain and you have) Tj
T* () Tj
T* (        my.domain       RELAY) Tj
T* () Tj
T* (in the access map, then all e-mail with a sender address of) Tj
T* (<user@my.domain> gets through, even if check_relay would reject it) Tj
T* (\(e.g., based on the hostname or IP address\).  This allows spammers) Tj
T* (to get around DNS based blacklist by faking the sender address.  To) Tj
T* (avoid this problem you have to use tagged entries:) Tj
T* () Tj
T* (        To:my.domain            RELAY) Tj
T* (        Connect:my.domain       RELAY) Tj
T* () Tj
T* (if you need those entries at all \(class {R} may take care of them\).) Tj
T* () Tj
T* (FEATURE\(`delay_checks'\) can take an optional argument:) Tj
T* () Tj
T* (        FEATURE\(`delay_checks', `friend'\)) Tj
T* (                 enables spamfriend test) Tj
T* (        FEATURE\(`delay_checks', `hater'\)) Tj
T* (                 enables spamhater test) Tj
T* () Tj
T* (If such an argument is given, the recipient will be looked up in the access) Tj
T* (map \(using the tag Spam:\).  If the argument is `friend', then the other) Tj
T* (rulesets will be skipped if the recipient address is found and has RHS) Tj
T* (friend.  If the argument is `hater', then the other rulesets will be) Tj
T* (applied if the recipient address is found and has RHS hater.) Tj
T* () Tj
T* (This allows for simple exceptions from the tests, e.g., by activating) Tj
T* (the friend option and having) Tj
T* () Tj
T* (        Spam:abuse@     FRIEND) Tj
T* () Tj
T* (in the access map, mail to abuse@localdomain will get through.  It is) Tj
T* (also possible to specify a full address or an address with +detail:) Tj
ET
endstream
endobj
153 0 obj
3316
endobj
154 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 155 0 R
/Rotate 0
/Annots [ 16 0 R ]
>>
endobj
155 0 obj
<<
/Length 156 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* () Tj
T* (        Spam:abuse@my.domain    FRIEND) Tj
T* (        Spam:me+abuse@          FRIEND) Tj
T* (        Spam:spam.domain        FRIEND) Tj
T* () Tj
T* (Note: The required tag has been changed in 8.12 from To: to Spam:.) Tj
T* (This change is incompatible to previous versions.  However, you can) Tj
T* (\(for now\) simply add the new entries to the access map, the old) Tj
T* (ones will be ignored.  As soon as you removed the old entries from) Tj
T* (the access map, specify a third parameter \(`n'\) to this feature and) Tj
T* (the backward compatibility rules will not be in the generated .cf) Tj
T* (file.) Tj
T* () Tj
T* (Header Checks) Tj
T* (-------------) Tj
T* () Tj
T* (You can also reject mail on the basis of the contents of headers.) Tj
T* (This is done by adding a ruleset call to the 'H' header definition command) Tj
T* (in sendmail.cf.  For example, this can be used to check the validity of) Tj
T* (a Message-ID: header:) Tj
T* () Tj
T* (        LOCAL_RULESETS) Tj
T* (        HMessage-Id: $>CheckMessageId) Tj
T* () Tj
T* (        SCheckMessageId) Tj
T* (        R< $+ @ $+ >            $@ OK) Tj
T* (        R$*                     $#error $: 553 Header Error) Tj
T* () Tj
T* (The alternative format:) Tj
T* () Tj
T* (        HSubject: $>+CheckSubject) Tj
T* () Tj
T* (that is, $>+ instead of $>, gives the full Subject: header including) Tj
T* (comments to the ruleset \(comments in parentheses \(\) are stripped) Tj
T* (by default\).) Tj
T* () Tj
T* (A default ruleset for headers which don't have a specific ruleset) Tj
T* (defined for them can be given by:) Tj
T* () Tj
T* (        H*: $>CheckHdr) Tj
T* () Tj
T* (Notice:) Tj
T* (1. All rules act on tokens as explained in doc/op/op.{me,ps,txt}.) Tj
T* (That may cause problems with simple header checks due to the) Tj
T* (tokenization.  It might be simpler to use a regex map and apply it) Tj
T* (to $&{currHeader}.) Tj
T* (2. There are no default rulesets coming with this distribution of) Tj
T* (sendmail.  You can either write your own or you can search the) Tj
T* (WWW for examples, e.g.,  ) Tj
 0 0 1 rg
 (http://www.digitalanswers.org/check_local/) Tj
 0 0 0 rg
 () Tj
T* () Tj
T* (After all of the headers are read, the check_eoh ruleset will be called for) Tj
T* (any final header-related checks.  The ruleset is called with the number of) Tj
T* (headers and the size of all of the headers in bytes separated by $|.  One) Tj
T* (example usage is to reject messages which do not have a Message-Id:) Tj
T* (header.  However, the Message-Id: header is *NOT* a required header and is) Tj
T* (not a guaranteed spam indicator.  This ruleset is an example and should) Tj
T* (probably not be used in production.) Tj
T* () Tj
T* (        LOCAL_CONFIG) Tj
T* (        Kstorage macro) Tj
ET
endstream
endobj
156 0 obj
2811
endobj
157 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 158 0 R
/Rotate 0
>>
endobj
158 0 obj
<<
/Length 159 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* () Tj
T* (        LOCAL_RULESETS) Tj
T* (        HMessage-Id: $>CheckMessageId) Tj
T* () Tj
T* (        SCheckMessageId) Tj
T* (        # Record the presence of the header) Tj
T* (        R$*                     $: $\(storage {MessageIdCheck} $@ OK $\) $1) Tj
T* (        R< $+ @ $+ >            $@ OK) Tj
T* (        R$*                     $#error $: 553 Header Error) Tj
T* () Tj
T* (        Scheck_eoh) Tj
T* (        # Check the macro) Tj
T* (        R$*                     $: < $&{MessageIdCheck} >) Tj
T* (        # Clear the macro for the next message) Tj
T* (        R$*                     $: $\(storage {MessageIdCheck} $\) $1) Tj
T* (        # Has a Message-Id: header) Tj
T* (        R< $+ >                 $@ OK) Tj
T* (        # Allow missing Message-Id: from local mail) Tj
T* (        R$*                     $: < $&{client_name} >) Tj
T* (        R< >                    $@ OK) Tj
T* (        R< $=w >                $@ OK) Tj
T* (        # Otherwise, reject the mail) Tj
T* (        R$*                     $#error $: 553 Header Error) Tj
T* () Tj
T* (+----------+) Tj
T* (| STARTTLS |) Tj
T* (+----------+) Tj
T* () Tj
T* (In this text, cert will be used as an abreviation for X.509 certificate,) Tj
T* (DN \(CN\) is the distinguished \(common\) name of a cert, and CA is a) Tj
T* (certification authority, which signs \(issues\) certs.) Tj
T* () Tj
T* (For STARTTLS to be offered by sendmail you need to set at least) Tj
T* (this variables \(the file names and paths are just examples\):) Tj
T* () Tj
T* (        define\(`confCACERT_PATH', `/etc/mail/certs/'\)) Tj
T* (        define\(`confCACERT', `/etc/mail/certs/CA.cert.pem'\)) Tj
T* (        define\(`confSERVER_CERT', `/etc/mail/certs/my.cert.pem'\)) Tj
T* (        define\(`confSERVER_KEY', `/etc/mail/certs/my.key.pem'\)) Tj
T* () Tj
T* (On systems which do not have the compile flag HASURANDOM set \(see) Tj
T* (sendmail/README\) you also must set confRAND_FILE.) Tj
T* () Tj
T* (See doc/op/op.{me,ps,txt} for more information about these options,) Tj
T* (especially the sections ``Certificates for STARTTLS'' and ``PRNG for) Tj
T* (STARTTLS''.) Tj
T* () Tj
T* (Macros related to STARTTLS are:) Tj
T* () Tj
T* (${cert_issuer} holds the DN of the CA \(the cert issuer\).) Tj
T* (${cert_subject} holds the DN of the cert \(called the cert subject\).) Tj
T* (${cn_issuer} holds the CN of the CA \(the cert issuer\).) Tj
T* (${cn_subject} holds the CN of the cert \(called the cert subject\).) Tj
T* (${tls_version} the TLS/SSL version used for the connection, e.g., TLSv1,) Tj
T* (        TLSv1/SSLv3, SSLv3, SSLv2.) Tj
T* (${cipher} the cipher used for the connection, e.g., EDH-DSS-DES-CBC3-SHA,) Tj
T* (        EDH-RSA-DES-CBC-SHA, DES-CBC-MD5, DES-CBC3-SHA.) Tj
T* (${cipher_bits} the keylength \(in bits\) of the symmetric encryption algorithm) Tj
T* (        used for the connection.) Tj
T* (${verify} holds the result of the verification of the presented cert.) Tj
ET
endstream
endobj
159 0 obj
2994
endobj
160 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 161 0 R
/Rotate 0
>>
endobj
161 0 obj
<<
/Length 162 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (        Possible values are:) Tj
T* (        OK       verification succeeded.) Tj
T* (        NO       no cert presented.) Tj
T* (        NOT      no cert requested.) Tj
T* (        FAIL     cert presented but could not be verified,) Tj
T* (                 e.g., the cert of the signing CA is missing.) Tj
T* (        NONE     STARTTLS has not been performed.) Tj
T* (        TEMP     temporary error occurred.) Tj
T* (        PROTOCOL protocol error occurred \(SMTP level\).) Tj
T* (        SOFTWARE STARTTLS handshake failed.) Tj
T* (${server_name} the name of the server of the current outgoing SMTP) Tj
T* (        connection.) Tj
T* (${server_addr} the address of the server of the current outgoing SMTP) Tj
T* (        connection.) Tj
T* () Tj
T* (Relaying) Tj
T* (--------) Tj
T* () Tj
T* (SMTP STARTTLS can allow relaying for senders who have successfully) Tj
T* (authenticated themselves.  This is done in the ruleset RelayAuth.  If the) Tj
T* (verification of the cert failed \(${verify} != OK\), relaying is subject to) Tj
T* (the usual rules.  Otherwise the DN of the issuer is looked up in the access) Tj
T* (map using the tag CERTISSUER.  If the resulting value is RELAY, relaying is) Tj
T* (allowed.  If it is SUBJECT, the DN of the cert subject is looked up next in) Tj
T* (the access map using the tag CERTSUBJECT.  If the value is RELAY, relaying) Tj
T* (is allowed.) Tj
T* () Tj
T* (To make things a bit more flexible \(or complicated\), the values for) Tj
T* (${cert_issuer} and ${cert_subject} can be optionally modified by regular) Tj
T* (expressions defined in the m4 variables _CERT_REGEX_ISSUER_ and) Tj
T* (_CERT_REGEX_SUBJECT_, respectively.  To avoid problems with those macros in) Tj
T* (rulesets and map lookups, they are modified as follows: each non-printable) Tj
T* (character and the characters '<', '>', '\(', '\)', '"', '+' are replaced by) Tj
T* (their HEX value with a leading '+'.  For example:) Tj
T* () Tj
T* (/C=US/ST=California/O=endmail.org/OU=private/CN=Darth Mail \(Cert\)/Email=) Tj
T* (darth+cert@endmail.org) Tj
T* () Tj
T* (is encoded as:) Tj
T* () Tj
T* (/C=US/ST=California/O=endmail.org/OU=private/CN=) Tj
T* (Darth+20Mail+20+28Cert+29/Email=darth+2Bcert@endmail.org) Tj
T* () Tj
T* (\(line breaks have been inserted for readability\).) Tj
T* () Tj
T* (Examples:) Tj
T* () Tj
T* (To allow relaying for everyone who can present a cert signed by) Tj
T* () Tj
T* (/C=US/ST=California/O=endmail.org/OU=private/CN=) Tj
T* (Darth+20Mail+20+28Cert+29/Email=darth+2Bcert@endmail.org) Tj
T* () Tj
T* (simply use:) Tj
T* () Tj
T* (CERTIssuer:/C=US/ST=California/O=endmail.org/OU=private/CN=) Tj
T* (Darth+20Mail+20+28Cert+29/Email=darth+2Bcert@endmail.org        RELAY) Tj
T* () Tj
T* (To allow relaying only for a subset of machines that have a cert signed by) Tj
T* () Tj
T* (/C=US/ST=California/O=endmail.org/OU=private/CN=) Tj
ET
endstream
endobj
162 0 obj
2919
endobj
163 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 164 0 R
/Rotate 0
>>
endobj
164 0 obj
<<
/Length 165 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (Darth+20Mail+20+28Cert+29/Email=darth+2Bcert@endmail.org) Tj
T* () Tj
T* (use:) Tj
T* () Tj
T* (CERTIssuer:/C=US/ST=California/O=endmail.org/OU=private/CN=) Tj
T* (Darth+20Mail+20+28Cert+29/Email=darth+2Bcert@endmail.org        SUBJECT) Tj
T* (CERTSubject:/C=US/ST=California/O=endmail.org/OU=private/CN=) Tj
T* (DeathStar/Email=deathstar@endmail.org           RELAY) Tj
T* () Tj
T* (Note: line breaks have been inserted after "CN=" for readability,) Tj
T* (each tagged entry must be one \(long\) line in the access map.) Tj
T* () Tj
T* (Of course it is also possible to write a simple ruleset that allows) Tj
T* (relaying for everyone who can present a cert that can be verified, e.g.,) Tj
T* () Tj
T* (LOCAL_RULESETS) Tj
T* (SLocal_check_rcpt) Tj
T* (R$*     $: $&{verify}) Tj
T* (ROK     $# OK) Tj
T* () Tj
T* (Allowing Connections) Tj
T* (--------------------) Tj
T* () Tj
T* (The rulesets tls_server, tls_client, and tls_rcpt are used to decide whether) Tj
T* (an SMTP connection is accepted \(or should continue\).) Tj
T* () Tj
T* (tls_server is called when sendmail acts as client after a STARTTLS command) Tj
T* (\(should\) have been issued.  The parameter is the value of ${verify}.) Tj
T* () Tj
T* (tls_client is called when sendmail acts as server, after a STARTTLS command) Tj
T* (has been issued, and from check_mail.  The parameter is the value of) Tj
T* (${verify} and STARTTLS or MAIL, respectively.) Tj
T* () Tj
T* (Both rulesets behave the same.  If no access map is in use, the connection) Tj
T* (will be accepted unless ${verify} is SOFTWARE, in which case the connection) Tj
T* (is always aborted.  For tls_server/tls_client, ${client_name}/${server_name}) Tj
T* (is looked up in the access map using the tag TLS_Srv/TLS_Clt, which is done) Tj
T* (with the ruleset LookUpDomain.  If no entry is found, ${client_addr}) Tj
T* (\(${server_addr}\) is looked up in the access map \(same tag, ruleset) Tj
T* (LookUpAddr\).  If this doesn't result in an entry either, just the tag is) Tj
T* (looked up in the access map \(included the trailing colon\).  Notice:) Tj
T* (requiring that e-mail is sent to a server only encrypted, e.g., via) Tj
T* () Tj
T* (TLS_Srv:secure.domain   ENCR:112) Tj
T* () Tj
T* (doesn't necessarily mean that e-mail sent to that domain is encrypted.) Tj
T* (If the domain has multiple MX servers, e.g.,) Tj
T* () Tj
T* (secure.domain.  IN MX 10        mail.secure.domain.) Tj
T* (secure.domain.  IN MX 50        mail.other.domain.) Tj
T* () Tj
T* (then mail to user@secure.domain may go unencrypted to mail.other.domain.) Tj
T* (tls_rcpt can be used to address this problem.) Tj
T* () Tj
T* (tls_rcpt is called before a RCPT TO: command is sent.  The parameter is the) Tj
T* (current recipient.  This ruleset is only defined if FEATURE\(`access_db'\)) Tj
T* (is selected.  A recipient address user@domain is looked up in the access) Tj
T* (map in four formats: TLS_Rcpt:user@domain, TLS_Rcpt:user@, TLS_Rcpt:domain,) Tj
T* (and TLS_Rcpt:; the first match is taken.) Tj
T* () Tj
ET
endstream
endobj
165 0 obj
3062
endobj
166 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 167 0 R
/Rotate 0
>>
endobj
167 0 obj
<<
/Length 168 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (The result of the lookups is then used to call the ruleset TLS_connection,) Tj
T* (which checks the requirement specified by the RHS in the access map against) Tj
T* (the actual parameters of the current TLS connection, esp. ${verify} and) Tj
T* (${cipher_bits}.  Legal RHSs in the access map are:) Tj
T* () Tj
T* (VERIFY          verification must have succeeded) Tj
T* (VERIFY:bits     verification must have succeeded and ${cipher_bits} must) Tj
T* (                be greater than or equal bits.) Tj
T* (ENCR:bits       ${cipher_bits} must be greater than or equal bits.) Tj
T* () Tj
T* (The RHS can optionally be prefixed by TEMP+ or PERM+ to select a temporary) Tj
T* (or permanent error.  The default is a temporary error code \(403 4.7.0\)) Tj
T* (unless the macro TLS_PERM_ERR is set during generation of the .cf file.) Tj
T* () Tj
T* (If a certain level of encryption is required, then it might also be) Tj
T* (possible that this level is provided by the security layer from a SASL) Tj
T* (algorithm, e.g., DIGEST-MD5.) Tj
T* () Tj
T* (Furthermore, there can be a list of extensions added.  Such a list) Tj
T* (starts with '+' and the items are separated by '++'.  Allowed) Tj
T* (extensions are:) Tj
T* () Tj
T* (CN:name         name must match ${cn_subject}) Tj
T* (CN              ${server_name} must match ${cn_subject}) Tj
T* (CS:name         name must match ${cert_subject}) Tj
T* (CI:name         name must match ${cert_issuer}) Tj
T* () Tj
T* (Example: e-mail sent to secure.example.com should only use an encrypted) Tj
T* (connection.  E-mail received from hosts within the laptop.example.com domain) Tj
T* (should only be accepted if they have been authenticated.  The host which) Tj
T* (receives e-mail for darth@endmail.org must present a cert that uses the) Tj
T* (CN smtp.endmail.org.) Tj
T* () Tj
T* (TLS_Srv:secure.example.com      ENCR:112) Tj
T* (TLS_Clt:laptop.example.com      PERM+VERIFY:112) Tj
T* (TLS_Rcpt:darth@endmail.org      ENCR:112+CN:smtp.endmail.org) Tj
T* () Tj
T* () Tj
T* (Disabling STARTTLS And Setting SMTP Server Features) Tj
T* (---------------------------------------------------) Tj
T* () Tj
T* (By default STARTTLS is used whenever possible.  However, there are) Tj
T* (some broken MTAs that don't properly implement STARTTLS.  To be able) Tj
T* (to send to \(or receive from\) those MTAs, the ruleset try_tls) Tj
T* (\(srv_features\) can be used that work together with the access map.) Tj
T* (Entries for the access map must be tagged with Try_TLS \(Srv_Features\)) Tj
T* (and refer to the hostname or IP address of the connecting system.) Tj
T* (A default case can be specified by using just the tag.  For example,) Tj
T* (the following entries in the access map:) Tj
T* () Tj
T* (        Try_TLS:broken.server   NO) Tj
T* (        Srv_Features:my.domain  v) Tj
T* (        Srv_Features:           V) Tj
T* () Tj
T* (will turn off STARTTLS when sending to broken.server \(or any host) Tj
T* (in that domain\), and request a client certificate during the TLS) Tj
T* (handshake only for hosts in my.domain.  The valid entries on the RHS) Tj
T* (for Srv_Features are listed in the Sendmail Installation and) Tj
T* (Operations Guide.) Tj
T* () Tj
ET
endstream
endobj
168 0 obj
3242
endobj
169 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 170 0 R
/Rotate 0
>>
endobj
170 0 obj
<<
/Length 171 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* () Tj
T* (Received: Header) Tj
T* (----------------) Tj
T* () Tj
T* (The Received: header reveals whether STARTTLS has been used.  It contains an) Tj
T* (extra line:) Tj
T* () Tj
T* (\(version=${tls_version} cipher=${cipher} bits=${cipher_bits} verify=${verify}\)) Tj
T* () Tj
T* () Tj
T* (+---------------------+) Tj
T* (| SMTP AUTHENTICATION |) Tj
T* (+---------------------+) Tj
T* () Tj
T* (The macros ${auth_authen}, ${auth_author}, and ${auth_type} can be) Tj
T* (used in anti-relay rulesets to allow relaying for those users that) Tj
T* (authenticated themselves.  A very simple example is:) Tj
T* () Tj
T* (SLocal_check_rcpt) Tj
T* (R$*             $: $&{auth_type}) Tj
T* (R$+             $# OK) Tj
T* () Tj
T* (which checks whether a user has successfully authenticated using) Tj
T* (any available mechanism.  Depending on the setup of the CYRUS SASL) Tj
T* (library, more sophisticated rulesets might be required, e.g.,) Tj
T* () Tj
T* (SLocal_check_rcpt) Tj
T* (R$*             $: $&{auth_type} $| $&{auth_authen}) Tj
T* (RDIGEST-MD5 $| $+@$=w   $# OK) Tj
T* () Tj
T* (to allow relaying for users that authenticated using DIGEST-MD5) Tj
T* (and have an identity in the local domains.) Tj
T* () Tj
T* (The ruleset trust_auth is used to determine whether a given AUTH=) Tj
T* (parameter \(that is passed to this ruleset\) should be trusted.  This) Tj
T* (ruleset may make use of the other ${auth_*} macros.  Only if the) Tj
T* (ruleset resolves to the error mailer, the AUTH= parameter is not) Tj
T* (trusted.  A user supplied ruleset Local_trust_auth can be written) Tj
T* (to modify the default behavior, which only trust the AUTH=) Tj
T* (parameter if it is identical to the authenticated user.) Tj
T* () Tj
T* (Per default, relaying is allowed for any user who authenticated) Tj
T* (via a "trusted" mechanism, i.e., one that is defined via) Tj
T* (TRUST_AUTH_MECH\(`list of mechanisms'\)) Tj
T* (For example:) Tj
T* (TRUST_AUTH_MECH\(`KERBEROS_V4 DIGEST-MD5'\)) Tj
T* () Tj
T* (If the selected mechanism provides a security layer the number of) Tj
T* (bits used for the key of the symmetric cipher is stored in the) Tj
T* (macro ${auth_ssf}.) Tj
T* () Tj
T* (If sendmail acts as client, it needs some information how to) Tj
T* (authenticate against another MTA.  This information can be provided) Tj
T* (by the ruleset authinfo or by the option DefaultAuthInfo.  The) Tj
T* (authinfo ruleset looks up {server_name} using the tag AuthInfo: in) Tj
T* (the access map.  If no entry is found, {server_addr} is looked up) Tj
T* (in the same way and finally just the tag AuthInfo: to provide) Tj
T* (default values.) Tj
T* () Tj
T* (Notice: the default configuration file causes the option DefaultAuthInfo) Tj
ET
endstream
endobj
171 0 obj
2761
endobj
172 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 173 0 R
/Rotate 0
>>
endobj
173 0 obj
<<
/Length 174 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (to fail since the ruleset authinfo is in the .cf file. If you really) Tj
T* (want to use DefaultAuthInfo \(it is deprecated\) then you have to) Tj
T* (remove the ruleset.) Tj
T* () Tj
T* (The RHS for an AuthInfo: entry in the access map should consists of a) Tj
T* (list of tokens, each of which has the form: "TDstring" \(including) Tj
T* (the quotes\).  T is a tag which describes the item, D is a delimiter,) Tj
T* (either ':' for simple text or '=' for a base64 encoded string.) Tj
T* (Valid values for the tag are:) Tj
T* () Tj
T* (        U       user \(authorization\) id) Tj
T* (        I       authentication id) Tj
T* (        P       password) Tj
T* (        R       realm) Tj
T* (        M       list of mechanisms delimited by spaces) Tj
T* () Tj
T* (Example entries are:) Tj
T* () Tj
T* (AuthInfo:other.dom "U:user" "I:user" "P:secret" "R:other.dom" "M:DIGEST-MD5") Tj
T* (AuthInfo:more.dom "U:user" "P=c2VjcmV0") Tj
T* () Tj
T* (User or authentication id must exist as well as the password.  All) Tj
T* (other entries have default values.  If one of user or authentication) Tj
T* (id is missing, the existing value is used for the missing item.) Tj
T* (If "R:" is not specified, realm defaults to $j.  The list of mechanisms) Tj
T* (defaults to those specified by AuthMechanisms.) Tj
T* () Tj
T* (Since this map contains sensitive information, either the access) Tj
T* (map must be unreadable by everyone but root \(or the trusted user\)) Tj
T* (or FEATURE\(`authinfo'\) must be used which provides a separate map.) Tj
T* (Notice: It is not checked whether the map is actually) Tj
T* (group/world-unreadable, this is left to the user.) Tj
T* () Tj
T* (+--------------------------------+) Tj
T* (| ADDING NEW MAILERS OR RULESETS |) Tj
T* (+--------------------------------+) Tj
T* () Tj
T* (Sometimes you may need to add entirely new mailers or rulesets.  They) Tj
T* (should be introduced with the constructs MAILER_DEFINITIONS and) Tj
T* (LOCAL_RULESETS respectively.  For example:) Tj
T* () Tj
T* (        MAILER_DEFINITIONS) Tj
T* (        Mmymailer, ...) Tj
T* (        ...) Tj
T* () Tj
T* (        LOCAL_RULESETS) Tj
T* (        Smyruleset) Tj
T* (        ...) Tj
T* () Tj
T* (Local additions for the rulesets srv_features, try_tls, tls_rcpt,) Tj
T* (tls_client, and tls_server can be made using LOCAL_SRV_FEATURES,) Tj
T* (LOCAL_TRY_TLS, LOCAL_TLS_RCPT, LOCAL_TLS_CLIENT, and LOCAL_TLS_SERVER,) Tj
T* (respectively.  For example, to add a local ruleset that decides) Tj
T* (whether to try STARTTLS in a sendmail client, use:) Tj
T* () Tj
T* (        LOCAL_TRY_TLS) Tj
T* (        R...) Tj
T* () Tj
T* (Note: you don't need to add a name for the ruleset, it is implicitly) Tj
T* (defined by using the appropriate macro.) Tj
ET
endstream
endobj
174 0 obj
2788
endobj
175 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 176 0 R
/Rotate 0
>>
endobj
176 0 obj
<<
/Length 177 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* () Tj
T* () Tj
T* (+-------------------------+) Tj
T* (| ADDING NEW MAIL FILTERS |) Tj
T* (+-------------------------+) Tj
T* () Tj
T* (Sendmail supports mail filters to filter incoming SMTP messages according) Tj
T* (to the "Sendmail Mail Filter API" documentation.  These filters can be) Tj
T* (configured in your mc file using the two commands:) Tj
T* () Tj
T* (        MAIL_FILTER\(`name', `equates'\)) Tj
T* (        INPUT_MAIL_FILTER\(`name', `equates'\)) Tj
T* () Tj
T* (The first command, MAIL_FILTER\(\), simply defines a filter with the given) Tj
T* (name and equates.  For example:) Tj
T* () Tj
T* (        MAIL_FILTER\(`archive', `S=local:/var/run/archivesock, F=R'\)) Tj
T* () Tj
T* (This creates the equivalent sendmail.cf entry:) Tj
T* () Tj
T* (        Xarchive, S=local:/var/run/archivesock, F=R) Tj
T* () Tj
T* (The INPUT_MAIL_FILTER\(\) command performs the same actions as MAIL_FILTER) Tj
T* (but also populates the m4 variable `confINPUT_MAIL_FILTERS' with the name) Tj
T* (of the filter such that the filter will actually be called by sendmail.) Tj
T* () Tj
T* (For example, the two commands:) Tj
T* () Tj
T* (        INPUT_MAIL_FILTER\(`archive', `S=local:/var/run/archivesock, F=R'\)) Tj
T* (        INPUT_MAIL_FILTER\(`spamcheck', `S=inet:2525@localhost, F=T'\)) Tj
T* () Tj
T* (are equivalent to the three commands:) Tj
T* () Tj
T* (        MAIL_FILTER\(`archive', `S=local:/var/run/archivesock, F=R'\)) Tj
T* (        MAIL_FILTER\(`spamcheck', `S=inet:2525@localhost, F=T'\)) Tj
T* (        define\(`confINPUT_MAIL_FILTERS', `archive, spamcheck'\)) Tj
T* () Tj
T* (In general, INPUT_MAIL_FILTER\(\) should be used unless you need to define) Tj
T* (more filters than you want to use for `confINPUT_MAIL_FILTERS'.) Tj
T* () Tj
T* (Note that setting `confINPUT_MAIL_FILTERS' after any INPUT_MAIL_FILTER\(\)) Tj
T* (commands will clear the list created by the prior INPUT_MAIL_FILTER\(\)) Tj
T* (commands.) Tj
T* () Tj
T* () Tj
T* (+-------------------------+) Tj
T* (| QUEUE GROUP DEFINITIONS |) Tj
T* (+-------------------------+) Tj
T* () Tj
T* (In addition to the queue directory \(which is the default queue group) Tj
T* (called "mqueue"\), sendmail can deal with multiple queue groups, which) Tj
T* (are collections of queue directories with the same behaviour.  Queue) Tj
T* (groups can be defined using the command:) Tj
T* () Tj
T* (        QUEUE_GROUP\(`name', `equates'\)) Tj
T* () Tj
T* (For details about queue groups, please see doc/op/op.{me,ps,txt}.) Tj
T* () Tj
T* (+-------------------------------+) Tj
T* (| NON-SMTP BASED CONFIGURATIONS |) Tj
ET
endstream
endobj
177 0 obj
2628
endobj
178 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 179 0 R
/Rotate 0
>>
endobj
179 0 obj
<<
/Length 180 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (+-------------------------------+) Tj
T* () Tj
T* (These configuration files are designed primarily for use by) Tj
T* (SMTP-based sites.  They may not be well tuned for UUCP-only or) Tj
T* (UUCP-primarily nodes \(the latter is defined as a small local net) Tj
T* (connected to the rest of the world via UUCP\).  However, there is) Tj
T* (one hook to handle some special cases.) Tj
T* () Tj
T* (You can define a ``smart host'' that understands a richer address syntax) Tj
T* (using:) Tj
T* () Tj
T* (        define\(`SMART_HOST', `mailer:hostname'\)) Tj
T* () Tj
T* (In this case, the ``mailer:'' defaults to "relay".  Any messages that) Tj
T* (can't be handled using the usual UUCP rules are passed to this host.) Tj
T* () Tj
T* (If you are on a local SMTP-based net that connects to the outside) Tj
T* (world via UUCP, you can use LOCAL_NET_CONFIG to add appropriate rules.) Tj
T* (For example:) Tj
T* () Tj
T* (        define\(`SMART_HOST', `uucp-new:uunet'\)) Tj
T* (        LOCAL_NET_CONFIG) Tj
T* (        R$* < @ $* .$m. > $*    $#smtp $@ $2.$m. $: $1 < @ $2.$m. > $3) Tj
T* () Tj
T* (This will cause all names that end in your domain name \($m\) via) Tj
T* (SMTP; anything else will be sent via uucp-new \(smart UUCP\) to uunet.) Tj
T* (If you have FEATURE\(`nocanonify'\), you may need to omit the dots after) Tj
T* (the $m.  If you are running a local DNS inside your domain which is) Tj
T* (not otherwise connected to the outside world, you probably want to) Tj
T* (use:) Tj
T* () Tj
T* (        define\(`SMART_HOST', `smtp:fire.wall.com'\)) Tj
T* (        LOCAL_NET_CONFIG) Tj
T* (        R$* < @ $* . > $*       $#smtp $@ $2. $: $1 < @ $2. > $3) Tj
T* () Tj
T* (That is, send directly only to things you found in your DNS lookup;) Tj
T* (anything else goes through SMART_HOST.) Tj
T* () Tj
T* (You may need to turn off the anti-spam rules in order to accept) Tj
T* (UUCP mail with FEATURE\(`promiscuous_relay'\) and) Tj
T* (FEATURE\(`accept_unresolvable_domains'\).) Tj
T* () Tj
T* () Tj
T* (+-----------+) Tj
T* (| WHO AM I? |) Tj
T* (+-----------+) Tj
T* () Tj
T* (Normally, the $j macro is automatically defined to be your fully) Tj
T* (qualified domain name \(FQDN\).  Sendmail does this by getting your) Tj
T* (host name using gethostname and then calling gethostbyname on the) Tj
T* (result.  For example, in some environments gethostname returns) Tj
T* (only the root of the host name \(such as "foo"\); gethostbyname is) Tj
T* (supposed to return the FQDN \("foo.bar.com"\).  In some \(fairly rare\)) Tj
T* (cases, gethostbyname may fail to return the FQDN.  In this case) Tj
T* (you MUST define confDOMAIN_NAME to be your fully qualified domain) Tj
T* (name.  This is usually done using:) Tj
T* () Tj
T* (        Dmbar.com) Tj
T* (        define\(`confDOMAIN_NAME', `$w.$m'\)dnl) Tj
T* () Tj
ET
endstream
endobj
180 0 obj
2857
endobj
181 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 182 0 R
/Rotate 0
/Annots [ 17 0 R ]
>>
endobj
182 0 obj
<<
/Length 183 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* () Tj
T* (+-----------------------------------+) Tj
T* (| ACCEPTING MAIL FOR MULTIPLE NAMES |) Tj
T* (+-----------------------------------+) Tj
T* () Tj
T* (If your host is known by several different names, you need to augment) Tj
T* (class {w}.  This is a list of names by which your host is known, and) Tj
T* (anything sent to an address using a host name in this list will be) Tj
T* (treated as local mail.  You can do this in two ways:  either create the) Tj
T* (file /etc/mail/local-host-names containing a list of your aliases \(one per) Tj
T* (line\), and use ``FEATURE\(`use_cw_file'\)'' in the .mc file, or add) Tj
T* (``LOCAL_DOMAIN\(`alias.host.name'\)''.  Be sure you use the fully-qualified) Tj
T* (name of the host, rather than a short name.) Tj
T* () Tj
T* (If you want to have different address in different domains, take) Tj
T* (a look at the virtusertable feature, which is also explained at) Tj
T* () Tj
 0 0 1 rg
 (http://www.sendmail.org/virtual-hosting.html) Tj
 0 0 0 rg
 () Tj
T* () Tj
T* () Tj
T* (+--------------------+) Tj
T* (| USING MAILERTABLES |) Tj
T* (+--------------------+) Tj
T* () Tj
T* (To use FEATURE\(`mailertable'\), you will have to create an external) Tj
T* (database containing the routing information for various domains.) Tj
T* (For example, a mailertable file in text format might be:) Tj
T* () Tj
T* (        .my.domain              xnet:%1.my.domain) Tj
T* (        uuhost1.my.domain       uucp-new:uuhost1) Tj
T* (        .bitnet                 smtp:relay.bit.net) Tj
T* () Tj
T* (This should normally be stored in /etc/mail/mailertable.  The actual) Tj
T* (database version of the mailertable is built using:) Tj
T* () Tj
T* (        makemap hash /etc/mail/mailertable < /etc/mail/mailertable) Tj
T* () Tj
T* (The semantics are simple.  Any LHS entry that does not begin with) Tj
T* (a dot matches the full host name indicated.  LHS entries beginning) Tj
T* (with a dot match anything ending with that domain name \(including) Tj
T* (the leading dot\) -- that is, they can be thought of as having a) Tj
T* (leading ".+" regular expression pattern for a non-empty sequence of) Tj
T* (characters.  Matching is done in order of most-to-least qualified) Tj
T* (-- for example, even though ".my.domain" is listed first in the) Tj
T* (above example, an entry of "uuhost1.my.domain" will match the second) Tj
T* (entry since it is more explicit.  Note: e-mail to "user@my.domain") Tj
T* (does not match any entry in the above table.  You need to have) Tj
T* (something like:) Tj
T* () Tj
T* (        my.domain               esmtp:host.my.domain) Tj
T* () Tj
T* (The RHS should always be a "mailer:host" pair.  The mailer is the) Tj
T* (configuration name of a mailer \(that is, an M line in the) Tj
T* (sendmail.cf file\).  The "host" will be the hostname passed to) Tj
T* (that mailer.  In domain-based matches \(that is, those with leading) Tj
T* (dots\) the "%1" may be used to interpolate the wildcarded part of) Tj
T* (the host name.  For example, the first line above sends everything) Tj
T* (addressed to "anything.my.domain" to that same host name, but using) Tj
T* (the \(presumably experimental\) xnet mailer.) Tj
T* () Tj
T* (In some cases you may want to temporarily turn off MX records,) Tj
ET
endstream
endobj
183 0 obj
3292
endobj
184 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 185 0 R
/Rotate 0
>>
endobj
185 0 obj
<<
/Length 186 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (particularly on gateways.  For example, you may want to MX) Tj
T* (everything in a domain to one machine that then forwards it) Tj
T* (directly.  To do this, you might use the DNS configuration:) Tj
T* () Tj
T* (        *.domain.       IN      MX      0       relay.machine) Tj
T* () Tj
T* (and on relay.machine use the mailertable:) Tj
T* () Tj
T* (        .domain         smtp:[gateway.domain]) Tj
T* () Tj
T* (The [square brackets] turn off MX records for this host only.) Tj
T* (If you didn't do this, the mailertable would use the MX record) Tj
T* (again, which would give you an MX loop.) Tj
T* () Tj
T* () Tj
T* (+--------------------------------+) Tj
T* (| USING USERDB TO MAP FULL NAMES |) Tj
T* (+--------------------------------+) Tj
T* () Tj
T* (The user database was not originally intended for mapping full names) Tj
T* (to login names \(e.g., Eric.Allman => eric\), but some people are using) Tj
T* (it that way.  \(it is recommended that you set up aliases for this) Tj
T* (purpose instead -- since you can specify multiple alias files, this) Tj
T* (is fairly easy.\)  The intent was to locate the default maildrop at) Tj
T* (a site, but allow you to override this by sending to a specific host.) Tj
T* () Tj
T* (If you decide to set up the user database in this fashion, it is) Tj
T* (imperative that you not use FEATURE\(`stickyhost'\) -- otherwise,) Tj
T* (e-mail sent to Full.Name@local.host.name will be rejected.) Tj
T* () Tj
T* (To build the internal form of the user database, use:) Tj
T* () Tj
T* (        makemap btree /etc/mail/userdb < /etc/mail/userdb.txt) Tj
T* () Tj
T* (As a general rule, it is an extremely bad idea to using full names) Tj
T* (as e-mail addresses, since they are not in any sense unique.  For) Tj
T* (example, the UNIX software-development community has at least two) Tj
T* (well-known Peter Deutsches, and at one time Bell Labs had two) Tj
T* (Stephen R. Bournes with offices along the same hallway.  Which one) Tj
T* (will be forced to suffer the indignity of being Stephen_R_Bourne_2?) Tj
T* (The less famous of the two, or the one that was hired later?) Tj
T* () Tj
T* (Finger should handle full names \(and be fuzzy\).  Mail should use) Tj
T* (handles, and not be fuzzy.) Tj
T* () Tj
T* () Tj
T* (+--------------------------------+) Tj
T* (| MISCELLANEOUS SPECIAL FEATURES |) Tj
T* (+--------------------------------+) Tj
T* () Tj
T* (Plussed users) Tj
T* (        Sometimes it is convenient to merge configuration on a) Tj
T* (        centralized mail machine, for example, to forward all) Tj
T* (        root mail to a mail server.  In this case it might be) Tj
T* (        useful to be able to treat the root addresses as a class) Tj
T* (        of addresses with subtle differences.  You can do this) Tj
T* (        using plussed users.  For example, a client might include) Tj
T* (        the alias:) Tj
T* () Tj
T* (                root:  root+client1@server) Tj
ET
endstream
endobj
186 0 obj
2968
endobj
187 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 188 0 R
/Rotate 0
>>
endobj
188 0 obj
<<
/Length 189 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* () Tj
T* (        On the server, this will match an alias for "root+client1".) Tj
T* (        If that is not found, the alias "root+*" will be tried,) Tj
T* (        then "root".) Tj
T* () Tj
T* () Tj
T* (+----------------+) Tj
T* (| SECURITY NOTES |) Tj
T* (+----------------+) Tj
T* () Tj
T* (A lot of sendmail security comes down to you.  Sendmail 8 is much) Tj
T* (more careful about checking for security problems than previous) Tj
T* (versions, but there are some things that you still need to watch) Tj
T* (for.  In particular:) Tj
T* () Tj
T* (* Make sure the aliases file isn't writable except by trusted) Tj
T* (  system personnel.  This includes both the text and database) Tj
T* (  version.) Tj
T* () Tj
T* (* Make sure that other files that sendmail reads, such as the) Tj
T* (  mailertable, are only writable by trusted system personnel.) Tj
T* () Tj
T* (* The queue directory should not be world writable PARTICULARLY) Tj
T* (  if your system allows "file giveaways" \(that is, if a non-root) Tj
T* (  user can chown any file they own to any other user\).) Tj
T* () Tj
T* (* If your system allows file giveaways, DO NOT create a publically) Tj
T* (  writable directory for forward files.  This will allow anyone) Tj
T* (  to steal anyone else's e-mail.  Instead, create a script that) Tj
T* (  copies the .forward file from users' home directories once a) Tj
T* (  night \(if you want the non-NFS-mounted forward directory\).) Tj
T* () Tj
T* (* If your system allows file giveaways, you'll find that) Tj
T* (  sendmail is much less trusting of :include: files -- in) Tj
T* (  particular, you'll have to have /SENDMAIL/ANY/SHELL/ in) Tj
T* (  /etc/shells before they will be trusted \(that is, before) Tj
T* (  files and programs listed in them will be honored\).) Tj
T* () Tj
T* (In general, file giveaways are a mistake -- if you can turn them) Tj
T* (off, do so.) Tj
T* () Tj
T* () Tj
T* (+--------------------------------+) Tj
T* (| TWEAKING CONFIGURATION OPTIONS |) Tj
T* (+--------------------------------+) Tj
T* () Tj
T* (There are a large number of configuration options that don't normally) Tj
T* (need to be changed.  However, if you feel you need to tweak them, you) Tj
T* (can define the following M4 variables.  This list is shown in four) Tj
T* (columns:  the name you define, the default value for that definition,) Tj
T* (the option or macro that is affected \(either Ox for an option or Dx) Tj
T* (for a macro\), and a brief description.  Greater detail of the semantics) Tj
T* (can be found in the Installation and Operations Guide.) Tj
T* () Tj
T* (Some options are likely to be deprecated in future versions -- that is,) Tj
T* (the option is only included to provide back-compatibility.  These are) Tj
T* (marked with "*".) Tj
T* () Tj
T* (Remember that these options are M4 variables, and hence may need to) Tj
T* (be quoted.  In particular, arguments with commas will usually have to) Tj
ET
endstream
endobj
189 0 obj
2968
endobj
190 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 191 0 R
/Rotate 0
>>
endobj
191 0 obj
<<
/Length 192 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (be ``double quoted, like this phrase'' to avoid having the comma) Tj
T* (confuse things.  This is common for alias file definitions and for) Tj
T* (the read timeout.) Tj
T* () Tj
T* (M4 Variable Name        Configuration   Description & [Default]) Tj
T* (================        =============   =======================) Tj
T* (confMAILER_NAME         $n macro        [MAILER-DAEMON] The sender name used) Tj
T* (                                        for internally generated outgoing) Tj
T* (                                        messages.) Tj
T* (confDOMAIN_NAME         $j macro        If defined, sets $j.  This should) Tj
T* (                                        only be done if your system cannot) Tj
T* (                                        determine your local domain name,) Tj
T* (                                        and then it should be set to) Tj
T* (                                        $w.Foo.COM, where Foo.COM is your) Tj
T* (                                        domain name.) Tj
T* (confCF_VERSION          $Z macro        If defined, this is appended to the) Tj
T* (                                        configuration version name.) Tj
T* (confLDAP_CLUSTER        ${sendmailMTACluster} macro) Tj
T* (                                        If defined, this is the LDAP) Tj
T* (                                        cluster to use for LDAP searches) Tj
T* (                                        as described above in ``USING LDAP) Tj
T* (                                        FOR ALIASES, MAPS, AND CLASSES''.) Tj
T* (confFROM_HEADER         From:           [$?x$x <$g>$|$g$.] The format of an) Tj
T* (                                        internally generated From: address.) Tj
T* (confRECEIVED_HEADER     Received:) Tj
T* (                [$?sfrom $s $.$?_\($?s$|from $.$_\)) Tj
T* (                        $.$?{auth_type}\(authenticated\)) Tj
T* (                        $.by $j \($v/$Z\)$?r with $r$. id $i$?u) Tj
T* (                        for $u; $|;) Tj
T* (                        $.$b]) Tj
T* (                                        The format of the Received: header) Tj
T* (                                        in messages passed through this host.) Tj
T* (                                        It is unwise to try to change this.) Tj
T* (confCW_FILE             Fw class        [/etc/mail/local-host-names] Name) Tj
T* (                                        of file used to get the local) Tj
T* (                                        additions to class {w} \(local host) Tj
T* (                                        names\).) Tj
T* (confCT_FILE             Ft class        [/etc/mail/trusted-users] Name of) Tj
T* (                                        file used to get the local additions) Tj
T* (                                        to class {t} \(trusted users\).) Tj
T* (confCR_FILE             FR class        [/etc/mail/relay-domains] Name of) Tj
T* (                                        file used to get the local additions) Tj
T* (                                        to class {R} \(hosts allowed to relay\).) Tj
T* (confTRUSTED_USERS       Ct class        [no default] Names of users to add to) Tj
T* (                                        the list of trusted users.  This list) Tj
T* (                                        always includes root, uucp, and daemon.) Tj
T* (                                        See also FEATURE\(`use_ct_file'\).) Tj
T* (confTRUSTED_USER        TrustedUser     [no default] Trusted user for file) Tj
T* (                                        ownership and starting the daemon.) Tj
T* (                                        Not to be confused with) Tj
T* (                                        confTRUSTED_USERS \(see above\).) Tj
T* (confSMTP_MAILER         -               [esmtp] The mailer name used when) Tj
T* (                                        SMTP connectivity is required.) Tj
T* (                                        One of "smtp", "smtp8",) Tj
T* (                                        "esmtp", or "dsmtp".) Tj
T* (confUUCP_MAILER         -               [uucp-old] The mailer to be used by) Tj
T* (                                        default for bang-format recipient) Tj
T* (                                        addresses.  See also discussion of) Tj
T* (                                        class {U}, class {Y}, and class {Z}) Tj
T* (                                        in the MAILER\(`uucp'\) section.) Tj
ET
endstream
endobj
192 0 obj
4526
endobj
193 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 194 0 R
/Rotate 0
>>
endobj
194 0 obj
<<
/Length 195 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (confLOCAL_MAILER        -               [local] The mailer name used when) Tj
T* (                                        local connectivity is required.) Tj
T* (                                        Almost always "local".) Tj
T* (confRELAY_MAILER        -               [relay] The default mailer name used) Tj
T* (                                        for relaying any mail \(e.g., to a) Tj
T* (                                        BITNET_RELAY, a SMART_HOST, or) Tj
T* (                                        whatever\).  This can reasonably be) Tj
T* (                                        "uucp-new" if you are on a) Tj
T* (                                        UUCP-connected site.) Tj
T* (confSEVEN_BIT_INPUT     SevenBitInput   [False] Force input to seven bits?) Tj
T* (confEIGHT_BIT_HANDLING  EightBitMode    [pass8] 8-bit data handling) Tj
T* (confALIAS_WAIT          AliasWait       [10m] Time to wait for alias file) Tj
T* (                                        rebuild until you get bored and) Tj
T* (                                        decide that the apparently pending) Tj
T* (                                        rebuild failed.) Tj
T* (confMIN_FREE_BLOCKS     MinFreeBlocks   [100] Minimum number of free blocks on) Tj
T* (                                        queue filesystem to accept SMTP mail.) Tj
T* (                                        \(Prior to 8.7 this was minfree/maxsize,) Tj
T* (                                        where minfree was the number of free) Tj
T* (                                        blocks and maxsize was the maximum) Tj
T* (                                        message size.  Use confMAX_MESSAGE_SIZE) Tj
T* (                                        for the second value now.\)) Tj
T* (confMAX_MESSAGE_SIZE    MaxMessageSize  [infinite] The maximum size of messages) Tj
T* (                                        that will be accepted \(in bytes\).) Tj
T* (confBLANK_SUB           BlankSub        [.] Blank \(space\) substitution) Tj
T* (                                        character.) Tj
T* (confCON_EXPENSIVE       HoldExpensive   [False] Avoid connecting immediately) Tj
T* (                                        to mailers marked expensive.) Tj
T* (confCHECKPOINT_INTERVAL CheckpointInterval) Tj
T* (                                        [10] Checkpoint queue files every N) Tj
T* (                                        recipients.) Tj
T* (confDELIVERY_MODE       DeliveryMode    [background] Default delivery mode.) Tj
T* (confERROR_MODE          ErrorMode       [print] Error message mode.) Tj
T* (confERROR_MESSAGE       ErrorHeader     [undefined] Error message header/file.) Tj
T* (confSAVE_FROM_LINES     SaveFromLine    Save extra leading From_ lines.) Tj
T* (confTEMP_FILE_MODE      TempFileMode    [0600] Temporary file mode.) Tj
T* (confMATCH_GECOS         MatchGECOS      [False] Match GECOS field.) Tj
T* (confMAX_HOP             MaxHopCount     [25] Maximum hop count.) Tj
T* (confIGNORE_DOTS*        IgnoreDots      [False; always False in -bs or -bd) Tj
T* (                                        mode] Ignore dot as terminator for) Tj
T* (                                        incoming messages?) Tj
T* (confBIND_OPTS           ResolverOptions [undefined] Default options for DNS) Tj
T* (                                        resolver.) Tj
T* (confMIME_FORMAT_ERRORS* SendMimeErrors  [True] Send error messages as MIME-) Tj
T* (                                        encapsulated messages per RFC 1344.) Tj
T* (confFORWARD_PATH        ForwardPath     [$z/.forward.$w:$z/.forward]) Tj
T* (                                        The colon-separated list of places to) Tj
T* (                                        search for .forward files.  N.B.: see) Tj
T* (                                        the Security Notes section.) Tj
T* (confMCI_CACHE_SIZE      ConnectionCacheSize) Tj
T* (                                        [2] Size of open connection cache.) Tj
T* (confMCI_CACHE_TIMEOUT   ConnectionCacheTimeout) Tj
T* (                                        [5m] Open connection cache timeout.) Tj
T* (confHOST_STATUS_DIRECTORY HostStatusDirectory) Tj
T* (                                        [undefined] If set, host status is kept) Tj
T* (                                        on disk between sendmail runs in the) Tj
T* (                                        named directory tree.  This need not be) Tj
T* (                                        a full pathname, in which case it is) Tj
T* (                                        interpreted relative to the queue) Tj
T* (                                        directory.) Tj
ET
endstream
endobj
195 0 obj
4712
endobj
196 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 197 0 R
/Rotate 0
>>
endobj
197 0 obj
<<
/Length 198 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (confSINGLE_THREAD_DELIVERY  SingleThreadDelivery) Tj
T* (                                        [False] If this option and the) Tj
T* (                                        HostStatusDirectory option are both) Tj
T* (                                        set, single thread deliveries to other) Tj
T* (                                        hosts.  That is, don't allow any two) Tj
T* (                                        sendmails on this host to connect) Tj
T* (                                        simultaneously to any other single) Tj
T* (                                        host.  This can slow down delivery in) Tj
T* (                                        some cases, in particular since a) Tj
T* (                                        cached but otherwise idle connection) Tj
T* (                                        to a host will prevent other sendmails) Tj
T* (                                        from connecting to the other host.) Tj
T* (confUSE_ERRORS_TO*      UseErrorsTo     [False] Use the Errors-To: header to) Tj
T* (                                        deliver error messages.  This should) Tj
T* (                                        not be necessary because of general) Tj
T* (                                        acceptance of the envelope/header) Tj
T* (                                        distinction.) Tj
T* (confLOG_LEVEL           LogLevel        [9] Log level.) Tj
T* (confME_TOO              MeToo           [True] Include sender in group) Tj
T* (                                        expansions.  This option is) Tj
T* (                                        deprecated and will be removed from) Tj
T* (                                        a future version.) Tj
T* (confCHECK_ALIASES       CheckAliases    [False] Check RHS of aliases when) Tj
T* (                                        running newaliases.  Since this does) Tj
T* (                                        DNS lookups on every address, it can) Tj
T* (                                        slow down the alias rebuild process) Tj
T* (                                        considerably on large alias files.) Tj
T* (confOLD_STYLE_HEADERS*  OldStyleHeaders [True] Assume that headers without) Tj
T* (                                        special chars are old style.) Tj
T* (confPRIVACY_FLAGS       PrivacyOptions  [authwarnings] Privacy flags.) Tj
T* (confCOPY_ERRORS_TO      PostmasterCopy  [undefined] Address for additional) Tj
T* (                                        copies of all error messages.) Tj
T* (confQUEUE_FACTOR        QueueFactor     [600000] Slope of queue-only function.) Tj
T* (confQUEUE_FILE_MODE     QueueFileMode   [undefined] Default permissions for) Tj
T* (                                        queue files \(octal\).  If not set,) Tj
T* (                                        sendmail uses 0600 unless its real) Tj
T* (                                        and effective uid are different in) Tj
T* (                                        which case it uses 0644.) Tj
T* (confDONT_PRUNE_ROUTES   DontPruneRoutes [False] Don't prune down route-addr) Tj
T* (                                        syntax addresses to the minimum) Tj
T* (                                        possible.) Tj
T* (confSAFE_QUEUE*         SuperSafe       [True] Commit all messages to disk) Tj
T* (                                        before forking.) Tj
T* (confTO_INITIAL          Timeout.initial [5m] The timeout waiting for a response) Tj
T* (                                        on the initial connect.) Tj
T* (confTO_CONNECT          Timeout.connect [0] The timeout waiting for an initial) Tj
T* (                                        connect\(\) to complete.  This can only) Tj
T* (                                        shorten connection timeouts; the kernel) Tj
T* (                                        silently enforces an absolute maximum) Tj
T* (                                        \(which varies depending on the system\).) Tj
T* (confTO_ICONNECT         Timeout.iconnect) Tj
T* (                                        [undefined] Like Timeout.connect, but) Tj
T* (                                        applies only to the very first attempt) Tj
T* (                                        to connect to a host in a message.) Tj
T* (                                        This allows a single very fast pass) Tj
T* (                                        followed by more careful delivery) Tj
T* (                                        attempts in the future.) Tj
T* (confTO_ACONNECT         Timeout.aconnect) Tj
T* (                                        [0] The overall timeout waiting for) Tj
T* (                                        all connection for a single delivery) Tj
ET
endstream
endobj
198 0 obj
4826
endobj
199 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 200 0 R
/Rotate 0
>>
endobj
200 0 obj
<<
/Length 201 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (                                        attempt to succeed.  If 0, no overall) Tj
T* (                                        limit is applied.) Tj
T* (confTO_HELO             Timeout.helo    [5m] The timeout waiting for a response) Tj
T* (                                        to a HELO or EHLO command.) Tj
T* (confTO_MAIL             Timeout.mail    [10m] The timeout waiting for a) Tj
T* (                                        response to the MAIL command.) Tj
T* (confTO_RCPT             Timeout.rcpt    [1h] The timeout waiting for a response) Tj
T* (                                        to the RCPT command.) Tj
T* (confTO_DATAINIT         Timeout.datainit) Tj
T* (                                        [5m] The timeout waiting for a 354) Tj
T* (                                        response from the DATA command.) Tj
T* (confTO_DATABLOCK        Timeout.datablock) Tj
T* (                                        [1h] The timeout waiting for a block) Tj
T* (                                        during DATA phase.) Tj
T* (confTO_DATAFINAL        Timeout.datafinal) Tj
T* (                                        [1h] The timeout waiting for a response) Tj
T* (                                        to the final "." that terminates a) Tj
T* (                                        message.) Tj
T* (confTO_RSET             Timeout.rset    [5m] The timeout waiting for a response) Tj
T* (                                        to the RSET command.) Tj
T* (confTO_QUIT             Timeout.quit    [2m] The timeout waiting for a response) Tj
T* (                                        to the QUIT command.) Tj
T* (confTO_MISC             Timeout.misc    [2m] The timeout waiting for a response) Tj
T* (                                        to other SMTP commands.) Tj
T* (confTO_COMMAND          Timeout.command [1h] In server SMTP, the timeout) Tj
T* (                                        waiting for a command to be issued.) Tj
T* (confTO_IDENT            Timeout.ident   [5s] The timeout waiting for a) Tj
T* (                                        response to an IDENT query.) Tj
T* (confTO_FILEOPEN         Timeout.fileopen) Tj
T* (                                        [60s] The timeout waiting for a file) Tj
T* (                                        \(e.g., :include: file\) to be opened.) Tj
T* (confTO_LHLO             Timeout.lhlo    [2m] The timeout waiting for a response) Tj
T* (                                        to an LMTP LHLO command.) Tj
T* (confTO_AUTH             Timeout.auth    [10m] The timeout waiting for a) Tj
T* (                                        response in an AUTH dialogue.) Tj
T* (confTO_STARTTLS         Timeout.starttls) Tj
T* (                                        [1h] The timeout waiting for a) Tj
T* (                                        response to an SMTP STARTTLS command.) Tj
T* (confTO_CONTROL          Timeout.control) Tj
T* (                                        [2m] The timeout for a complete) Tj
T* (                                        control socket transaction to complete.) Tj
T* (confTO_QUEUERETURN      Timeout.queuereturn) Tj
T* (                                        [5d] The timeout before a message is) Tj
T* (                                        returned as undeliverable.) Tj
T* (confTO_QUEUERETURN_NORMAL) Tj
T* (                        Timeout.queuereturn.normal) Tj
T* (                                        [undefined] As above, for normal) Tj
T* (                                        priority messages.) Tj
T* (confTO_QUEUERETURN_URGENT) Tj
T* (                        Timeout.queuereturn.urgent) Tj
T* (                                        [undefined] As above, for urgent) Tj
T* (                                        priority messages.) Tj
T* (confTO_QUEUERETURN_NONURGENT) Tj
T* (                        Timeout.queuereturn.non-urgent) Tj
T* (                                        [undefined] As above, for non-urgent) Tj
T* (                                        \(low\) priority messages.) Tj
T* (confTO_QUEUEWARN        Timeout.queuewarn) Tj
T* (                                        [4h] The timeout before a warning) Tj
T* (                                        message is sent to the sender telling) Tj
T* (                                        them that the message has been) Tj
ET
endstream
endobj
201 0 obj
4377
endobj
202 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 203 0 R
/Rotate 0
>>
endobj
203 0 obj
<<
/Length 204 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (                                        deferred.) Tj
T* (confTO_QUEUEWARN_NORMAL Timeout.queuewarn.normal) Tj
T* (                                        [undefined] As above, for normal) Tj
T* (                                        priority messages.) Tj
T* (confTO_QUEUEWARN_URGENT Timeout.queuewarn.urgent) Tj
T* (                                        [undefined] As above, for urgent) Tj
T* (                                        priority messages.) Tj
T* (confTO_QUEUEWARN_NONURGENT) Tj
T* (                        Timeout.queuewarn.non-urgent) Tj
T* (                                        [undefined] As above, for non-urgent) Tj
T* (                                        \(low\) priority messages.) Tj
T* (confTO_HOSTSTATUS       Timeout.hoststatus) Tj
T* (                                        [30m] How long information about host) Tj
T* (                                        statuses will be maintained before it) Tj
T* (                                        is considered stale and the host should) Tj
T* (                                        be retried.  This applies both within) Tj
T* (                                        a single queue run and to persistent) Tj
T* (                                        information \(see below\).) Tj
T* (confTO_RESOLVER_RETRANS Timeout.resolver.retrans) Tj
T* (                                        [varies] Sets the resolver's) Tj
T* (                                        retransmition time interval \(in) Tj
T* (                                        seconds\).  Sets both) Tj
T* (                                        Timeout.resolver.retrans.first and) Tj
T* (                                        Timeout.resolver.retrans.normal.) Tj
T* (confTO_RESOLVER_RETRANS_FIRST  Timeout.resolver.retrans.first) Tj
T* (                                        [varies] Sets the resolver's) Tj
T* (                                        retransmition time interval \(in) Tj
T* (                                        seconds\) for the first attempt to) Tj
T* (                                        deliver a message.) Tj
T* (confTO_RESOLVER_RETRANS_NORMAL  Timeout.resolver.retrans.normal) Tj
T* (                                        [varies] Sets the resolver's) Tj
T* (                                        retransmition time interval \(in) Tj
T* (                                        seconds\) for all resolver lookups) Tj
T* (                                        except the first delivery attempt.) Tj
T* (confTO_RESOLVER_RETRY   Timeout.resolver.retry) Tj
T* (                                        [varies] Sets the number of times) Tj
T* (                                        to retransmit a resolver query.) Tj
T* (                                        Sets both) Tj
T* (                                        Timeout.resolver.retry.first and) Tj
T* (                                        Timeout.resolver.retry.normal.) Tj
T* (confTO_RESOLVER_RETRY_FIRST  Timeout.resolver.retry.first) Tj
T* (                                        [varies] Sets the number of times) Tj
T* (                                        to retransmit a resolver query for) Tj
T* (                                        the first attempt to deliver a) Tj
T* (                                        message.) Tj
T* (confTO_RESOLVER_RETRY_NORMAL  Timeout.resolver.retry.normal) Tj
T* (                                        [varies] Sets the number of times) Tj
T* (                                        to retransmit a resolver query for) Tj
T* (                                        all resolver lookups except the) Tj
T* (                                        first delivery attempt.) Tj
T* (confTIME_ZONE           TimeZoneSpec    [USE_SYSTEM] Time zone info -- can be) Tj
T* (                                        USE_SYSTEM to use the system's idea,) Tj
T* (                                        USE_TZ to use the user's TZ envariable,) Tj
T* (                                        or something else to force that value.) Tj
T* (confDEF_USER_ID         DefaultUser     [1:1] Default user id.) Tj
T* (confUSERDB_SPEC         UserDatabaseSpec) Tj
T* (                                        [undefined] User database) Tj
T* (                                        specification.) Tj
T* (confFALLBACK_MX         FallbackMXhost  [undefined] Fallback MX host.) Tj
T* (confTRY_NULL_MX_LIST    TryNullMXList   [False] If this host is the best MX) Tj
ET
endstream
endobj
204 0 obj
4496
endobj
205 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 206 0 R
/Rotate 0
>>
endobj
206 0 obj
<<
/Length 207 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (                                        for a host and other arrangements) Tj
T* (                                        haven't been made, try connecting) Tj
T* (                                        to the host directly; normally this) Tj
T* (                                        would be a config error.) Tj
T* (confQUEUE_LA            QueueLA         [varies] Load average at which) Tj
T* (                                        queue-only function kicks in.) Tj
T* (                                        Default values is \(8 * numproc\)) Tj
T* (                                        where numproc is the number of) Tj
T* (                                        processors online \(if that can be) Tj
T* (                                        determined\).) Tj
T* (confREFUSE_LA           RefuseLA        [varies] Load average at which) Tj
T* (                                        incoming SMTP connections are) Tj
T* (                                        refused.  Default values is \(12 *) Tj
T* (                                        numproc\) where numproc is the) Tj
T* (                                        number of processors online \(if) Tj
T* (                                        that can be determined\).) Tj
T* (confDELAY_LA            DelayLA         [0] Load average at which sendmail) Tj
T* (                                        will sleep for one second on most) Tj
T* (                                        SMTP commands and before accepting) Tj
T* (                                        connections.  0 means no limit.) Tj
T* (confMAX_ALIAS_RECURSION MaxAliasRecursion) Tj
T* (                                        [10] Maximum depth of alias recursion.) Tj
T* (confMAX_DAEMON_CHILDREN MaxDaemonChildren) Tj
T* (                                        [undefined] The maximum number of) Tj
T* (                                        children the daemon will permit.  After) Tj
T* (                                        this number, connections will be) Tj
T* (                                        rejected.  If not set or <= 0, there is) Tj
T* (                                        no limit.) Tj
T* (confMAX_HEADERS_LENGTH  MaxHeadersLength) Tj
T* (                                        [32768] Maximum length of the sum) Tj
T* (                                        of all headers.) Tj
T* (confMAX_MIME_HEADER_LENGTH  MaxMimeHeaderLength) Tj
T* (                                        [undefined] Maximum length of) Tj
T* (                                        certain MIME header field values.) Tj
T* (confCONNECTION_RATE_THROTTLE ConnectionRateThrottle) Tj
T* (                                        [undefined] The maximum number of) Tj
T* (                                        connections permitted per second per) Tj
T* (                                        daemon.  After this many connections) Tj
T* (                                        are accepted, further connections) Tj
T* (                                        will be delayed.  If not set or <= 0,) Tj
T* (                                        there is no limit.) Tj
T* (confWORK_RECIPIENT_FACTOR) Tj
T* (                        RecipientFactor [30000] Cost of each recipient.) Tj
T* (confSEPARATE_PROC       ForkEachJob     [False] Run all deliveries in a) Tj
T* (                                        separate process.) Tj
T* (confWORK_CLASS_FACTOR   ClassFactor     [1800] Priority multiplier for class.) Tj
T* (confWORK_TIME_FACTOR    RetryFactor     [90000] Cost of each delivery attempt.) Tj
T* (confQUEUE_SORT_ORDER    QueueSortOrder  [Priority] Queue sort algorithm:) Tj
T* (                                        Priority, Host, Filename, Random,) Tj
T* (                                        Modification, or Time.) Tj
T* (confMIN_QUEUE_AGE       MinQueueAge     [0] The minimum amount of time a job) Tj
T* (                                        must sit in the queue between queue) Tj
T* (                                        runs.  This allows you to set the) Tj
T* (                                        queue run interval low for better) Tj
T* (                                        responsiveness without trying all) Tj
T* (                                        jobs in each run.) Tj
T* (confDEF_CHAR_SET        DefaultCharSet  [unknown-8bit] When converting) Tj
T* (                                        unlabeled 8 bit input to MIME, the) Tj
T* (                                        character set to use by default.) Tj
T* (confSERVICE_SWITCH_FILE ServiceSwitchFile) Tj
ET
endstream
endobj
207 0 obj
4609
endobj
208 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 209 0 R
/Rotate 0
>>
endobj
209 0 obj
<<
/Length 210 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (                                        [/etc/mail/service.switch] The file) Tj
T* (                                        to use for the service switch on) Tj
T* (                                        systems that do not have a) Tj
T* (                                        system-defined switch.) Tj
T* (confHOSTS_FILE          HostsFile       [/etc/hosts] The file to use when doing) Tj
T* (                                        "file" type access of hosts names.) Tj
T* (confDIAL_DELAY          DialDelay       [0s] If a connection fails, wait this) Tj
T* (                                        long and try again.  Zero means "don't) Tj
T* (                                        retry".  This is to allow "dial on) Tj
T* (                                        demand" connections to have enough time) Tj
T* (                                        to complete a connection.) Tj
T* (confNO_RCPT_ACTION      NoRecipientAction) Tj
T* (                                        [none] What to do if there are no legal) Tj
T* (                                        recipient fields \(To:, Cc: or Bcc:\)) Tj
T* (                                        in the message.  Legal values can) Tj
T* (                                        be "none" to just leave the) Tj
T* (                                        nonconforming message as is, "add-to") Tj
T* (                                        to add a To: header with all the) Tj
T* (                                        known recipients \(which may expose) Tj
T* (                                        blind recipients\), "add-apparently-to") Tj
T* (                                        to do the same but use Apparently-To:) Tj
T* (                                        instead of To: \(strongly discouraged) Tj
T* (                                        in accordance with IETF standards\),) Tj
T* (                                        "add-bcc" to add an empty Bcc:) Tj
T* (                                        header, or "add-to-undisclosed" to) Tj
T* (                                        add the header) Tj
T* (                                        ``To: undisclosed-recipients:;''.) Tj
T* (confSAFE_FILE_ENV       SafeFileEnvironment) Tj
T* (                                        [undefined] If set, sendmail will do a) Tj
T* (                                        chroot\(\) into this directory before) Tj
T* (                                        writing files.) Tj
T* (confCOLON_OK_IN_ADDR    ColonOkInAddr   [True unless Configuration Level > 6]) Tj
T* (                                        If set, colons are treated as a regular) Tj
T* (                                        character in addresses.  If not set,) Tj
T* (                                        they are treated as the introducer to) Tj
T* (                                        the RFC 822 "group" syntax.  Colons are) Tj
T* (                                        handled properly in route-addrs.  This) Tj
T* (                                        option defaults on for V5 and lower) Tj
T* (                                        configuration files.) Tj
T* (confMAX_QUEUE_RUN_SIZE  MaxQueueRunSize [0] If set, limit the maximum size of) Tj
T* (                                        any given queue run to this number of) Tj
T* (                                        entries.  Essentially, this will stop) Tj
T* (                                        reading each queue directory after this) Tj
T* (                                        number of entries are reached; it does) Tj
T* (                                        _not_ pick the highest priority jobs,) Tj
T* (                                        so this should be as large as your) Tj
T* (                                        system can tolerate.  If not set, there) Tj
T* (                                        is no limit.) Tj
T* (confMAX_QUEUE_CHILDREN  MaxQueueChildren) Tj
T* (                                        [undefined] Limits the maximum number) Tj
T* (                                        of concurrent queue runners active.) Tj
T* (                                        This is to keep system resources used) Tj
T* (                                        within a reasonable limit.  Relates to) Tj
T* (                                        Queue Groups and ForkAllJobs.) Tj
T* (confMAX_RUNNERS_PER_QUEUE       MaxRunnersPerQueue) Tj
T* (                                        [1] Only active when MaxQueueChildren) Tj
T* (                                        defined.  Controls the maximum number) Tj
T* (                                        of queue runners \(aka queue children\)) Tj
T* (                                        active at the same time in a work) Tj
T* (                                        group.  See also MaxQueueChildren.) Tj
ET
endstream
endobj
210 0 obj
4891
endobj
211 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 212 0 R
/Rotate 0
>>
endobj
212 0 obj
<<
/Length 213 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (confDONT_EXPAND_CNAMES  DontExpandCnames) Tj
T* (                                        [False] If set, $[ ... $] lookups that) Tj
T* (                                        do DNS based lookups do not expand) Tj
T* (                                        CNAME records.  This currently violates) Tj
T* (                                        the published standards, but the IETF) Tj
T* (                                        seems to be moving toward legalizing) Tj
T* (                                        this.  For example, if "FTP.Foo.ORG") Tj
T* (                                        is a CNAME for "Cruft.Foo.ORG", then) Tj
T* (                                        with this option set a lookup of) Tj
T* (                                        "FTP" will return "FTP.Foo.ORG"; if) Tj
T* (                                        clear it returns "Cruft.FOO.ORG".  N.B.) Tj
T* (                                        you may not see any effect until your) Tj
T* (                                        downstream neighbors stop doing CNAME) Tj
T* (                                        lookups as well.) Tj
T* (confFROM_LINE           UnixFromLine    [From $g $d] The From_ line used) Tj
T* (                                        when sending to files or programs.) Tj
T* (confSINGLE_LINE_FROM_HEADER  SingleLineFromHeader) Tj
T* (                                        [False] From: lines that have) Tj
T* (                                        embedded newlines are unwrapped) Tj
T* (                                        onto one line.) Tj
T* (confALLOW_BOGUS_HELO    AllowBogusHELO  [False] Allow HELO SMTP command that) Tj
T* (                                        does not include a host name.) Tj
T* (confMUST_QUOTE_CHARS    MustQuoteChars  [.'] Characters to be quoted in a full) Tj
T* (                                        name phrase \(@,;:\\\(\)[] are automatic\).) Tj
T* (confOPERATORS           OperatorChars   [.:%@!^/[]+] Address operator) Tj
T* (                                        characters.) Tj
T* (confSMTP_LOGIN_MSG      SmtpGreetingMessage) Tj
T* (                                        [$j Sendmail $v/$Z; $b]) Tj
T* (                                        The initial \(spontaneous\) SMTP) Tj
T* (                                        greeting message.  The word "ESMTP") Tj
T* (                                        will be inserted between the first and) Tj
T* (                                        second words to convince other) Tj
T* (                                        sendmails to try to speak ESMTP.) Tj
T* (confDONT_INIT_GROUPS    DontInitGroups  [False] If set, the initgroups\(3\)) Tj
T* (                                        routine will never be invoked.  You) Tj
T* (                                        might want to do this if you are) Tj
T* (                                        running NIS and you have a large group) Tj
T* (                                        map, since this call does a sequential) Tj
T* (                                        scan of the map; in a large site this) Tj
T* (                                        can cause your ypserv to run) Tj
T* (                                        essentially full time.  If you set) Tj
T* (                                        this, agents run on behalf of users) Tj
T* (                                        will only have their primary) Tj
T* (                                        \(/etc/passwd\) group permissions.) Tj
T* (confUNSAFE_GROUP_WRITES UnsafeGroupWrites) Tj
T* (                                        [False] If set, group-writable) Tj
T* (                                        :include: and .forward files are) Tj
T* (                                        considered "unsafe", that is, programs) Tj
T* (                                        and files cannot be directly referenced) Tj
T* (                                        from such files.  World-writable files) Tj
T* (                                        are always considered unsafe.) Tj
T* (confCONNECT_ONLY_TO     ConnectOnlyTo   [undefined] override connection) Tj
T* (                                        address \(for testing\).) Tj
T* (confCONTROL_SOCKET_NAME ControlSocketName) Tj
T* (                                        [undefined] Control socket for daemon) Tj
T* (                                        management.) Tj
T* (confDOUBLE_BOUNCE_ADDRESS  DoubleBounceAddress) Tj
T* (                                        [postmaster] If an error occurs when) Tj
T* (                                        sending an error message, send that) Tj
T* (                                        "double bounce" error message to this) Tj
ET
endstream
endobj
213 0 obj
4759
endobj
214 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 215 0 R
/Rotate 0
>>
endobj
215 0 obj
<<
/Length 216 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (                                        address.  If it expands to an empty) Tj
T* (                                        string, double bounces are dropped.) Tj
T* (confDEAD_LETTER_DROP    DeadLetterDrop  [undefined] Filename to save bounce) Tj
T* (                                        messages which could not be returned) Tj
T* (                                        to the user or sent to postmaster.) Tj
T* (                                        If not set, the queue file will) Tj
T* (                                        be renamed.) Tj
T* (confRRT_IMPLIES_DSN     RrtImpliesDsn   [False] Return-Receipt-To: header) Tj
T* (                                        implies DSN request.) Tj
T* (confRUN_AS_USER         RunAsUser       [undefined] If set, become this user) Tj
T* (                                        when reading and delivering mail.) Tj
T* (                                        Causes all file reads \(e.g., .forward) Tj
T* (                                        and :include: files\) to be done as) Tj
T* (                                        this user.  Also, all programs will) Tj
T* (                                        be run as this user, and all output) Tj
T* (                                        files will be written as this user.) Tj
T* (                                        Intended for use only on firewalls) Tj
T* (                                        where users do not have accounts.) Tj
T* (confMAX_RCPTS_PER_MESSAGE  MaxRecipientsPerMessage) Tj
T* (                                        [infinite] If set, allow no more than) Tj
T* (                                        the specified number of recipients in) Tj
T* (                                        an SMTP envelope.  Further recipients) Tj
T* (                                        receive a 452 error code \(i.e., they) Tj
T* (                                        are deferred for the next delivery) Tj
T* (                                        attempt\).) Tj
T* (confBAD_RCPT_THROTTLE   BadRcptThrottle [infinite] If set and more than the) Tj
T* (                                        specified number of recipients in an) Tj
T* (                                        envelope are rejected, sleep for one) Tj
T* (                                        second after each rejected RCPT) Tj
T* (                                        command.) Tj
T* (confDONT_PROBE_INTERFACES  DontProbeInterfaces) Tj
T* (                                        [False] If set, sendmail will _not_) Tj
T* (                                        insert the names and addresses of any) Tj
T* (                                        local interfaces into class {w}) Tj
T* (                                        \(list of known "equivalent" addresses\).) Tj
T* (                                        If you set this, you must also include) Tj
T* (                                        some support for these addresses \(e.g.,) Tj
T* (                                        in a mailertable entry\) -- otherwise,) Tj
T* (                                        mail to addresses in this list will) Tj
T* (                                        bounce with a configuration error.) Tj
T* (                                        If set to "loopback" \(without) Tj
T* (                                        quotes\), sendmail will skip) Tj
T* (                                        loopback interfaces \(e.g., "lo0"\).) Tj
T* (confPID_FILE            PidFile         [system dependent] Location of pid) Tj
T* (                                        file.) Tj
T* (confPROCESS_TITLE_PREFIX  ProcessTitlePrefix) Tj
T* (                                        [undefined] Prefix string for the) Tj
T* (                                        process title shown on 'ps' listings.) Tj
T* (confDONT_BLAME_SENDMAIL DontBlameSendmail) Tj
T* (                                        [safe] Override sendmail's file) Tj
T* (                                        safety checks.  This will definitely) Tj
T* (                                        compromise system security and should) Tj
T* (                                        not be used unless absolutely) Tj
T* (                                        necessary.) Tj
T* (confREJECT_MSG          -               [550 Access denied] The message) Tj
T* (                                        given if the access database contains) Tj
T* (                                        REJECT in the value portion.) Tj
T* (confRELAY_MSG           -               [550 Relaying denied] The message) Tj
T* (                                        given if an unauthorized relaying) Tj
T* (                                        attempt is rejected.) Tj
ET
endstream
endobj
216 0 obj
4780
endobj
217 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 218 0 R
/Rotate 0
>>
endobj
218 0 obj
<<
/Length 219 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (confDF_BUFFER_SIZE      DataFileBufferSize) Tj
T* (                                        [4096] The maximum size of a) Tj
T* (                                        memory-buffered data \(df\) file) Tj
T* (                                        before a disk-based file is used.) Tj
T* (confXF_BUFFER_SIZE      XScriptFileBufferSize) Tj
T* (                                        [4096] The maximum size of a) Tj
T* (                                        memory-buffered transcript \(xf\)) Tj
T* (                                        file before a disk-based file is) Tj
T* (                                        used.) Tj
T* (confAUTH_MECHANISMS     AuthMechanisms  [GSSAPI KERBEROS_V4 DIGEST-MD5) Tj
T* (                                        CRAM-MD5] List of authentication) Tj
T* (                                        mechanisms for AUTH \(separated by) Tj
T* (                                        spaces\).  The advertised list of) Tj
T* (                                        authentication mechanisms will be the) Tj
T* (                                        intersection of this list and the list) Tj
T* (                                        of available mechanisms as determined) Tj
T* (                                        by the CYRUS SASL library.) Tj
T* (confDEF_AUTH_INFO       DefaultAuthInfo [undefined] Name of file that contains) Tj
T* (                                        authentication information for) Tj
T* (                                        outgoing connections.  This file must) Tj
T* (                                        contain the user id, the authorization) Tj
T* (                                        id, the password \(plain text\), the) Tj
T* (                                        realm to use, and the list of) Tj
T* (                                        mechanisms to try, each on a separate) Tj
T* (                                        line and must be readable by root \(or) Tj
T* (                                        the trusted user\) only.  If no realm) Tj
T* (                                        is specified, $j is used.  If no) Tj
T* (                                        mechanisms are given in the file,) Tj
T* (                                        AuthMechanisms is used.  Notice: this) Tj
T* (                                        option is deprecated and will be) Tj
T* (                                        removed in future versions; it doesn't) Tj
T* (                                        work for the MSP since it can't read) Tj
T* (                                        the file.  Use the authinfo ruleset) Tj
T* (                                        instead.  See also the section SMTP) Tj
T* (                                        AUTHENTICATION.) Tj
T* (confAUTH_OPTIONS        AuthOptions     [undefined] If this option is 'A') Tj
T* (                                        then the AUTH= parameter for the) Tj
T* (                                        MAIL FROM command is only issued) Tj
T* (                                        when authentication succeeded.) Tj
T* (                                        Other values \(which should be listed) Tj
T* (                                        one after the other without any) Tj
T* (                                        intervening characters except for) Tj
T* (                                        space or comma\) are a, c, d, f, p,) Tj
T* (                                        and y.  See doc/op/op.me for) Tj
T* (                                        details.) Tj
T* (confAUTH_MAX_BITS       AuthMaxBits     [INT_MAX] Limit the maximum encryption) Tj
T* (                                        strength for the security layer in) Tj
T* (                                        SMTP AUTH \(SASL\).  Default is) Tj
T* (                                        essentially unlimited.) Tj
T* (confTLS_SRV_OPTIONS     TLSSrvOptions   If this option is 'V' no client) Tj
T* (                                        verification is performed, i.e.,) Tj
T* (                                        the server doesn't ask for a) Tj
T* (                                        certificate.) Tj
T* (confLDAP_DEFAULT_SPEC   LDAPDefaultSpec [undefined] Default map) Tj
T* (                                        specification for LDAP maps.  The) Tj
T* (                                        value should only contain LDAP) Tj
T* (                                        specific settings such as "-h host) Tj
T* (                                        -p port -d bindDN", etc.  The) Tj
T* (                                        settings will be used for all LDAP) Tj
T* (                                        maps unless they are specified in) Tj
ET
endstream
endobj
219 0 obj
4801
endobj
220 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 221 0 R
/Rotate 0
>>
endobj
221 0 obj
<<
/Length 222 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (                                        the individual map specification) Tj
T* (                                        \('K' command\).) Tj
T* (confCACERT_PATH         CACERTPath      [undefined] Path to directory) Tj
T* (                                        with certs of CAs.) Tj
T* (confCACERT              CACERTFile      [undefined] File containing one CA) Tj
T* (                                        cert.) Tj
T* (confSERVER_CERT         ServerCertFile  [undefined] File containing the) Tj
T* (                                        cert of the server, i.e., this cert) Tj
T* (                                        is used when sendmail acts as) Tj
T* (                                        server.) Tj
T* (confSERVER_KEY          ServerKeyFile   [undefined] File containing the) Tj
T* (                                        private key belonging to the server) Tj
T* (                                        cert.) Tj
T* (confCLIENT_CERT         ClientCertFile  [undefined] File containing the) Tj
T* (                                        cert of the client, i.e., this cert) Tj
T* (                                        is used when sendmail acts as) Tj
T* (                                        client.) Tj
T* (confCLIENT_KEY          ClientKeyFile   [undefined] File containing the) Tj
T* (                                        private key belonging to the client) Tj
T* (                                        cert.) Tj
T* (confDH_PARAMETERS       DHParameters    [undefined] File containing the) Tj
T* (                                        DH parameters.) Tj
T* (confRAND_FILE           RandFile        [undefined] File containing random) Tj
T* (                                        data \(use prefix ) Tj
 0 0 1 rg
 (file:\)) Tj
 0 0 0 rg
 ( or the) Tj
T* (                                        name of the UNIX socket if EGD is) Tj
T* (                                        used \(use prefix egd:\).  STARTTLS) Tj
T* (                                        requires this option if the compile) Tj
T* (                                        flag HASURANDOM is not set \(see) Tj
T* (                                        sendmail/README\).) Tj
T* (confNICE_QUEUE_RUN      NiceQueueRun    [undefined]  If set, the priority of) Tj
T* (                                        queue runners is set the given value) Tj
T* (                                        \(nice\(3\)\).) Tj
T* (confDIRECT_SUBMISSION_MODIFIERS DirectSubmissionModifiers) Tj
T* (                                        [undefined] Defines {daemon_flags}) Tj
T* (                                        for direct submissions.) Tj
T* (confUSE_MSP             UseMSP          [false] Use as mail submission) Tj
T* (                                        program, see sendmail/SECURITY.) Tj
T* (confDELIVER_BY_MIN      DeliverByMin    [0] Minimum time for Deliver By) Tj
T* (                                        SMTP Service Extension \(RFC 2852\).) Tj
T* (confSHARED_MEMORY_KEY   SharedMemoryKey [0] Key for shared memory.) Tj
T* (confFAST_SPLIT          FastSplit       [1] If set to a value greater than) Tj
T* (                                        zero, the initial MX lookups on) Tj
T* (                                        addresses is suppressed when they) Tj
T* (                                        are sorted which may result in) Tj
T* (                                        faster envelope splitting.  If the) Tj
T* (                                        mail is submitted directly from the) Tj
T* (                                        command line, then the value also) Tj
T* (                                        limits the number of processes to) Tj
T* (                                        deliver the envelopes.) Tj
T* (confMAILBOX_DATABASE    MailboxDatabase [pw] Type of lookup to find) Tj
T* (                                        information about local mailboxes.) Tj
T* (confDEQUOTE_OPTS        -               [empty] Additional options for the) Tj
T* (                                        dequote map.) Tj
T* (confINPUT_MAIL_FILTERS  InputMailFilters) Tj
T* (                                        A comma separated list of filters) Tj
T* (                                        which determines which filters and) Tj
T* (                                        the invocation sequence are) Tj
T* (                                        contacted for incoming SMTP) Tj
T* (                                        messages.  If none are set, no) Tj
T* (                                        filters will be contacted.) Tj
ET
endstream
endobj
222 0 obj
4641
endobj
223 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 224 0 R
/Rotate 0
>>
endobj
224 0 obj
<<
/Length 225 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (confMILTER_LOG_LEVEL    Milter.LogLevel [9] Log level for input mail filter) Tj
T* (                                        actions, defaults to LogLevel.) Tj
T* (confMILTER_MACROS_CONNECT       Milter.macros.connect) Tj
T* (                                        [empty] Macros to transmit to milters) Tj
T* (                                        when a session connection starts.) Tj
T* (confMILTER_MACROS_HELO  Milter.macros.helo) Tj
T* (                                        [empty] Macros to transmit to milters) Tj
T* (                                        after HELO command.) Tj
T* (confMILTER_MACROS_ENVFROM       Milter.macros.envfrom) Tj
T* (                                        [empty] Macros to transmit to milters) Tj
T* (                                        after MAIL FROM command.) Tj
T* (confMILTER_MACROS_ENVRCPT       Milter.macros.envrcpt) Tj
T* (                                        [empty] Macros to transmit to milters) Tj
T* (                                        after RCPT TO command.) Tj
T* () Tj
T* () Tj
T* (See also the description of OSTYPE for some parameters that can be) Tj
T* (tweaked \(generally pathnames to mailers\).) Tj
T* () Tj
T* (ClientPortOptions and DaemonPortOptions are special cases since multiple) Tj
T* (clients/daemons can be defined.  This can be done via) Tj
T* () Tj
T* (        CLIENT_OPTIONS\(`field1=value1,field2=value2,...'\)) Tj
T* (        DAEMON_OPTIONS\(`field1=value1,field2=value2,...'\)) Tj
T* () Tj
T* (Note that multiple CLIENT_OPTIONS\(\) commands \(and therefore multiple) Tj
T* (ClientPortOptions settings\) are allowed in order to give settings for each) Tj
T* (protocol family \(e.g., one for Family=inet and one for Family=inet6\).  A) Tj
T* (restriction placed on one family only affects outgoing connections on that) Tj
T* (particular family.) Tj
T* () Tj
T* (If DAEMON_OPTIONS is not used, then the default is) Tj
T* () Tj
T* (        DAEMON_OPTIONS\(`Port=smtp, Name=MTA'\)) Tj
T* (        DAEMON_OPTIONS\(`Port=587, Name=MSA, M=E'\)) Tj
T* () Tj
T* (If you use one DAEMON_OPTIONS macro, it will alter the parameters) Tj
T* (of the first of these.  The second will still be defaulted; it) Tj
T* (represents a "Message Submission Agent" \(MSA\) as defined by RFC) Tj
T* (2476 \(see below\).  To turn off the default definition for the MSA,) Tj
T* (use FEATURE\(`no_default_msa'\) \(see also FEATURES\).  If you use) Tj
T* (additional DAEMON_OPTIONS macros, they will add additional daemons.) Tj
T* () Tj
T* (Example 1:  To change the port for the SMTP listener, while) Tj
T* (still using the MSA default, use) Tj
T* (        DAEMON_OPTIONS\(`Port=925, Name=MTA'\)) Tj
T* () Tj
T* (Example 2:  To change the port for the MSA daemon, while still) Tj
T* (using the default SMTP port, use) Tj
T* (        FEATURE\(`no_default_msa'\)) Tj
T* (        DAEMON_OPTIONS\(`Name=MTA'\)) Tj
T* (        DAEMON_OPTIONS\(`Port=987, Name=MSA, M=E'\)) Tj
T* () Tj
T* (Note that if the first of those DAEMON_OPTIONS lines were omitted, then) Tj
T* (there would be no listener on the standard SMTP port.) Tj
T* () Tj
T* (Example 3: To listen on both IPv4 and IPv6 interfaces, use) Tj
T* () Tj
T* (        DAEMON_OPTIONS\(`Name=MTA-v4, Family=inet'\)) Tj
T* (        DAEMON_OPTIONS\(`Name=MTA-v6, Family=inet6'\)) Tj
ET
endstream
endobj
225 0 obj
3337
endobj
226 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 227 0 R
/Rotate 0
>>
endobj
227 0 obj
<<
/Length 228 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* () Tj
T* (A "Message Submission Agent" still uses all of the same rulesets for) Tj
T* (processing the message \(and therefore still allows message rejection via) Tj
T* (the check_* rulesets\).  In accordance with the RFC, the MSA will ensure) Tj
T* (that all domains in the envelope are fully qualified if the message is) Tj
T* (relayed to another MTA.  It will also enforce the normal address syntax) Tj
T* (rules and log error messages.  Additionally, by using the M=a modifier) Tj
T* (you can require authentication before messages are accepted by the MSA.) Tj
T* (Notice: Do NOT use the 'a' modifier on a public accessible MTA!) Tj
T* (Finally, the M=E modifier shown above disables ETRN as required by RFC) Tj
T* (2476.) Tj
T* () Tj
T* (Mail filters can be defined using the INPUT_MAIL_FILTER\(\) and MAIL_FILTER\(\)) Tj
T* (commands:) Tj
T* () Tj
T* (        INPUT_MAIL_FILTER\(`sample', `S=local:/var/run/f1.sock'\)) Tj
T* (        MAIL_FILTER\(`myfilter', `S=inet:3333@localhost'\)) Tj
T* () Tj
T* (The INPUT_MAIL_FILTER\(\) command causes the filter\(s\) to be called in the) Tj
T* (same order they were specified by also setting confINPUT_MAIL_FILTERS.  A) Tj
T* (filter can be defined without adding it to the input filter list by using) Tj
T* (MAIL_FILTER\(\) instead of INPUT_MAIL_FILTER\(\) in your .mc file.) Tj
T* (Alternatively, you can reset the list of filters and their order by setting) Tj
T* (confINPUT_MAIL_FILTERS option after all INPUT_MAIL_FILTER\(\) commands in) Tj
T* (your .mc file.) Tj
T* () Tj
T* () Tj
T* (+----------------------------+) Tj
T* (| MESSAGE SUBMISSION PROGRAM |) Tj
T* (+----------------------------+) Tj
T* () Tj
T* (The purpose of the message submission program \(MSP\) is explained) Tj
T* (in sendmail/SECURITY.  This section contains a list of caveats and) Tj
T* (a few hints how for those who want to tweak the default configuration) Tj
T* (for it \(which is installed as submit.cf\).) Tj
T* () Tj
T* (Notice: do not add options/features to submit.mc unless you are) Tj
T* (absolutely sure you need them.  Options you may want to change) Tj
T* (include:) Tj
T* () Tj
T* (- confTIME_ZONE on OS that don't use the default, e.g., Irix.) Tj
T* (- confDELIVERY_MODE is set to interactive in msp.m4 instead) Tj
T* (  of the default background mode.) Tj
T* () Tj
T* (Some things are not intended to work with the MSP.  These include) Tj
T* (features that influence the delivery process \(e.g., mailertable,) Tj
T* (aliases\), or those that are only important for a SMTP server \(e.g.,) Tj
T* (virtusertable, DaemonPortOptions, multiple queues\).  Moreover,) Tj
T* (relaxing certain restrictions \(RestrictQueueRun, permissions on) Tj
T* (queue directory\) or adding features \(e.g., enabling prog/file mailer\)) Tj
T* (can cause security problems.) Tj
T* () Tj
T* (Other things don't work well with the MSP and require tweaking or) Tj
T* (workarounds.  For example, to allow for client authentication it) Tj
T* (is not just sufficient to provide a client certificate and the) Tj
T* (corresponding key, but it is also necessary to make the key group) Tj
T* (\(smmsp\) readable and tell sendmail not to complain about that, i.e.,) Tj
T* () Tj
T* (        define\(`confDONT_BLAME_SENDMAIL', `GroupReadableKeyFile'\)) Tj
T* () Tj
ET
endstream
endobj
228 0 obj
3313
endobj
229 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 230 0 R
/Rotate 0
>>
endobj
230 0 obj
<<
/Length 231 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (If the MSP should actually use AUTH then the necessary data) Tj
T* (should be placed in a map as explained in SMTP AUTHENTICATION:) Tj
T* () Tj
T* (FEATURE\(`authinfo', `DATABASE_MAP_TYPE /etc/mail/msp-authinfo'\)) Tj
T* () Tj
T* (/etc/mail/msp-authinfo should contain an entry like:) Tj
T* () Tj
T* (        AuthInfo:127.0.0.1      "U:smmsp" "P:secret" "M:DIGEST-MD5") Tj
T* () Tj
T* (The file and the map created by makemap should be owned by smmsp,) Tj
T* (its group should be smmsp, and it should have mode 640.  The database) Tj
T* (used by the MTA for AUTH must have a corresponding entry.) Tj
T* (Additionally the MTA must trust this authentication data so the AUTH=) Tj
T* (part will be relayed on to the next hop.  This can be achieved by) Tj
T* (adding the following to your sendmail.mc ) Tj
 0 0 1 rg
 (file:) Tj
 0 0 0 rg
 () Tj
T* () Tj
T* (        LOCAL_RULESETS) Tj
T* (        SLocal_trust_auth) Tj
T* (        R$*     $: $&{auth_authen}) Tj
T* (        Rsmmsp  $# OK) Tj
T* () Tj
T* (feature/msp.m4 defines almost all settings for the MSP.  Most of) Tj
T* (those should not be changed at all.  Some of the features and options) Tj
T* (can be overridden if really necessary.  It is a bit tricky to do) Tj
T* (this, because it depends on the actual way the option is defined) Tj
T* (in feature/msp.m4.  If it is directly defined \(i.e., define\(\)\) then) Tj
T* (the modified value must be defined after) Tj
T* () Tj
T* (        FEATURE\(`msp'\)) Tj
T* () Tj
T* (If it is conditionally defined \(i.e., ifdef\(\)\) then the desired) Tj
T* (value must be defined before the FEATURE line in the .mc file.) Tj
T* (To see how the options are defined read feature/msp.m4.) Tj
T* () Tj
T* () Tj
T* (+--------------------------+) Tj
T* (| FORMAT OF FILES AND MAPS |) Tj
T* (+--------------------------+) Tj
T* () Tj
T* (Files that define classes, i.e., F{classname}, consist of lines) Tj
T* (each of which contains a single element of the class.  For example,) Tj
T* (/etc/mail/local-host-names may have the following content:) Tj
T* () Tj
T* (my.domain) Tj
T* (another.domain) Tj
T* () Tj
T* (Maps must be created using makemap\(8\) , e.g.,) Tj
T* () Tj
T* (        makemap hash MAP < MAP) Tj
T* () Tj
T* (In general, a text file from which a map is created contains lines) Tj
T* (of the form) Tj
T* () Tj
T* (key     value) Tj
T* () Tj
T* (where 'key' and 'value' are also called LHS and RHS, respectively.) Tj
T* (By default, the delimiter between LHS and RHS is a non-empty sequence) Tj
T* (of white space characters.) Tj
T* () Tj
T* () Tj
ET
endstream
endobj
231 0 obj
2595
endobj
232 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 233 0 R
/Rotate 0
>>
endobj
233 0 obj
<<
/Length 234 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (+------------------+) Tj
T* (| DIRECTORY LAYOUT |) Tj
T* (+------------------+) Tj
T* () Tj
T* (Within this directory are several subdirectories, to wit:) Tj
T* () Tj
T* (m4              General support routines.  These are typically) Tj
T* (                very important and should not be changed without) Tj
T* (                very careful consideration.) Tj
T* () Tj
T* (cf              The configuration files themselves.  They have) Tj
T* (                ".mc" suffixes, and must be run through m4 to) Tj
T* (                become complete.  The resulting output should) Tj
T* (                have a ".cf" suffix.) Tj
T* () Tj
T* (ostype          Definitions describing a particular operating) Tj
T* (                system type.  These should always be referenced) Tj
T* (                using the OSTYPE macro in the .mc file.  Examples) Tj
T* (                include "bsd4.3", "bsd4.4", "sunos3.5", and) Tj
T* (                "sunos4.1".) Tj
T* () Tj
T* (domain          Definitions describing a particular domain, referenced) Tj
T* (                using the DOMAIN macro in the .mc file.  These are) Tj
T* (                site dependent; for example, "CS.Berkeley.EDU.m4") Tj
T* (                describes hosts in the CS.Berkeley.EDU subdomain.) Tj
T* () Tj
T* (mailer          Descriptions of mailers.  These are referenced using) Tj
T* (                the MAILER macro in the .mc file.) Tj
T* () Tj
T* (sh              Shell files used when building the .cf file from the) Tj
T* (                .mc file in the cf subdirectory.) Tj
T* () Tj
T* (feature         These hold special orthogonal features that you might) Tj
T* (                want to include.  They should be referenced using) Tj
T* (                the FEATURE macro.) Tj
T* () Tj
T* (hack            Local hacks.  These can be referenced using the HACK) Tj
T* (                macro.  They shouldn't be of more than voyeuristic) Tj
T* (                interest outside the .Berkeley.EDU domain, but who knows?) Tj
T* () Tj
T* (siteconfig      Site configuration -- e.g., tables of locally connected) Tj
T* (                UUCP sites.) Tj
T* () Tj
T* () Tj
T* (+------------------------+) Tj
T* (| ADMINISTRATIVE DETAILS |) Tj
T* (+------------------------+) Tj
T* () Tj
T* (The following sections detail usage of certain internal parts of the) Tj
T* (sendmail.cf file.  Read them carefully if you are trying to modify) Tj
T* (the current model.  If you find the above descriptions adequate, these) Tj
T* (should be {boring, confusing, tedious, ridiculous} \(pick one or more\).) Tj
T* () Tj
T* (RULESETS \(* means built in to sendmail\)) Tj
T* () Tj
T* (   0 *  Parsing) Tj
T* (   1 *  Sender rewriting) Tj
T* (   2 *  Recipient rewriting) Tj
T* (   3 *  Canonicalization) Tj
T* (   4 *  Post cleanup) Tj
ET
endstream
endobj
234 0 obj
2838
endobj
235 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 236 0 R
/Rotate 0
>>
endobj
236 0 obj
<<
/Length 237 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (   5 *  Local address rewrite \(after aliasing\)) Tj
T* (  1x    mailer rules \(sender qualification\)) Tj
T* (  2x    mailer rules \(recipient qualification\)) Tj
T* (  3x    mailer rules \(sender header qualification\)) Tj
T* (  4x    mailer rules \(recipient header qualification\)) Tj
T* (  5x    mailer subroutines \(general\)) Tj
T* (  6x    mailer subroutines \(general\)) Tj
T* (  7x    mailer subroutines \(general\)) Tj
T* (  8x    reserved) Tj
T* (  90    Mailertable host stripping) Tj
T* (  96    Bottom half of Ruleset 3 \(ruleset 6 in old sendmail\)) Tj
T* (  97    Hook for recursive ruleset 0 call \(ruleset 7 in old sendmail\)) Tj
T* (  98    Local part of ruleset 0 \(ruleset 8 in old sendmail\)) Tj
T* () Tj
T* () Tj
T* (MAILERS) Tj
T* () Tj
T* (   0    local, prog     local and program mailers) Tj
T* (   1    [e]smtp, relay  SMTP channel) Tj
T* (   2    uucp-*          UNIX-to-UNIX Copy Program) Tj
T* (   3    netnews         Network News delivery) Tj
T* (   4    fax             Sam Leffler's HylaFAX software) Tj
T* (   5    mail11          DECnet mailer) Tj
T* () Tj
T* () Tj
T* (MACROS) Tj
T* () Tj
T* (   A) Tj
T* (   B    Bitnet Relay) Tj
T* (   C    DECnet Relay) Tj
T* (   D    The local domain -- usually not needed) Tj
T* (   E    reserved for X.400 Relay) Tj
T* (   F    FAX Relay) Tj
T* (   G) Tj
T* (   H    mail Hub \(for mail clusters\)) Tj
T* (   I) Tj
T* (   J) Tj
T* (   K) Tj
T* (   L    Luser Relay) Tj
T* (   M    Masquerade \(who you claim to be\)) Tj
T* (   N) Tj
T* (   O) Tj
T* (   P) Tj
T* (   Q) Tj
T* (   R    Relay \(for unqualified names\)) Tj
T* (   S    Smart Host) Tj
T* (   T) Tj
T* (   U    my UUCP name \(if you have a UUCP connection\)) Tj
T* (   V    UUCP Relay \(class {V} hosts\)) Tj
T* (   W    UUCP Relay \(class {W} hosts\)) Tj
T* (   X    UUCP Relay \(class {X} hosts\)) Tj
T* (   Y    UUCP Relay \(all other hosts\)) Tj
T* (   Z    Version number) Tj
T* () Tj
T* () Tj
T* (CLASSES) Tj
T* () Tj
T* (   A) Tj
T* (   B    domains that are candidates for bestmx lookup) Tj
T* (   C) Tj
ET
endstream
endobj
237 0 obj
2096
endobj
238 0 obj
<<
/Type /Page
/Parent 21 0 R
/Resources 27 0 R
/Contents 239 0 R
/Rotate 0
/Annots [ 18 0 R ]
>>
endobj
239 0 obj
<<
/Length 240 0 R
>>
stream
BT
/F1 10 Tf
1 0 0 1 50 752 Tm
12 TL
T* (   D) Tj
T* (   E    addresses that should not seem to come from $M) Tj
T* (   F    hosts this system forward for) Tj
T* (   G    domains that should be looked up in genericstable) Tj
T* (   H) Tj
T* (   I) Tj
T* (   J) Tj
T* (   K) Tj
T* (   L    addresses that should not be forwarded to $R) Tj
T* (   M    domains that should be mapped to $M) Tj
T* (   N    host/domains that should not be mapped to $M) Tj
T* (   O    operators that indicate network operations \(cannot be in local names\)) Tj
T* (   P    top level pseudo-domains: BITNET, DECNET, FAX, UUCP, etc.) Tj
T* (   Q) Tj
T* (   R    domains this system is willing to relay \(pass anti-spam filters\)) Tj
T* (   S) Tj
T* (   T) Tj
T* (   U    locally connected UUCP hosts) Tj
T* (   V    UUCP hosts connected to relay $V) Tj
T* (   W    UUCP hosts connected to relay $W) Tj
T* (   X    UUCP hosts connected to relay $X) Tj
T* (   Y    locally connected smart UUCP hosts) Tj
T* (   Z    locally connected domain-ized UUCP hosts) Tj
T* (   .    the class containing only a dot) Tj
T* (   [    the class containing only a left bracket) Tj
T* () Tj
T* () Tj
T* (M4 DIVERSIONS) Tj
T* () Tj
T* (   1    Local host detection and resolution) Tj
T* (   2    Local Ruleset 3 additions) Tj
T* (   3    Local Ruleset 0 additions) Tj
T* (   4    UUCP Ruleset 0 additions) Tj
T* (   5    locally interpreted names \(overrides $R\)) Tj
T* (   6    local configuration \(at top of file\)) Tj
T* (   7    mailer definitions) Tj
T* (   8    DNS based blacklists) Tj
T* (   9    special local rulesets \(1 and 2\)) Tj
T* () Tj
T* ($Revision: 8.600 $, Last updated $Date: 2002/01/10 17:43:41 $) Tj
T* () Tj
T* (Generated by unregistered txt2pdf v.5.6 © SANFACE Software 2002) Tj
T* (Available at ) Tj
 0 0 1 rg
 (http://www.sanface.com/txt2pdf.html) Tj
 0 0 0 rg
 ( ) Tj
ET
endstream
endobj
240 0 obj
1858
endobj
20 0 obj
<<
/Type /Catalog
/Pages 21 0 R
>>
endobj
21 0 obj
<<
/Type /Pages
/Count 71
/MediaBox [ 0 0 612 792 ]
/Kids [ 28 0 R 31 0 R 34 0 R 37 0 R 40 0 R 43 0 R 46 0 R 49 0 R 52 0 R 55 0 R 58 0 R 61 0 R 64 0 R 67 0 R 70 0 R 73 0 R 76 0 R 79 0 R 82 0 R 85 0 R 88 0 R 91 0 R 94 0 R 97 0 R 100 0 R 103 0 R 106 0 R 109 0 R 112 0 R 115 0 R 118 0 R 121 0 R 124 0 R 127 0 R 130 0 R 133 0 R 136 0 R 139 0 R 142 0 R 145 0 R 148 0 R 151 0 R 154 0 R 157 0 R 160 0 R 163 0 R 166 0 R 169 0 R 172 0 R 175 0 R 178 0 R 181 0 R 184 0 R 187 0 R 190 0 R 193 0 R 196 0 R 199 0 R 202 0 R 205 0 R 208 0 R 211 0 R 214 0 R 217 0 R 220 0 R 223 0 R 226 0 R 229 0 R 232 0 R 235 0 R 238 0 R ]
>>
endobj
xref
0 241
0000000000 65535 f 
0000000015 00000 n 
0000000176 00000 n 
0000000320 00000 n 
0000000461 00000 n 
0000000621 00000 n 
0000000768 00000 n 
0000000910 00000 n 
0000001036 00000 n 
0000001162 00000 n 
0000001289 00000 n 
0000001417 00000 n 
0000001545 00000 n 
0000001673 00000 n 
0000001816 00000 n 
0000001959 00000 n 
0000002103 00000 n 
0000002266 00000 n 
0000002430 00000 n 
0000002586 00000 n 
0000262247 00000 n 
0000262298 00000 n 
0000002714 00000 n 
0000002810 00000 n 
0000002914 00000 n 
0000003015 00000 n 
0000003123 00000 n 
0000005225 00000 n 
0000005348 00000 n 
0000005442 00000 n 
0000007574 00000 n 
0000007595 00000 n 
0000007689 00000 n 
0000010983 00000 n 
0000011004 00000 n 
0000011098 00000 n 
0000014117 00000 n 
0000014138 00000 n 
0000014250 00000 n 
0000017201 00000 n 
0000017222 00000 n 
0000017316 00000 n 
0000020704 00000 n 
0000020725 00000 n 
0000020819 00000 n 
0000025334 00000 n 
0000025355 00000 n 
0000025449 00000 n 
0000030059 00000 n 
0000030080 00000 n 
0000030174 00000 n 
0000034272 00000 n 
0000034293 00000 n 
0000034387 00000 n 
0000037691 00000 n 
0000037712 00000 n 
0000037824 00000 n 
0000041828 00000 n 
0000041849 00000 n 
0000041961 00000 n 
0000045337 00000 n 
0000045358 00000 n 
0000045452 00000 n 
0000049290 00000 n 
0000049311 00000 n 
0000049405 00000 n 
0000053134 00000 n 
0000053155 00000 n 
0000053249 00000 n 
0000056866 00000 n 
0000056887 00000 n 
0000056981 00000 n 
0000060956 00000 n 
0000060977 00000 n 
0000061071 00000 n 
0000064757 00000 n 
0000064778 00000 n 
0000064872 00000 n 
0000068815 00000 n 
0000068836 00000 n 
0000068948 00000 n 
0000072741 00000 n 
0000072762 00000 n 
0000072856 00000 n 
0000076829 00000 n 
0000076850 00000 n 
0000076962 00000 n 
0000081105 00000 n 
0000081126 00000 n 
0000081238 00000 n 
0000085296 00000 n 
0000085317 00000 n 
0000085411 00000 n 
0000088631 00000 n 
0000088652 00000 n 
0000088746 00000 n 
0000091972 00000 n 
0000091993 00000 n 
0000092087 00000 n 
0000095400 00000 n 
0000095421 00000 n 
0000095517 00000 n 
0000098485 00000 n 
0000098507 00000 n 
0000098603 00000 n 
0000101365 00000 n 
0000101387 00000 n 
0000101483 00000 n 
0000104472 00000 n 
0000104494 00000 n 
0000104590 00000 n 
0000107871 00000 n 
0000107893 00000 n 
0000108013 00000 n 
0000110974 00000 n 
0000110996 00000 n 
0000111110 00000 n 
0000114023 00000 n 
0000114045 00000 n 
0000114160 00000 n 
0000117164 00000 n 
0000117186 00000 n 
0000117301 00000 n 
0000120325 00000 n 
0000120347 00000 n 
0000120462 00000 n 
0000123861 00000 n 
0000123883 00000 n 
0000123979 00000 n 
0000127318 00000 n 
0000127340 00000 n 
0000127436 00000 n 
0000130406 00000 n 
0000130428 00000 n 
0000130524 00000 n 
0000133811 00000 n 
0000133833 00000 n 
0000133929 00000 n 
0000137296 00000 n 
0000137318 00000 n 
0000137414 00000 n 
0000141120 00000 n 
0000141142 00000 n 
0000141238 00000 n 
0000144147 00000 n 
0000144169 00000 n 
0000144298 00000 n 
0000147689 00000 n 
0000147711 00000 n 
0000147807 00000 n 
0000150887 00000 n 
0000150909 00000 n 
0000151005 00000 n 
0000154377 00000 n 
0000154399 00000 n 
0000154514 00000 n 
0000157381 00000 n 
0000157403 00000 n 
0000157499 00000 n 
0000160549 00000 n 
0000160571 00000 n 
0000160667 00000 n 
0000163642 00000 n 
0000163664 00000 n 
0000163760 00000 n 
0000166878 00000 n 
0000166900 00000 n 
0000166996 00000 n 
0000170294 00000 n 
0000170316 00000 n 
0000170412 00000 n 
0000173229 00000 n 
0000173251 00000 n 
0000173347 00000 n 
0000176191 00000 n 
0000176213 00000 n 
0000176309 00000 n 
0000178993 00000 n 
0000179015 00000 n 
0000179111 00000 n 
0000182024 00000 n 
0000182046 00000 n 
0000182161 00000 n 
0000185509 00000 n 
0000185531 00000 n 
0000185627 00000 n 
0000188651 00000 n 
0000188673 00000 n 
0000188769 00000 n 
0000191793 00000 n 
0000191815 00000 n 
0000191911 00000 n 
0000196493 00000 n 
0000196515 00000 n 
0000196611 00000 n 
0000201379 00000 n 
0000201401 00000 n 
0000201497 00000 n 
0000206379 00000 n 
0000206401 00000 n 
0000206497 00000 n 
0000210930 00000 n 
0000210952 00000 n 
0000211048 00000 n 
0000215600 00000 n 
0000215622 00000 n 
0000215718 00000 n 
0000220383 00000 n 
0000220405 00000 n 
0000220501 00000 n 
0000225448 00000 n 
0000225470 00000 n 
0000225566 00000 n 
0000230381 00000 n 
0000230403 00000 n 
0000230499 00000 n 
0000235335 00000 n 
0000235357 00000 n 
0000235453 00000 n 
0000240310 00000 n 
0000240332 00000 n 
0000240428 00000 n 
0000245125 00000 n 
0000245147 00000 n 
0000245243 00000 n 
0000248636 00000 n 
0000248658 00000 n 
0000248754 00000 n 
0000252123 00000 n 
0000252145 00000 n 
0000252241 00000 n 
0000254892 00000 n 
0000254914 00000 n 
0000255010 00000 n 
0000257904 00000 n 
0000257926 00000 n 
0000258022 00000 n 
0000260174 00000 n 
0000260196 00000 n 
0000260311 00000 n 
0000262225 00000 n 
trailer
<<
/Size 241
/Root 20 0 R
/Info 19 0 R
>>
startxref
262923
%%EOF
